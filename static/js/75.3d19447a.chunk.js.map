{"version":3,"file":"static/js/75.3d19447a.chunk.js","mappings":"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","sources":["views/pages/Dashboard.js","services/module.js","views/components/Pagination.js","views/pages/Module.js","services/file.js","utils/UploadImage.js","views/pages/SubAdmin.js","services/bhagwan.js","services/kalyanak.js","services/jinalaya.js","views/pages/temple/Kalyanak.js","views/pages/Bhagwan.js","services/location.js","services/shala.js","views/pages/temple/Shala.js","utils/GoogleMapsModal.js","views/pages/temple/Jinalaya.js","views/pages/location/City.js","views/pages/location/District.js","views/pages/location/State.js","services/event.js","views/pages/Event.js","services/job.js","views/pages/jobPortal/Job.js","views/pages/jobPortal/JobSeeker.js","services/ecomm.js","views/pages/UserProfileModal.js","views/pages/User.js","views/pages/ecomm/SubCategory.js","views/pages/ecomm/Category.js","views/pages/ecomm/Attribute.js","views/pages/ecomm/ProductAttributes.js","views/pages/ecomm/Products.js","services/banner.js","views/pages/Banner.js","views/pages/ecomm/OrderDetail.js","views/pages/ecomm/Order.js","services/jainWorld.js","views/pages/jainWorld/Image.js","utils/UploadVideo.js","views/pages/jainWorld/Video.js","services/music.js","views/pages/music/SingerType.js","views/pages/music/SingerFile.js","views/pages/music/Singer.js","views/pages/music/SongCategory.js","utils/UploadAudio.js","views/pages/music/Song.js","views/pages/temple/Parshwanath108.js","services/setting.js","views/pages/Setting.js","services/yatra.js","views/pages/yatra/YatraPhotos.js","views/layout/route.js","views/pages/user/Profile.js","views/pages/user/ChangePassword.js","views/layout/Menu.js","views/layout/Breadcrumb.js","views/pages/errors/Error404.js","views/layout/Top.js","views/layout/Layout.js"],"sourcesContent":["const App = () => {\r\n    return (\r\n        <>\r\n            <h2 style={{textAlign: 'center'}}>Dashboard Coming Soon...</h2>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default App;","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'module';\r\n\r\n    static list(data) {\r\n        return axios.get(this.baseURL + '/list', { params: data });\r\n    }\r\n    static save(data) {\r\n        return axios.post(this.baseURL + \"/save\", data);\r\n    }\r\n    static delete(id) {\r\n        return axios.post(this.baseURL + '/delete', {ids: id});\r\n    }\r\n\r\n}","import { Pagination, Tag } from 'antd';\r\nexport default function MyPagination(props) {\r\n    const { qData, setQData } = props;\r\n\r\n    const handleChange = (page, pp) => {\r\n        if (qData.limit !== pp) {\r\n            setQData({ ...qData, page: 1, limit: pp });\r\n        } else {\r\n            setQData({ ...qData, page: page });\r\n        }\r\n    }\r\n\r\n    const showTotal = () => {\r\n        let start = (qData.page - 1) * qData.limit * 1 + 1;\r\n        let end = qData.page * qData.limit;\r\n        return <Tag>{'Showing ' + start + ' - ' + end + ' out of ' + qData.total}</Tag>\r\n    }\r\n    return (\r\n        <>\r\n            {\r\n                qData.total > 0\r\n                    ? <Pagination\r\n                        total={qData.total}\r\n                        showTotal={showTotal}\r\n                        pageSize={qData.limit}\r\n                        current={qData.page}\r\n                        onChange={handleChange}\r\n                        showSizeChanger={true}\r\n                    />\r\n                    : null\r\n            }\r\n        </>\r\n    );\r\n};\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined } from '@ant-design/icons';\r\n\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../services/module';\r\nimport Pagination from '../components/Pagination';\r\nimport { AntdMsg } from '../../utils/Antd';\r\nimport util from '../../utils/util';\r\n\r\nexport default function Module() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20 });\r\n    const addModalRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Title',\r\n            dataIndex: 'title',\r\n            width: 300,\r\n        },\r\n        {\r\n            title: 'Code',\r\n            dataIndex: 'code',\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            render: (v, row) => {\r\n                return <>\r\n                    <Popconfirm\r\n                        title=\"Are you sure to delete this module?\"\r\n                        onConfirm={() => { deleteData(row._id); }}\r\n                        okText=\"Yes\"\r\n                        cancelText=\"No\"\r\n                    >\r\n                        <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                    </Popconfirm>\r\n                    <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addModalRef.current.openForm(row) }} />\r\n                </>\r\n            }\r\n        },\r\n    ];\r\n\r\n    function list() {\r\n        setLoading(true);\r\n        service.list(qData).then(res => {\r\n            setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n            setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n        }).catch(err => { }).finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.delete(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addModalRef, selected, deleteData, qData, setQData, list }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            <Typography.Title level={5}>List of Modules</Typography.Title>\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addModalRef} {...{ list }} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addModalRef, selected, deleteData, qData, setQData, list }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{marginBottom: 0}}>\r\n                        <Input placeholder=\"Search by name or code\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={4}>\r\n                    <Form.Item style={{marginBottom: 0}}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                        <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addModalRef.current.openForm() }}>Add New</Button>\r\n                    </Form.Item>\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected modules?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({});\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(dt ? { ...dt } : { status: true });\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n\r\n        service.save(data).then((res) => {\r\n            AntdMsg(res.message);\r\n            setOpen(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!data._id) {\r\n            handleChange(util.removeSpecialChars(data?.title || ''), 'code');\r\n        }\r\n    }, [data.title])\r\n\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Module'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={500}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button>,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Form layout=\"vertical\">\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Title\" required>\r\n                                    <Input placeholder=\"Title\" value={data.title} onChange={e => { handleChange(e.target.value, 'title') }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Code\" required>\r\n                                    <Input placeholder=\"Code\" value={data.code} onChange={e => { handleChange(util.removeSpecialChars(e.target.value), 'code') }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'file';\r\n\r\n    static get(url) {\r\n        return axios.get(\"../\"+  url);\r\n    }\r\n\r\n    static save(data, config) {\r\n        return axios.post(this.baseURL + \"/save\", data, config);\r\n    }\r\n    static remove(data) {\r\n        return axios.post(this.baseURL + \"/remove\", data);\r\n    }\r\n\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Upload } from \"antd\";\r\nimport ImgCrop from 'antd-img-crop';\r\nimport fileService from \"../services/file\";\r\nimport React from \"react\";\r\n\r\nexport default function UploadImage({ fileList, setFileList, count = 1, cropImage = null, disabled = false, listType = \"picture-card\" }) {\r\n    const uploadImage = async options => {\r\n        const { onSuccess, onError, file, onProgress } = options;\r\n\r\n        const fmData = new FormData();\r\n        const config = { onUploadProgress: event => { onProgress({ percent: (event.loaded / event.total) * 100 }); } };\r\n        fmData.append(\"file\", file);\r\n        try {\r\n            fileService.save(fmData, config).then(res => {\r\n                onSuccess(\"Ok\");\r\n                setFileList([...fileList, { uid: res.data.uid, url: res.data.url, name: res.data.name }]);\r\n            })\r\n        } catch (err) {\r\n            onError({ err });\r\n        }\r\n    };\r\n\r\n    const handleOnChange = ({ file, fl }) => {\r\n        if (typeof fl !== typeof []) {\r\n            fl = [];\r\n        }\r\n        setFileList(fl);\r\n\r\n    };\r\n    const handleRemove = (file) => {\r\n        fileService.remove({ uid: file.uid }).then(res => {\r\n            // setFileList(fileList?.filter(v => v.uid !== file.uid))\r\n        })\r\n    };\r\n\r\n    if (cropImage) {\r\n        if (typeof cropImage !== typeof {}) {\r\n            cropImage = {};\r\n        }\r\n        cropImage.aspect = cropImage.aspect || 1;\r\n        cropImage.shape = cropImage.shape || 'rect';\r\n        cropImage.quality = cropImage.quality || 1;\r\n        return (\r\n            <ImgCrop rotate aspect shape={cropImage.shape} quality={cropImage.quality} >\r\n                <Upload\r\n                    accept=\"image/*\"\r\n                    customRequest={uploadImage}\r\n                    onChange={handleOnChange}\r\n                    onRemove={handleRemove}\r\n                    listType={listType}\r\n                    fileList={fileList}\r\n                    className=\"image-upload-grid\"\r\n                    disabled={disabled}\r\n                >\r\n                    {fileList?.length >= count ? null : <div>Upload</div>}\r\n                </Upload>\r\n            </ImgCrop>\r\n        );\r\n    } else {\r\n        return <Upload\r\n            accept=\"image/*\"\r\n            customRequest={uploadImage}\r\n            onChange={handleOnChange}\r\n            onRemove={handleRemove}\r\n            listType={listType}\r\n            fileList={fileList}\r\n            className=\"image-upload-grid\"\r\n            disabled={disabled}\r\n        >\r\n            {fileList?.length >= count ? null : <div>Upload</div>}\r\n        </Upload>\r\n    }\r\n\r\n};","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Checkbox, Tag, Select } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined } from '@ant-design/icons';\r\n\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../services/user';\r\nimport Pagination from '../components/Pagination';\r\nimport { AntdMsg } from '../../utils/Antd';\r\nimport util from '../../utils/util';\r\n\r\nexport default function SubAdmin() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20 });\r\n    const addNewModalRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'User Name',\r\n            dataIndex: 'userName',\r\n            width: 201,\r\n        },\r\n        {\r\n            title: 'Email',\r\n            dataIndex: 'email',\r\n            width: 300,\r\n        },\r\n        {\r\n            title: 'Allowed Modules',\r\n            dataIndex: 'modules',\r\n            render: (modules) => modules?.map(v => {\r\n                    return <Tag key={v} style={{textTransform: 'uppercase'}}>{v}</Tag>\r\n                })\r\n            \r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            render: (v, row) => {\r\n                return <>\r\n                    <Popconfirm\r\n                        title=\"Are you sure to delete this sub admin?\"\r\n                        onConfirm={() => { deleteData(row._id); }}\r\n                        okText=\"Yes\"\r\n                        cancelText=\"No\"\r\n                    >\r\n                        <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                    </Popconfirm>\r\n                    <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row) }} />\r\n                </>\r\n            }\r\n        },\r\n    ];\r\n\r\n    function list() {\r\n        setLoading(true);\r\n        service.list(qData).then(res => {\r\n            setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n            setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n        }).catch(err => { }).finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.delete(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            <Typography.Title level={5}>List of Sub admins</Typography.Title>\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            // minWidth=\"500px\"\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list }} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by name or code\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                        <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                    </Form.Item>\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected sub admins?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({});\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(dt ? { ...dt } : { status: true });\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n\r\n        service.save(data).then((res) => {\r\n            AntdMsg(res.message);\r\n            setOpen(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!data._id) {\r\n            handleChange(util.removeSpecialChars(data?.name || ''), 'userName');\r\n        }\r\n    }, [data.name])\r\n\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Sub Admin'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={400}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button>,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Form layout=\"vertical\">\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Modules\">\r\n                                    <Checkbox.Group\r\n                                        options={[{ label: 'Add', value: 'add' }, { label: 'Edit', value: 'edit' }, { label: 'Delete', value: 'delete' },]}\r\n                                        value={data.modules || []}\r\n                                        onChange={(v) => { handleChange(v, 'modules') }}\r\n                                    />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Name\" required>\r\n                                    <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange(e.target.value, 'name') }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"User Name\" required>\r\n                                    <Input placeholder=\"User Name\" value={data.userName} onChange={e => { handleChange(util.removeSpecialChars(e.target.value), 'userName') }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Password\" required={!data._id}>\r\n                                    <Input placeholder={!data._id ? \"Set Password\" : \"Change Password\"} value={data.password} onChange={e => { handleChange(util.removeSpecialChars(e.target.value), 'password') }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Phone\" required>\r\n                                    <Input placeholder=\"Phone\" value={data.phone} onChange={e => { handleChange(e.target.value, 'phone') }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Email\" required>\r\n                                    <Input placeholder=\"Email\" value={data.email} onChange={e => { handleChange((e.target.value), 'email') }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Status\" required>\r\n                                    <Select value={data.status} onChange={v => { handleChange(v, 'status') }} >\r\n                                        <Select.Option value={true}>Active</Select.Option>\r\n                                        <Select.Option value={false}>Inactive</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n\r\n                        </Row>\r\n                    </Form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'bhagwan';\r\n\r\n    static detail(id, data) {\r\n        return axios.get(this.baseURL + '/details/' + id, { params: data });\r\n    }\r\n    static list(data) {\r\n        return axios.get(this.baseURL + '/list', { params: data });\r\n    }\r\n    static save(data, query) {\r\n        return axios.post(this.baseURL + \"/save\", data, { params: query });\r\n    }\r\n    static delete(id) {\r\n        return axios.post(this.baseURL + '/delete', { ids: id });\r\n    }\r\n\r\n}","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'kalyanak';\r\n\r\n    static detail(id, data) {\r\n        return axios.get(this.baseURL + '/details/' + id, { params: data });\r\n    }\r\n    static list(data) {\r\n        return axios.get(this.baseURL + '/list', { params: data });\r\n    }\r\n    static save(data, query) {\r\n        return axios.post(this.baseURL + \"/save\", data, { params: query });\r\n    }\r\n    static delete(id) {\r\n        return axios.post(this.baseURL + '/delete', { ids: id });\r\n    }\r\n\r\n}","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'jinalaya';\r\n\r\n    static detail(id, data) {\r\n        return axios.get(this.baseURL + '/details/' + id, { params: data });\r\n    }\r\n    static list(data) {\r\n        return axios.get(this.baseURL + '/list', { params: data });\r\n    }\r\n    static save(data, query) {\r\n        return axios.post(this.baseURL + \"/save\", data, { params: query });\r\n    }\r\n    static delete(id) {\r\n        return axios.post(this.baseURL + '/delete', { ids: id });\r\n    }\r\n\r\n    static detail108(id, data) {\r\n        return axios.get(this.baseURL + '/108/details/' + id, { params: data });\r\n    }\r\n    static list108(data) {\r\n        return axios.get(this.baseURL + '/108/list', { params: data });\r\n    }\r\n    static save108(data, query) {\r\n        return axios.post(this.baseURL + '/108/save', data, { params: query });\r\n    }\r\n    static delete108(id) {\r\n        return axios.post(this.baseURL + '/108/delete', { ids: id });\r\n    }\r\n\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Tabs, Card, Select } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../../services/kalyanak';\r\nimport jinalayaService from '../../../services/jinalaya';\r\nimport bhagwanService from '../../../services/bhagwan';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport commonObj from '../../../commonObj';\r\n\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function Kalyanak({ bhagwanId = null, jinalayaId = null }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, isPopulate: 1, bhagwanId, jinalayaId });\r\n    const addNewModalRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            width: 200,\r\n            render: (v) => (\r\n                v === 'chyavan'\r\n                    ? 'Chyavan'\r\n                    : v === 'janam'\r\n                        ? 'Janam'\r\n                        : v === 'diksha'\r\n                            ? 'Diksha'\r\n                            : v === 'kevalgyan'\r\n                                ? 'Kevalgyan'\r\n                                : v === 'nirvaan'\r\n                                    ? 'Nirvaan'\r\n                                    : ''\r\n            )\r\n        },\r\n        {\r\n            title: 'Bhagwan',\r\n            dataIndex: 'jinalayaDetails',\r\n            width: 200,\r\n            render: (v) => v?.bhagwanDetails?.name\r\n        },\r\n        {\r\n            title: 'Jinalaya',\r\n            dataIndex: 'jinalayaDetails',\r\n            width: 400,\r\n            render: (v) => v?.name\r\n        },\r\n        {\r\n            title: 'Tithi',\r\n            dataIndex: 'tithi',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Jaap',\r\n            dataIndex: 'jaap',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        deleteAccess\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete this kalyanak?\"\r\n                                onConfirm={() => { deleteData(row._id); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        editAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.list(qData).then(res => {\r\n                setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.delete(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list, bhagwanId, jinalayaId }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            {\r\n                !bhagwanId && !jinalayaId\r\n                    ? <Typography.Title level={5}>List of Kalyanaks</Typography.Title>\r\n                    : null\r\n            }\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list, bhagwanId, jinalayaId }} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list, bhagwanId, jinalayaId }) {\r\n\r\n    const [jinalayas, setJinalayas] = useState([]);\r\n    const [bhagwan, setBhagwan] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            jinalayaService.list({ isAll: 1, ln: 'en' }).then(res => { setJinalayas(res.data || []); }).catch(err => { AntdMsg('Jinalaya data not loaded', 'error'); });\r\n            bhagwanService.list({ isAll: 1, ln: 'en' }).then(res => { setBhagwan(res.data || []); }).catch(err => { AntdMsg('Bhagwan data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Select placeholder=\"Name\" value={qData.key} onChange={e => (setQData({ ...qData, key: e }))} allowClear>\r\n                            <Select.Option value={\"chyavan\"}>Chyavan</Select.Option>\r\n                            <Select.Option value={\"janam\"}>Janam</Select.Option>\r\n                            <Select.Option value={\"diksha\"}>Diksha</Select.Option>\r\n                            <Select.Option value={\"kevalgyan\"}>Kevalgyan</Select.Option>\r\n                            <Select.Option value={\"nirvaan\"}>Nirvaan</Select.Option>\r\n                        </Select>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={4}>\r\n                    <Form.Item>\r\n                        <Select placeholder=\"Bhagwan\" value={qData.bhagwanId} onChange={v => { setQData({ ...qData, bhagwanId: v, jinalayaId: null }) }} allowClear disabled={bhagwanId} >\r\n                            {\r\n                                bhagwan.map(v => (\r\n                                    <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                ))\r\n                            }\r\n                        </Select>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={4}>\r\n                    <Form.Item>\r\n                        <Select placeholder=\"Jinalaya\" value={qData.jinalayaId} onChange={v => { setQData({ ...qData, jinalayaId: v }) }} allowClear disabled={jinalayaId} >\r\n                            {\r\n                                jinalayas.filter(v => qData.bhagwanId ? v.bhagwanId === qData.bhagwanId : true).map(v => (\r\n                                    <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                ))\r\n                            }\r\n                        </Select>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    {\r\n                        addAccess\r\n                            ? <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                                <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                            </Form.Item>\r\n                            : null\r\n                    }\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected kalyanaks?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, bhagwanId, jinalayaId } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [ln, setLn] = useState('en');\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const [fileList, setFileList] = useState([]);\r\n\r\n\r\n    const handleChange = (value) => {\r\n        if (changeForm) {\r\n            Object.entries(value).forEach(ent => {\r\n                let varDt = data;\r\n                const k = ent[0];\r\n                const v = ent[1];\r\n                let keys = k.split('.');\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    if (i + 1 === keys.length) {\r\n                        varDt[keys[i]] = v;\r\n                    } else {\r\n                        if (typeof varDt[keys[i]] === 'undefined') {\r\n                            if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                                varDt[keys[i]] = [];\r\n                            } else {\r\n                                varDt[keys[i]] = {};\r\n                            }\r\n                        } varDt = varDt[keys[i]];\r\n                    }\r\n                }\r\n            });\r\n            setData({ ...data });\r\n        }\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : {\r\n                        jinalayaId,\r\n                    }\r\n            );\r\n            if (!dt&& addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detail(data.parentId || data._id, { ln }).then(res => {\r\n            setData(res.data || {});\r\n            setFileList(res.data?.imgUrls || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        if (changeForm) {\r\n            setAjxRequesting(true);\r\n            service.save(data, { ln }).then((res) => {\r\n                AntdMsg(res.message);\r\n                handleChange({ ...res.data });\r\n                if (ln === \"en\") {\r\n                    list();\r\n                }\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [ln, data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        } else {\r\n            setLn('en');\r\n            setFileList([]);\r\n        }\r\n    }, [open]);\r\n\r\n    useEffect(() => {\r\n        handleChange({ imgUrls: fileList });\r\n    }, [fileList]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Kalyanak'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                // destroyOnClose\r\n                maskClosable={false}\r\n                width={600}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    changeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Tabs activeKey={ln} type=\"card\" size=\"small\" style={{ marginBottom: 0 }} onChange={(v) => { setLn(v); }}\r\n                        items={[\r\n                            {\r\n                                label: \"English\",\r\n                                key: \"en\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <EnForm {...{ data, handleChange, save, changeForm, fileList, setFileList, bhagwanId, jinalayaId }} />\r\n                                </Card>,\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"hi\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <HiForm {...{ data, handleChange, save, changeForm, fileList, setFileList, bhagwanId, jinalayaId }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"gu\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <GuForm {...{ data, handleChange, save, changeForm, fileList, setFileList, bhagwanId, jinalayaId }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            }\r\n                        ]}\r\n                    />\r\n                </Spin>\r\n\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst EnForm = ({ data, handleChange, changeForm, bhagwanId, jinalayaId }) => {\r\n    const [jinalayas, setJinalayas] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            jinalayaService.list({ isAll: 1, ln: 'en', bhagwanId }).then(res => { setJinalayas(res.data || []); }).catch(err => { AntdMsg('Jinalaya data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Select value={data.name} onChange={v => { handleChange({ name: v }) }} >\r\n                                <Select.Option value={\"chyavan\"}>Chyavan</Select.Option>\r\n                                <Select.Option value={\"janam\"}>Janam</Select.Option>\r\n                                <Select.Option value={\"diksha\"}>Diksha</Select.Option>\r\n                                <Select.Option value={\"kevalgyan\"}>Kevalgyan</Select.Option>\r\n                                <Select.Option value={\"nirvaan\"}>Nirvaan</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Jinalaya\" required>\r\n                            <Select value={data.jinalayaId} onChange={v => { handleChange({ jinalayaId: v }) }} disabled={jinalayaId}>\r\n                                {\r\n                                    jinalayas.map(v => (\r\n                                        <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Tithi\" required>\r\n                            <Input placeholder=\"Tithi\" value={data.tithi} onChange={e => { handleChange({ tithi: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Jaap\" required>\r\n                            <Input.TextArea placeholder=\"Jaap\" value={data.jaap} onChange={e => { handleChange({ jaap: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst HiForm = ({ data, handleChange, changeForm, bhagwanId }) => {\r\n    const [jinalayas, setJinalayas] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            jinalayaService.list({ isAll: 1, ln: 'hi', bhagwanId }).then(res => { setJinalayas(res.data || []); }).catch(err => { AntdMsg('Jinalaya data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Select value={data.name} onChange={v => { handleChange({ name: v }) }} >\r\n                                <Select.Option value={\"chyavan\"}></Select.Option>\r\n                                <Select.Option value={\"janam\"}></Select.Option>\r\n                                <Select.Option value={\"diksha\"}></Select.Option>\r\n                                <Select.Option value={\"kevalgyan\"}></Select.Option>\r\n                                <Select.Option value={\"nirvaan\"}></Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Jinalaya\" required>\r\n                            <Select value={data.jinalayaId} disabled >\r\n                                {\r\n                                    jinalayas.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Tithi\" required>\r\n                            <Input placeholder=\"Tithi\" value={data.tithi} onChange={e => { handleChange({ tithi: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Jaap\" required>\r\n                            <Input.TextArea placeholder=\"Jaap\" value={data.jaap} onChange={e => { handleChange({ jaap: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst GuForm = ({ data, handleChange, changeForm, bhagwanId }) => {\r\n    const [jinalayas, setJinalayas] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            jinalayaService.list({ isAll: 1, ln: 'gu', bhagwanId }).then(res => { setJinalayas(res.data || []); }).catch(err => { AntdMsg('Jinalaya data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Select value={data.name} onChange={v => { handleChange({ name: v }) }} >\r\n                                <Select.Option value={\"chyavan\"}></Select.Option>\r\n                                <Select.Option value={\"janam\"}></Select.Option>\r\n                                <Select.Option value={\"diksha\"}></Select.Option>\r\n                                <Select.Option value={\"kevalgyan\"}></Select.Option>\r\n                                <Select.Option value={\"nirvaan\"}></Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Jinalaya\" required>\r\n                            <Select value={data.jinalayaId} disabled >\r\n                                {\r\n                                    jinalayas.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Tithi\" required>\r\n                            <Input placeholder=\"Tithi\" value={data.tithi} onChange={e => { handleChange({ tithi: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Jaap\" required>\r\n                            <Input.TextArea placeholder=\"Jaap\" value={data.jaap} onChange={e => { handleChange({ jaap: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Tabs, Card, Space, Select, DatePicker } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../services/bhagwan';\r\nimport Pagination from '../components/Pagination';\r\nimport { AntdMsg } from '../../utils/Antd';\r\nimport commonObj from '../../commonObj';\r\nimport UploadImage from '../../utils/UploadImage';\r\nimport moment from 'moment';\r\nimport util from '../../utils/util';\r\nimport Kalyanak from './temple/Kalyanak';\r\n\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function Bhagwan() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20 });\r\n    const addNewModalRef = useRef();\r\n    const kalyanakModalRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            // width: 200,\r\n        },\r\n        {\r\n            title: 'Kalyanak',\r\n            dataIndex: '_id',\r\n            width: 100,\r\n            render: value => (\r\n                <>\r\n                    <Button type=\"primary\" size=\"small\" onClick={() => { kalyanakModalRef.current.openForm({ _id: value }) }} >Kalyanak</Button>\r\n                </>\r\n            )\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        deleteAccess\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete this data?\"\r\n                                onConfirm={() => { deleteData(row._id); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        editAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.list(qData).then(res => {\r\n                setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.delete(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            <Typography.Title level={5}>List of Data</Typography.Title>\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list }} />\r\n            <KalyanakModal ref={kalyanakModalRef} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by name\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    {\r\n                        addAccess\r\n                            ? <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                                <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                            </Form.Item>\r\n                            : null\r\n                    }\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected data?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [ln, setLn] = useState('en');\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const [fileList, setFileList] = useState([]);\r\n\r\n\r\n    const handleChange = (value) => {\r\n        if (changeForm) {\r\n            Object.entries(value).forEach(ent => {\r\n                let varDt = data;\r\n                const k = ent[0];\r\n                const v = ent[1];\r\n                let keys = k.split('.');\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    if (i + 1 === keys.length) {\r\n                        varDt[keys[i]] = v;\r\n                    } else {\r\n                        if (typeof varDt[keys[i]] === 'undefined') {\r\n                            if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                                varDt[keys[i]] = [];\r\n                            } else {\r\n                                varDt[keys[i]] = {};\r\n                            }\r\n                        } varDt = varDt[keys[i]];\r\n                    }\r\n                }\r\n            });\r\n            setData({ ...data });\r\n        }\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : {\r\n                        birth: {\r\n                            type: 'bc',\r\n                            bc: 100\r\n                        }\r\n                    }\r\n            );\r\n            if (!dt && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detail(data.parentId || data._id, { ln }).then(res => {\r\n            setData(res.data || {});\r\n            setFileList(res.data?.imgUrls || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        if (changeForm) {\r\n            setAjxRequesting(true);\r\n            service.save(data, { ln }).then((res) => {\r\n                AntdMsg(res.message);\r\n                handleChange({ _id: res.data._id });\r\n                if (ln === \"en\") {\r\n                    list();\r\n                }\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [ln, data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        } else {\r\n            setLn('en');\r\n            setFileList([]);\r\n        }\r\n    }, [open]);\r\n\r\n    useEffect(() => {\r\n        handleChange({ imgUrls: fileList });\r\n    }, [fileList]);\r\n\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Data'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={500}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    changeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Tabs activeKey={ln} type=\"card\" size=\"small\" style={{ marginBottom: 0 }} destroyInactiveTabPane onChange={(v) => { setLn(v); }}\r\n                        items={[\r\n                            {\r\n                                label: \"English\",\r\n                                key: \"en\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <EnForm {...{ data, handleChange, save, changeForm, fileList, setFileList }} />\r\n                                </Card>,\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"hi\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <HiForm {...{ data, handleChange, save, changeForm, fileList, setFileList }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"gu\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <GuForm {...{ data, handleChange, save, changeForm, fileList, setFileList }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            }\r\n                        ]}\r\n                    />\r\n                </Spin>\r\n\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst EnForm = ({ data, handleChange, changeForm, fileList, setFileList }) => {\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Photo\">\r\n                            <UploadImage {...{ fileList, setFileList }} count={10} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Birth\" required>\r\n                            <Space>\r\n                                <Select style={{ width: \"80px\" }} value={data?.birth?.type}\r\n                                    onChange={v => { handleChange({ 'birth.type': v, 'birth.ad': moment(), 'birth.bc': null }) }} >\r\n                                    <Select.Option value=\"bc\">BC</Select.Option>\r\n                                    <Select.Option value=\"ad\">AD</Select.Option>\r\n                                </Select>\r\n                                {\r\n                                    data?.birth?.type === 'bc'\r\n                                        ? <Input placeholder=\"Ex - 200\" value={data?.birth?.bc}\r\n                                            onChange={e => { handleChange({ 'birth.bc': util.handleInteger(e.target.value) }) }} />\r\n                                        : <DatePicker\r\n                                            format={'DD MMM YYYY'} value={moment(data?.birth?.ad)}\r\n                                            onChange={(v) => { handleChange({ 'birth.ad': v }) }} allowClear={false} />\r\n                                }\r\n                            </Space>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst HiForm = ({ data, handleChange, changeForm, fileList, setFileList }) => {\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Photo\">\r\n                            <UploadImage {...{ fileList, setFileList }} count={10} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Birth\" required>\r\n                            <Space>\r\n                                <Select style={{ width: \"80px\" }} value={data?.birth?.type} disabled >\r\n                                    <Select.Option value=\"bc\">BC</Select.Option>\r\n                                    <Select.Option value=\"ad\">AD</Select.Option>\r\n                                </Select>\r\n                                {\r\n                                    data?.birth?.type === 'bc'\r\n                                        ? <Input placeholder=\"Ex - 200\" value={data?.birth?.bc} disabled />\r\n                                        : <DatePicker\r\n                                            format={'DD MMM YYYY'} value={moment(data?.birth?.ad)} disabled />\r\n                                }\r\n                            </Space>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst GuForm = ({ data, handleChange, changeForm, fileList, setFileList }) => {\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Photo\">\r\n                            <UploadImage {...{ fileList, setFileList }} count={10} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Birth\" required>\r\n                            <Space>\r\n                                <Select style={{ width: \"80px\" }} value={data?.birth?.type} disabled >\r\n                                    <Select.Option value=\"bc\">BC</Select.Option>\r\n                                    <Select.Option value=\"ad\">AD</Select.Option>\r\n                                </Select>\r\n                                {\r\n                                    data?.birth?.type === 'bc'\r\n                                        ? <Input placeholder=\"Ex - 200\" value={data?.birth?.bc} disabled />\r\n                                        : <DatePicker\r\n                                            format={'DD MMM YYYY'} value={moment(data?.birth?.ad)} disabled />\r\n                                }\r\n                            </Space>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\n\r\nconst KalyanakModal = forwardRef((props, ref) => {\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(dt);\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title=\"Kalyanak Details\"\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onCancel={() => { setOpen(false); }}\r\n                maskClosable={false}\r\n                width={1400}\r\n                destroyOnClose\r\n                className=\"app-modal-body-overflow\"\r\n                footer={null}\r\n            >\r\n                <Kalyanak {...{ bhagwanId: data._id }} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'location';\r\n\r\n    static detailState(id, data) {\r\n        return axios.get(this.baseURL + '/state/details/' + id, { params: data });\r\n    }\r\n    static listState(data) {\r\n        return axios.get(this.baseURL + '/state/list', { params: data });\r\n    }\r\n    static saveState(data, query) {\r\n        return axios.post(this.baseURL + \"/state/save\", data, { params: query });\r\n    }\r\n    static deleteState(id) {\r\n        return axios.post(this.baseURL + '/state/delete', { ids: id });\r\n    }\r\n\r\n    static detailDistrict(id, data) {\r\n        return axios.get(this.baseURL + '/district/details/' + id, { params: data });\r\n    }\r\n    static listDistrict(data) {\r\n        return axios.get(this.baseURL + '/district/list', { params: data });\r\n    }\r\n    static saveDistrict(data, query) {\r\n        return axios.post(this.baseURL + \"/district/save\", data, { params: query });\r\n    }\r\n    static deleteDistrict(id) {\r\n        return axios.post(this.baseURL + '/district/delete', { ids: id });\r\n    }\r\n\r\n    static detailCity(id, data) {\r\n        return axios.get(this.baseURL + '/city/details/' + id, { params: data });\r\n    }\r\n    static listCity(data) {\r\n        return axios.get(this.baseURL + '/city/list', { params: data });\r\n    }\r\n    static saveCity(data, query) {\r\n        return axios.post(this.baseURL + \"/city/save\", data, { params: query });\r\n    }\r\n    static deleteCity(id) {\r\n        return axios.post(this.baseURL + '/city/delete', { ids: id });\r\n    }\r\n\r\n}","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'shala';\r\n\r\n    static detail(id, data) {\r\n        return axios.get(this.baseURL + '/details/' + id, { params: data });\r\n    }\r\n    static list(data) {\r\n        return axios.get(this.baseURL + '/list', { params: data });\r\n    }\r\n    static save(data, query) {\r\n        return axios.post(this.baseURL + \"/save\", data, { params: query });\r\n    }\r\n    static delete(id) {\r\n        return axios.post(this.baseURL + '/delete', { ids: id });\r\n    }\r\n\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Tabs, Card, Select, Divider, Radio, TimePicker, Checkbox, Tag } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined, MinusOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport moment from \"moment\";\r\nimport service from '../../../services/shala';\r\nimport jinalayaService from '../../../services/jinalaya';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport commonObj from '../../../commonObj';\r\nimport util from '../../../utils/util';\r\nimport UploadImage from '../../../utils/UploadImage';\r\nimport Jinalaya from './Jinalaya';\r\n\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function Shala({ type, jinalayaId = null }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, type, jinalayaId });\r\n    const addNewModalRef = useRef();\r\n    const jinalayaModelRef = useRef();\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            // width: 200,\r\n        },\r\n        {\r\n            title: 'Unique Code',\r\n            dataIndex: 'code',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Jinalaya',\r\n            dataIndex: 'jinalayaId',\r\n            width: 100,\r\n            render: value => (\r\n                <>\r\n                    <Button type=\"primary\" size=\"small\" onClick={() => { jinalayaModelRef.current.openForm({ _id: value }) }} >Jinalaya</Button>\r\n                </>\r\n            )\r\n        },\r\n        {\r\n            title: 'Labharthi',\r\n            dataIndex: 'labharthi',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        deleteAccess\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete this city?\"\r\n                                onConfirm={() => { deleteData(row._id); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        editAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.list(qData).then(res => {\r\n                setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.delete(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list, jinalayaId }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            <Typography.Title level={5}>List of Data</Typography.Title>\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list, type, jinalayaId }} />\r\n            <JinalayaModel ref={jinalayaModelRef} />\r\n\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list, jinalayaId }) {\r\n\r\n    const [jinalayas, setJinalayas] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            jinalayaService.list({ isAll: 1, ln: 'en' }).then(res => { setJinalayas(res.data || []); }).catch(err => { AntdMsg('Jinalaya data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by name or code\" value={qData.key} onChange={e => { (setQData({ ...qData, key: e.target.value })) }} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={4}>\r\n                    <Form.Item>\r\n                        <Select placeholder=\"Jinalaya\" value={qData.jinalayaId} onChange={v => { setQData({ ...qData, jinalayaId: v }) }} allowClear showSearch disabled={jinalayaId}>\r\n\r\n                            {\r\n                                jinalayas.map(v => (\r\n                                    <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                ))\r\n                            }\r\n                        </Select>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    {\r\n                        addAccess\r\n                            ? <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                                <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                            </Form.Item>\r\n                            : null\r\n                    }\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected data?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, type, jinalayaId } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [ln, setLn] = useState('en');\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const [fileList, setFileList] = useState([]);\r\n\r\n\r\n    const handleChange = (value) => {\r\n        if (changeForm) {\r\n            Object.entries(value).forEach(ent => {\r\n                let varDt = data;\r\n                const k = ent[0];\r\n                const v = ent[1];\r\n                let keys = k.split('.');\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    if (i + 1 === keys.length) {\r\n                        varDt[keys[i]] = v;\r\n                    } else {\r\n                        if (typeof varDt[keys[i]] === 'undefined') {\r\n                            if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                                varDt[keys[i]] = [];\r\n                            } else {\r\n                                varDt[keys[i]] = {};\r\n                            }\r\n                        } varDt = varDt[keys[i]];\r\n                    }\r\n                }\r\n            });\r\n            setData({ ...data });\r\n        }\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : {\r\n                        type: type,\r\n                        jinalayaId,\r\n                        timing: { type: 'custom' },\r\n                        contactDetails: [{}],\r\n                        status: true,\r\n                        parkingFacilities: [\r\n                            {\r\n                                type: 'rickshaw',\r\n                                available: true,\r\n                                remarks: ''\r\n                            },\r\n                            {\r\n                                type: 'car',\r\n                                available: true,\r\n                                remarks: ''\r\n                            },\r\n                            {\r\n                                type: 'bus',\r\n                                available: true,\r\n                                remarks: ''\r\n                            }\r\n                        ],\r\n                        distanceFrom: [\r\n                            {\r\n                                type: 'busStop',\r\n                                available: true,\r\n                                remarks: []\r\n                            },\r\n                            {\r\n                                type: 'railway',\r\n                                available: true,\r\n                                remarks: []\r\n                            },\r\n                            {\r\n                                type: 'airport',\r\n                                available: true,\r\n                                remarks: []\r\n                            }\r\n                        ],\r\n                        restRoomFacility: [\r\n                            {\r\n                                type: 'male',\r\n                                bathroom: true,\r\n                                toilet: true,\r\n                                locker: true,\r\n                            },\r\n                            {\r\n                                type: 'female',\r\n                                bathroom: true,\r\n                                toilet: true,\r\n                                locker: true,\r\n                            }\r\n                        ],\r\n                        foundation: \"\",\r\n                        dharmShalaExt: {\r\n                            acRoom: 0,\r\n                            nonAcRoom: 0,\r\n                            acHall: 0,\r\n                            nonAcHall: 0,\r\n                            totalFloor: 0,\r\n                            liftFacilities: true\r\n                        },\r\n                        pathShalaExt: {\r\n                            totalStudents: 0\r\n                        },\r\n                        ayambiShalaExt: {\r\n                            facilities: [\r\n                                {\r\n                                    type: '12Months',\r\n                                    available: true,\r\n                                },\r\n                                {\r\n                                    type: '4Months',\r\n                                    available: true,\r\n                                },\r\n                                {\r\n                                    type: 'only2oli',\r\n                                    available: true,\r\n                                }\r\n                            ]\r\n                        }\r\n                    }\r\n            );\r\n            if (!dt && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detail(data.parentId || data._id, { ln }).then(res => {\r\n            setData(res.data || {});\r\n            setFileList(res.data?.imgUrls || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        if (changeForm) {\r\n            setAjxRequesting(true);\r\n            service.save(data, { ln }).then((res) => {\r\n                AntdMsg(res.message);\r\n                handleChange({ ...res.data });\r\n                if (ln === \"en\") {\r\n                    list();\r\n                }\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [ln, data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        } else {\r\n            setLn('en');\r\n            setFileList([]);\r\n        }\r\n    }, [open]);\r\n\r\n    useEffect(() => {\r\n        handleChange({ imgUrls: fileList });\r\n    }, [fileList]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Data'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                // destroyOnClose\r\n                maskClosable={false}\r\n                width={1400}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    changeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Tabs activeKey={ln} type=\"card\" size=\"small\" style={{ marginBottom: 0 }} onChange={(v) => { setLn(v); }}\r\n                        items={[\r\n                            {\r\n                                label: \"English\",\r\n                                key: \"en\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <EnForm {...{ data, handleChange, save, changeForm, fileList, setFileList, jinalayaId }} />\r\n                                </Card>,\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"hi\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <HiForm {...{ data, handleChange, save, changeForm, fileList, setFileList, jinalayaId }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"gu\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <GuForm {...{ data, handleChange, save, changeForm, fileList, setFileList, jinalayaId }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            }\r\n                        ]}\r\n                    />\r\n                </Spin>\r\n\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst EnForm = ({ data, handleChange, changeForm, fileList, setFileList, jinalayaId }) => {\r\n\r\n    const [jinalayas, setJinalayas] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            jinalayaService.list({ isAll: 1, ln: 'en' }).then(res => { setJinalayas(res.data || []); }).catch(err => { AntdMsg('Jinalaya data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Photos\">\r\n                            <UploadImage {...{ fileList, setFileList }} count={50} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Basic Details</Typography.Text></Divider>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Jinalaya\" required>\r\n                            <Select value={data.jinalayaId} onChange={v => { handleChange({ jinalayaId: v }) }} disabled={jinalayaId} >\r\n                                {\r\n                                    jinalayas.map(v => (\r\n                                        <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}></Col>\r\n                    <Col span={18}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Unique Code\" required>\r\n                            <Input placeholder=\"Unique Code\" value={data.code} onChange={e => { handleChange({ code: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Foundation Date\" required>\r\n                            <Input placeholder=\"Foundation Date\" value={data?.foundation} onChange={e => { handleChange({ foundation: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Labharthi\" required>\r\n                            <Input placeholder=\"Labharthi\" value={data.labharthi} onChange={e => { handleChange({ labharthi: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Prachinta\" required>\r\n                            <Select value={data.prachinta} onChange={v => { handleChange({ prachinta: v }) }}>\r\n                                <Select.Option value=\"1-100\">1-100</Select.Option>\r\n                                <Select.Option value=\"101-500\">101-500</Select.Option>\r\n                                <Select.Option value=\"501-2500\">501-2500</Select.Option>\r\n                                <Select.Option value=\"2500-above\">2500-above</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Address</Typography.Text></Divider>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Address\" required>\r\n                            <Input.TextArea placeholder=\"Address\" value={data.address} onChange={e => { handleChange({ address: e.target.value }) }} rows={3} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Latitude\" required>\r\n                                    <Input placeholder=\"Latitude\" value={data?.location?.coordinates?.[0]} onChange={e => { handleChange({ [`location.coordinates.0`]: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Longitude\" required>\r\n                                    <Input placeholder=\"Longitude\" value={data?.location?.coordinates?.[1]} onChange={e => { handleChange({ [`location.coordinates.1`]: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Button className=\"w-100\" type=\"primary\">Set Location</Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n\r\n                    <Divider orientation=\"left\" plain={true}></Divider>\r\n                    <Col span={11}>\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={24}>\r\n                                <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Contact Details</Typography.Text></Divider>\r\n                            </Col>\r\n                            {\r\n                                data.contactDetails?.map((v, i) => (\r\n                                    <React.Fragment key={i}>\r\n                                        <Col span={10}>\r\n                                            <Form.Item label=\"Name\" required>\r\n                                                <Input placeholder=\"Name\" value={v.name} onChange={e => { handleChange({ [`contactDetails.${i}.name`]: e.target.value }) }} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                        <Col span={10}>\r\n                                            <Form.Item label=\"Number\" required>\r\n                                                <Input placeholder=\"Number\" value={v.number} onChange={e => { handleChange({ [`contactDetails.${i}.number`]: e.target.value }) }} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                        <Col span={4}>\r\n                                            <Form.Item label=\" \" >\r\n                                                {\r\n                                                    i !== 0\r\n                                                        ? <Button type=\"primary\" danger shape=\"circle\" icon={<MinusOutlined />} onClick={() => {\r\n                                                            handleChange({ contactDetails: [...data.contactDetails.filter((vv, ii) => ii !== i)] });\r\n                                                        }} />\r\n                                                        : null\r\n                                                }\r\n                                                {\r\n                                                    i + 1 === data.contactDetails?.length\r\n                                                        ? <Button type=\"primary\" shape=\"circle\" icon={<PlusOutlined />} onClick={() => {\r\n                                                            handleChange({ contactDetails: [...data.contactDetails, {}] });\r\n                                                        }} />\r\n                                                        : null\r\n                                                }\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                        <Col span={24}></Col>\r\n                                    </React.Fragment>\r\n                                ))\r\n                            }\r\n\r\n\r\n                        </Row>\r\n                    </Col>\r\n                    <Col span={2} style={{ textAlign: \"center\" }}>\r\n                        <Divider type=\"vertical\" style={{ height: \"100%\" }}></Divider>\r\n                    </Col>\r\n                    <Col span={11}>\r\n                        <Row gutter={[12, 8]}>\r\n                            <Col span={24}>\r\n                                <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Timing</Typography.Text></Divider>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Radio.Group\r\n                                    options={[{ label: \"Custom\", value: 'custom' }, { label: \"All Day\", value: \"allDay\" }]}\r\n                                    optionType=\"button\"\r\n                                    buttonStyle=\"solid\"\r\n                                    value={data.timing?.type}\r\n                                    onChange={(e) => { handleChange({ 'timing.type': e.target.value, 'timing.custom': null, 'timing.allDay': null }); }}\r\n                                />\r\n                            </Col>\r\n                            <Col span={24}></Col>\r\n                            {\r\n                                data.timing?.type === 'custom'\r\n                                    ? <>\r\n                                        <Col span={24}>\r\n                                            <Form.Item label=\"Morning\" required>\r\n                                                <TimePicker.RangePicker className=\"w-100\"\r\n                                                    value={data?.timing?.custom?.morning && [moment(data?.timing?.custom?.morning?.[0]), moment(data?.timing?.custom?.morning?.[1])]}\r\n                                                    onChange={(v) => { handleChange({ [`timing.custom.morning`]: v }); }} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                        <Col span={24}>\r\n                                            <Form.Item label=\"Afternoon\" required>\r\n                                                <TimePicker.RangePicker className=\"w-100\"\r\n                                                    value={data?.timing?.custom?.afternoon && [moment(data?.timing?.custom?.afternoon?.[0]), moment(data?.timing?.custom?.afternoon?.[1])]}\r\n                                                    onChange={(v) => { handleChange({ [`timing.custom.afternoon`]: v }); }} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                        <Col span={24}>\r\n                                            <Form.Item label=\"Evening\" required>\r\n                                                <TimePicker.RangePicker className=\"w-100\"\r\n                                                    value={data?.timing?.custom?.evening && [moment(data?.timing?.custom?.evening?.[0]), moment(data?.timing?.custom?.evening?.[1])]}\r\n                                                    onChange={(v) => { handleChange({ [`timing.custom.evening`]: v }); }} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                    </>\r\n                                    : <Col span={24}>\r\n                                        <Form.Item label=\"Choose\" required>\r\n                                            <TimePicker.RangePicker className=\"w-100\"\r\n                                                value={data?.timing?.allDay && [moment(data?.timing?.allDay?.[0]), moment(data?.timing?.allDay?.[1])]}\r\n                                                onChange={(v) => { handleChange({ [`timing.allDay`]: v }); }} />\r\n                                        </Form.Item>\r\n                                    </Col>\r\n                            }\r\n\r\n                        </Row>\r\n                    </Col>\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Parking Facilities</Typography.Text></Divider>\r\n                    </Col>\r\n\r\n\r\n\r\n                    {\r\n                        data.parkingFacilities?.map((v, i) => (\r\n                            <Col span={8} key={i}>\r\n                                <Form.Item label={\r\n                                    <Checkbox checked={data?.parkingFacilities?.[i]?.available}\r\n                                        onChange={e => {\r\n                                            handleChange({\r\n                                                [`parkingFacilities.${i}.available`]: e.target.checked,\r\n                                            });\r\n                                        }}>\r\n                                        {\r\n                                            data?.parkingFacilities?.[i]?.type === 'rickshaw'\r\n                                                ? 'Rickshaw'\r\n                                                : data?.parkingFacilities?.[i]?.type === 'car'\r\n                                                    ? 'Car'\r\n                                                    : data?.parkingFacilities?.[i]?.type === 'bus'\r\n                                                        ? 'Bus'\r\n                                                        : null\r\n                                        }\r\n                                    </Checkbox>}>\r\n                                    {\r\n                                        <Input type=\"text\" placeholder=\"Remarks\" value={data?.parkingFacilities?.[i]?.remarks} onChange={e => { handleChange({ [`parkingFacilities.${i}.remarks`]: e.target.value }) }} />\r\n                                    }\r\n\r\n                                </Form.Item>\r\n                            </Col>\r\n                        ))\r\n                    }\r\n\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Rest Room Facilities</Typography.Text></Divider>\r\n                    </Col>\r\n\r\n                    {\r\n                        data.restRoomFacility?.map((v, i) => (\r\n                            <Col span={24} key={i}>\r\n                                <Card size=\"small\">\r\n                                    <Row gutter={[12, 2]}>\r\n                                        <Col span={6}>{v.type === 'male' ? 'Male' : v.type === 'female' ? 'Female' : null}</Col>\r\n                                        <Col span={6}>\r\n                                            <Checkbox checked={v.bathroom} onChange={e => {\r\n                                                handleChange({\r\n                                                    [`restRoomFacility.${i}.bathroom`]: e.target.checked,\r\n                                                });\r\n                                            }}>Bathroom</Checkbox>\r\n                                        </Col>\r\n                                        <Col span={6}>\r\n                                            <Checkbox checked={v.toilet} onChange={e => {\r\n                                                handleChange({\r\n                                                    [`restRoomFacility.${i}.toilet`]: e.target.checked,\r\n                                                });\r\n                                            }}>Toilet</Checkbox>\r\n                                        </Col>\r\n                                        <Col span={6}>\r\n                                            <Checkbox checked={v.locker} onChange={e => {\r\n                                                handleChange({\r\n                                                    [`restRoomFacility.${i}.locker`]: e.target.checked,\r\n                                                });\r\n                                            }}>Bus</Checkbox>\r\n                                        </Col>\r\n                                    </Row>\r\n                                </Card>\r\n                            </Col>\r\n                        ))\r\n                    }\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Distance From</Typography.Text></Divider>\r\n                    </Col>\r\n\r\n                    {\r\n                        data.distanceFrom?.map((v, i) => (\r\n                            <Col span={8} key={i}>\r\n                                <Form.Item label={\r\n                                    <Checkbox checked={data?.distanceFrom?.[i]?.available}\r\n                                        onChange={e => {\r\n                                            handleChange({\r\n                                                [`distanceFrom.${i}.available`]: e.target.checked,\r\n                                            });\r\n                                        }}>\r\n                                        {\r\n                                            data?.distanceFrom?.[i]?.type === 'busStop'\r\n                                                ? 'Main Busstop'\r\n                                                : data?.distanceFrom?.[i]?.type === 'railway'\r\n                                                    ? 'Main Railway Station'\r\n                                                    : data?.distanceFrom?.[i]?.type === 'airport'\r\n                                                        ? 'Nearest Airport'\r\n                                                        : null\r\n                                        }\r\n                                    </Checkbox>}>\r\n                                    <Select mode=\"tags\" value={data?.distanceFrom?.[i]?.remarks} placeholder=\"Type address and press enter\" onChange={v => { handleChange({ [`distanceFrom.${i}.remarks`]: v }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                        ))\r\n                    }\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}></Divider>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label={<Checkbox checked={data.upashray?.available} onChange={e => { handleChange({ [`upashray.available`]: e.target.checked }); }}>Upashray</Checkbox>}>\r\n                            {\r\n                                data.upashray?.available\r\n                                    ? <Input type=\"text\" placeholder=\"Number\" value={data.upashray.value} onChange={e => { handleChange({ [`upashray.value`]: util.handleInteger(e.target.value) }); }} />\r\n                                    : null\r\n                            }\r\n\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    {\r\n                        data.type === 'dharmShala'\r\n                            ? <>\r\n                                <Col span={24}>\r\n                                    <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Rooms and Halls</Typography.Text></Divider>\r\n                                </Col>\r\n                                <Col span={6}>\r\n                                    <Form.Item label=\"Ac Room\">\r\n                                        <Input type=\"text\" placeholder=\"Ex - 4\"\r\n                                            value={data.dharmShalaExt?.acRoom}\r\n                                            onChange={e => { handleChange({ 'dharmShalaExt.acRoom': util.handleInteger(e.target.value) }); }}\r\n                                        />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={6}>\r\n                                    <Form.Item label=\"Non Ac Room\">\r\n                                        <Input type=\"text\" placeholder=\"Ex - 4\"\r\n                                            value={data.dharmShalaExt?.nonAcRoom}\r\n                                            onChange={e => { handleChange({ 'dharmShalaExt.nonAcRoom': util.handleInteger(e.target.value) }); }}\r\n                                        />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={6}>\r\n                                    <Form.Item label=\"Ac Hall\">\r\n                                        <Input type=\"text\" placeholder=\"Ex - 4\"\r\n                                            value={data.dharmShalaExt?.acHall}\r\n                                            onChange={e => { handleChange({ 'dharmShalaExt.acHall': util.handleInteger(e.target.value) }); }}\r\n                                        />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={6}>\r\n                                    <Form.Item label=\"Non Ac Hall\">\r\n                                        <Input type=\"text\" placeholder=\"Ex - 4\"\r\n                                            value={data.dharmShalaExt?.nonAcHall}\r\n                                            onChange={e => { handleChange({ 'dharmShalaExt.nonAcHall': util.handleInteger(e.target.value) }); }}\r\n                                        />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={6}>\r\n                                    <Form.Item label=\"Total Floor\">\r\n                                        <Input type=\"text\" placeholder=\"Ex - 4\"\r\n                                            value={data?.dharmShalaExt?.totalFloor}\r\n                                            onChange={e => { handleChange({ 'dharmShalaExt.totalFloor': util.handleInteger(e.target.value) }); }}\r\n                                        />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={6}>\r\n                                    <Form.Item label=\"Lift Facilities Availability \">\r\n                                        <Checkbox checked={data?.dharmShalaExt?.liftFacilities}\r\n                                            onChange={e => {\r\n                                                handleChange({\r\n                                                    [`dharmShalaExt.liftFacilities`]: e.target.checked,\r\n                                                });\r\n                                            }}>\r\n                                            Lift Facilities\r\n                                        </Checkbox>\r\n                                    </Form.Item>\r\n                                </Col>\r\n                            </>\r\n                            : null\r\n                    }\r\n                    {\r\n                        data.type === 'pathShala'\r\n                            ? <>\r\n                                <Col span={24}></Col>\r\n                                <Col span={8}>\r\n                                    <Form.Item label=\"Number of students\">\r\n                                        <Input type=\"text\" placeholder=\"Ex - 4\" rows={10}\r\n                                            value={data.pathShalaExt?.totalStudents}\r\n                                            onChange={e => { handleChange({ 'pathShalaExt.totalStudents': util.handleInteger(e.target.value) }); }}\r\n                                        />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={24}></Col>\r\n                            </>\r\n                            : null\r\n                    }\r\n                    {\r\n                        data.type === 'ayambiShala'\r\n                            ? <>\r\n                                <Col span={24}>\r\n                                    <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Ayambi Facilities</Typography.Text></Divider>\r\n                                </Col>\r\n                                {\r\n                                    data?.ayambiShalaExt?.facilities?.map((v, i) => (\r\n                                        <Col span={8} key={i}>\r\n                                            <Form.Item label={\r\n                                                <Checkbox checked={v?.available}\r\n                                                    onChange={e => {\r\n                                                        handleChange({\r\n                                                            [`ayambiShalaExt.facilities.${i}.available`]: e.target.checked,\r\n                                                        });\r\n                                                    }}>\r\n                                                    {\r\n                                                        v?.type === '12Months'\r\n                                                            ? '12 Months'\r\n                                                            : v?.type === '4Months'\r\n                                                                ? '4 Months'\r\n                                                                : v?.type === 'only2oli'\r\n                                                                    ? 'Only 2 Oli'\r\n                                                                    : null\r\n                                                    }\r\n                                                </Checkbox>}>\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                    ))\r\n                                }\r\n                            </>\r\n                            : null\r\n                    }\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Others Details</Typography.Text></Divider>\r\n                    </Col>\r\n\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"History\">\r\n                            <Input.TextArea type=\"text\" placeholder=\"History\" rows={10}\r\n                                value={data.historyDetails}\r\n                                onChange={e => { handleChange({ historyDetails: e.target.value }); }}\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} onChange={v => { handleChange({ status: v }) }} >\r\n                                <Select.Option value={true}>Active</Select.Option>\r\n                                <Select.Option value={false}>Inactive</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={24}></Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst HiForm = ({ data, handleChange, changeForm, fileList, setFileList }) => {\r\n    const [jinalayas, setJinalayas] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            jinalayaService.list({ isAll: 1, ln: 'hi' }).then(res => { setJinalayas(res.data || []); }).catch(err => { AntdMsg('Jinalaya data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Photos\">\r\n                            <UploadImage {...{ fileList, setFileList }} count={50} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Basic Details</Typography.Text></Divider>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Jinalaya\" required>\r\n                            <Select value={data.jinalayaId} disabled >\r\n                                {\r\n                                    jinalayas.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}></Col>\r\n                    <Col span={18}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Unique Code\" required>\r\n                            <Input placeholder=\"Unique Code\" value={data.code} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Foundation Date\" required>\r\n                            <Input placeholder=\"Foundation Date\" value={data?.foundation} onChange={e => { handleChange({ foundation: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Labharthi\" required>\r\n                            <Input placeholder=\"Labharthi\" value={data.labharthi} onChange={e => { handleChange({ labharthi: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Prachinta\" required>\r\n                            <Select value={data.prachinta} onChange={v => { handleChange({ prachinta: v }) }} disabled >\r\n                                <Select.Option value=\"1-100\">1-100</Select.Option>\r\n                                <Select.Option value=\"101-500\">101-500</Select.Option>\r\n                                <Select.Option value=\"501-2500\">501-2500</Select.Option>\r\n                                <Select.Option value=\"2500-above\">2500-above</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Address</Typography.Text></Divider>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Address\" required>\r\n                            <Input.TextArea placeholder=\"Address\" value={data.address} onChange={e => { handleChange({ address: e.target.value }) }} rows={3} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Latitude\" required>\r\n                                    <Input placeholder=\"Latitude\" value={data?.location?.coordinates?.[0]} disabled />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Longitude\" required>\r\n                                    <Input placeholder=\"Longitude\" value={data?.location?.coordinates?.[1]} disabled />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Button className=\"w-100\" type=\"primary\" disabled>Set Location</Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n\r\n                    <Divider orientation=\"left\" plain={true}></Divider>\r\n                    <Col span={11}>\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={24}>\r\n                                <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Contact Details</Typography.Text></Divider>\r\n                            </Col>\r\n                            {\r\n                                data.contactDetails?.map((v, i) => (\r\n                                    <React.Fragment key={i}>\r\n                                        <Col span={10}>\r\n                                            <Form.Item label=\"Name\" required>\r\n                                                <Input placeholder=\"Name\" value={v.name} onChange={e => { handleChange({ [`contactDetails.${i}.name`]: e.target.value }) }} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                        <Col span={10}>\r\n                                            <Form.Item label=\"Number\" required>\r\n                                                <Input placeholder=\"Number\" value={v.number} onChange={e => { handleChange({ [`contactDetails.${i}.number`]: e.target.value }) }} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                        <Col span={24}></Col>\r\n                                    </React.Fragment>\r\n                                ))\r\n                            }\r\n\r\n\r\n                        </Row>\r\n                    </Col>\r\n                    <Col span={2} style={{ textAlign: \"center\" }}>\r\n                        <Divider type=\"vertical\" style={{ height: \"100%\" }}></Divider>\r\n                    </Col>\r\n                    <Col span={11}>\r\n                        <Row gutter={[12, 8]}>\r\n                            <Col span={24}>\r\n                                <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Timing</Typography.Text></Divider>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Radio.Group\r\n                                    options={[{ label: \"Custom\", value: 'custom' }, { label: \"All Day\", value: \"allDay\" }]}\r\n                                    optionType=\"button\"\r\n                                    buttonStyle=\"solid\"\r\n                                    value={data.timing?.type}\r\n                                    disabled\r\n                                />\r\n                            </Col>\r\n                            <Col span={24}></Col>\r\n                            {\r\n                                data.timing?.type === 'custom'\r\n                                    ? <>\r\n                                        <Col span={24}>\r\n                                            <Form.Item label=\"Morning\" required>\r\n                                                <TimePicker.RangePicker className=\"w-100\" disabled\r\n                                                    value={data?.timing?.custom?.morning && [moment(data?.timing?.custom?.morning?.[0]), moment(data?.timing?.custom?.morning?.[1])]} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                        <Col span={24}>\r\n                                            <Form.Item label=\"Afternoon\" required>\r\n                                                <TimePicker.RangePicker className=\"w-100\" disabled\r\n                                                    value={data?.timing?.custom?.afternoon && [moment(data?.timing?.custom?.afternoon?.[0]), moment(data?.timing?.custom?.afternoon?.[1])]} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                        <Col span={24}>\r\n                                            <Form.Item label=\"Evening\" required>\r\n                                                <TimePicker.RangePicker className=\"w-100\" disabled\r\n                                                    value={data?.timing?.custom?.evening && [moment(data?.timing?.custom?.evening?.[0]), moment(data?.timing?.custom?.evening?.[1])]} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                    </>\r\n                                    : <Col span={24}>\r\n                                        <Form.Item label=\"Choose\" required>\r\n                                            <TimePicker.RangePicker className=\"w-100\" disabled\r\n                                                value={data?.timing?.allDay && [moment(data?.timing?.allDay?.[0]), moment(data?.timing?.allDay?.[1])]} />\r\n                                        </Form.Item>\r\n                                    </Col>\r\n                            }\r\n\r\n                        </Row>\r\n                    </Col>\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Parking Facilities</Typography.Text></Divider>\r\n                    </Col>\r\n\r\n\r\n\r\n                    {\r\n                        data.parkingFacilities?.map((v, i) => (\r\n                            <Col span={8} key={i}>\r\n                                <Form.Item label={\r\n                                    <Checkbox checked={data?.parkingFacilities?.[i]?.available} disabled>\r\n                                        {\r\n                                            data?.parkingFacilities?.[i]?.type === 'rickshaw'\r\n                                                ? 'Rickshaw'\r\n                                                : data?.parkingFacilities?.[i]?.type === 'car'\r\n                                                    ? 'Car'\r\n                                                    : data?.parkingFacilities?.[i]?.type === 'bus'\r\n                                                        ? 'Bus'\r\n                                                        : null\r\n                                        }\r\n                                    </Checkbox>}>\r\n                                    {\r\n                                        +data?.parkingFacilities?.[i]?.available\r\n                                            ? <Input type=\"text\" placeholder=\"Remarks\" value={data?.parkingFacilities?.[i]?.remarks} onChange={e => { handleChange({ [`parkingFacilities.${i}.remarks`]: e.target.value }) }} />\r\n                                            : null\r\n                                    }\r\n\r\n                                </Form.Item>\r\n                            </Col>\r\n                        ))\r\n                    }\r\n\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Rest Room Facilities</Typography.Text></Divider>\r\n                    </Col>\r\n\r\n                    {\r\n                        data.restRoomFacility?.map((v, i) => (\r\n                            <Col span={24} key={i}>\r\n                                <Card size=\"small\">\r\n                                    <Row gutter={[12, 2]}>\r\n                                        <Col span={6}>{v.type === 'male' ? 'Male' : v.type === 'female' ? 'Female' : null}</Col>\r\n                                        <Col span={6}>\r\n                                            <Checkbox checked={v.bathroom} disabled>Bathroom</Checkbox>\r\n                                        </Col>\r\n                                        <Col span={6}>\r\n                                            <Checkbox checked={v.toilet} disabled>Toilet</Checkbox>\r\n                                        </Col>\r\n                                        <Col span={6}>\r\n                                            <Checkbox checked={v.locker} disabled>Bus</Checkbox>\r\n                                        </Col>\r\n                                    </Row>\r\n                                </Card>\r\n                            </Col>\r\n                        ))\r\n                    }\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Distance From</Typography.Text></Divider>\r\n                    </Col>\r\n                    {\r\n                        data.distanceFrom?.map((v, i) => (\r\n                            <Col span={8} key={i}>\r\n                                <Form.Item label={\r\n                                    <Checkbox checked={data?.distanceFrom?.[i]?.available} disabled>\r\n                                        {\r\n                                            data?.distanceFrom?.[i]?.type === 'busStop'\r\n                                                ? 'Main Busstop'\r\n                                                : data?.distanceFrom?.[i]?.type === 'railway'\r\n                                                    ? 'Main Railway Station'\r\n                                                    : data?.distanceFrom?.[i]?.type === 'airport'\r\n                                                        ? 'Neares Airport'\r\n                                                        : null\r\n                                        }\r\n                                    </Checkbox>}>\r\n                                    <Select mode=\"tags\" value={data?.distanceFrom?.[i]?.remarks} placeholder=\"Type address and press enter\" onChange={v => { handleChange({ [`distanceFrom.${i}.remarks`]: v }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                        ))\r\n                    }\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}></Divider>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label={<Checkbox checked={data.upashray?.available} disabled>Upashray</Checkbox>}>\r\n                            {\r\n                                data.upashray?.available\r\n                                    ? <Input type=\"text\" placeholder=\"Number\" value={data.upashray.value} disabled />\r\n                                    : null\r\n                            }\r\n\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n\r\n                    {\r\n                        data.type === 'dharmShala'\r\n                            ? <>\r\n                                <Col span={24}>\r\n                                    <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Rooms and Halls</Typography.Text></Divider>\r\n                                </Col>\r\n                                <Col span={6}>\r\n                                    <Form.Item label=\"Ac Room\">\r\n                                        <Input type=\"text\" placeholder=\"Ex - 4\" rows={10}\r\n                                            value={data.dharmShalaExt?.acRoom}\r\n                                            disabled\r\n                                        />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={6}>\r\n                                    <Form.Item label=\"Non Ac Room\">\r\n                                        <Input type=\"text\" placeholder=\"Ex - 4\" rows={10}\r\n                                            value={data.dharmShalaExt?.nonAcRoom}\r\n                                            disabled\r\n                                        />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={6}>\r\n                                    <Form.Item label=\"Ac Hall\">\r\n                                        <Input type=\"text\" placeholder=\"Ex - 4\" rows={10}\r\n                                            value={data.dharmShalaExt?.acHall}\r\n                                            disabled\r\n                                        />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={6}>\r\n                                    <Form.Item label=\"Non Ac Hall\">\r\n                                        <Input type=\"text\" placeholder=\"Ex - 4\" rows={10}\r\n                                            value={data.dharmShalaExt?.nonAcHall}\r\n                                            disabled\r\n                                        />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={6}>\r\n                                    <Form.Item label=\"Total Floor\">\r\n                                        <Input type=\"text\" placeholder=\"Ex - 4\"\r\n                                            value={data?.dharmShalaExt?.totalFloor}\r\n                                            disabled\r\n                                        />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={6}>\r\n                                    <Form.Item label=\"Lift Facilities Availability \">\r\n                                        <Checkbox checked={data?.dharmShalaExt?.liftFacilities}\r\n                                            disabled>\r\n                                            Lift Facilities\r\n                                        </Checkbox>\r\n                                    </Form.Item>\r\n                                </Col>\r\n                            </>\r\n                            : null\r\n                    }\r\n                    {\r\n                        data.type === 'pathShala'\r\n                            ? <>\r\n                                <Col span={24}></Col>\r\n                                <Col span={8}>\r\n                                    <Form.Item label=\"Number of students\">\r\n                                        <Input type=\"text\" placeholder=\"Ex - 4\" rows={10}\r\n                                            value={data.pathShalaExt?.totalStudents}\r\n                                            disabled\r\n                                        />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={24}></Col>\r\n                            </>\r\n                            : null\r\n                    }\r\n                    {\r\n                        data.type === 'ayambiShala'\r\n                            ? <>\r\n                                <Col span={24}>\r\n                                    <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Ayambi Facilities</Typography.Text></Divider>\r\n                                </Col>\r\n                                {\r\n                                    data?.ayambiShalaExt?.facilities?.map((v, i) => (\r\n                                        <Col span={8} key={i}>\r\n                                            <Form.Item label={\r\n                                                <Checkbox checked={v?.available} disabled>\r\n                                                    {\r\n                                                        v?.type === '12Months'\r\n                                                            ? '12 Months'\r\n                                                            : v?.type === '4Months'\r\n                                                                ? '4 Months'\r\n                                                                : v?.type === 'only2oli'\r\n                                                                    ? 'Only 2 Oli'\r\n                                                                    : null\r\n                                                    }\r\n                                                </Checkbox>}>\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                    ))\r\n                                }\r\n                            </>\r\n                            : null\r\n                    }\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Others Details</Typography.Text></Divider>\r\n                    </Col>\r\n\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"History\">\r\n                            <Input.TextArea type=\"text\" placeholder=\"Remarks\" rows={10}\r\n                                value={data.historyDetails}\r\n                                onChange={e => { handleChange({ historyDetails: e.target.value }); }}\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} disabled >\r\n                                <Select.Option value={true}>Active</Select.Option>\r\n                                <Select.Option value={false}>Inactive</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={24}></Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst GuForm = ({ data, handleChange, changeForm, fileList, setFileList }) => {\r\n    const [jinalayas, setJinalayas] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            jinalayaService.list({ isAll: 1, ln: 'gu' }).then(res => { setJinalayas(res.data || []); }).catch(err => { AntdMsg('Jinalaya data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Photos\">\r\n                            <UploadImage {...{ fileList, setFileList }} count={50} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Basic Details</Typography.Text></Divider>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Jinalaya\" required>\r\n                            <Select value={data.jinalayaId} disabled >\r\n                                {\r\n                                    jinalayas.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}></Col>\r\n                    <Col span={18}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Unique Code\" required>\r\n                            <Input placeholder=\"Unique Code\" value={data.code} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Foundation Date\" required>\r\n                            <Input placeholder=\"Foundation Date\" value={data?.foundation} onChange={e => { handleChange({ foundation: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Labharthi\" required>\r\n                            <Input placeholder=\"Labharthi\" value={data.labharthi} onChange={e => { handleChange({ labharthi: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Prachinta\" required>\r\n                            <Select value={data.prachinta} onChange={v => { handleChange({ prachinta: v }) }} disabled >\r\n                                <Select.Option value=\"1-100\">1-100</Select.Option>\r\n                                <Select.Option value=\"101-500\">101-500</Select.Option>\r\n                                <Select.Option value=\"501-2500\">501-2500</Select.Option>\r\n                                <Select.Option value=\"2500-above\">2500-above</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Address</Typography.Text></Divider>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Address\" required>\r\n                            <Input.TextArea placeholder=\"Address\" value={data.address} onChange={e => { handleChange({ address: e.target.value }) }} rows={3} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Latitude\" required>\r\n                                    <Input placeholder=\"Latitude\" value={data?.location?.coordinates?.[0]} disabled />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Longitude\" required>\r\n                                    <Input placeholder=\"Longitude\" value={data?.location?.coordinates?.[1]} disabled />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Button className=\"w-100\" type=\"primary\" disabled>Set Location</Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n\r\n                    <Divider orientation=\"left\" plain={true}></Divider>\r\n                    <Col span={11}>\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={24}>\r\n                                <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Contact Details</Typography.Text></Divider>\r\n                            </Col>\r\n                            {\r\n                                data.contactDetails?.map((v, i) => (\r\n                                    <React.Fragment key={i}>\r\n                                        <Col span={10}>\r\n                                            <Form.Item label=\"Name\" required>\r\n                                                <Input placeholder=\"Name\" value={v.name} onChange={e => { handleChange({ [`contactDetails.${i}.name`]: e.target.value }) }} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                        <Col span={10}>\r\n                                            <Form.Item label=\"Number\" required>\r\n                                                <Input placeholder=\"Number\" value={v.number} onChange={e => { handleChange({ [`contactDetails.${i}.number`]: e.target.value }) }} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                        <Col span={24}></Col>\r\n                                    </React.Fragment>\r\n                                ))\r\n                            }\r\n\r\n\r\n                        </Row>\r\n                    </Col>\r\n                    <Col span={2} style={{ textAlign: \"center\" }}>\r\n                        <Divider type=\"vertical\" style={{ height: \"100%\" }}></Divider>\r\n                    </Col>\r\n                    <Col span={11}>\r\n                        <Row gutter={[12, 8]}>\r\n                            <Col span={24}>\r\n                                <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Timing</Typography.Text></Divider>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Radio.Group\r\n                                    options={[{ label: \"Custom\", value: 'custom' }, { label: \"All Day\", value: \"allDay\" }]}\r\n                                    optionType=\"button\"\r\n                                    buttonStyle=\"solid\"\r\n                                    value={data.timing?.type}\r\n                                    disabled\r\n                                />\r\n                            </Col>\r\n                            <Col span={24}></Col>\r\n                            {\r\n                                data.timing?.type === 'custom'\r\n                                    ? <>\r\n                                        <Col span={24}>\r\n                                            <Form.Item label=\"Morning\" required>\r\n                                                <TimePicker.RangePicker className=\"w-100\" disabled\r\n                                                    value={data?.timing?.custom?.morning && [moment(data?.timing?.custom?.morning?.[0]), moment(data?.timing?.custom?.morning?.[1])]} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                        <Col span={24}>\r\n                                            <Form.Item label=\"Afternoon\" required>\r\n                                                <TimePicker.RangePicker className=\"w-100\" disabled\r\n                                                    value={data?.timing?.custom?.afternoon && [moment(data?.timing?.custom?.afternoon?.[0]), moment(data?.timing?.custom?.afternoon?.[1])]} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                        <Col span={24}>\r\n                                            <Form.Item label=\"Evening\" required>\r\n                                                <TimePicker.RangePicker className=\"w-100\" disabled\r\n                                                    value={data?.timing?.custom?.evening && [moment(data?.timing?.custom?.evening?.[0]), moment(data?.timing?.custom?.evening?.[1])]} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                    </>\r\n                                    : <Col span={24}>\r\n                                        <Form.Item label=\"Choose\" required>\r\n                                            <TimePicker.RangePicker className=\"w-100\" disabled\r\n                                                value={data?.timing?.allDay && [moment(data?.timing?.allDay?.[0]), moment(data?.timing?.allDay?.[1])]} />\r\n                                        </Form.Item>\r\n                                    </Col>\r\n                            }\r\n\r\n                        </Row>\r\n                    </Col>\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Parking Facilities</Typography.Text></Divider>\r\n                    </Col>\r\n\r\n\r\n\r\n                    {\r\n                        data.parkingFacilities?.map((v, i) => (\r\n                            <Col span={8} key={i}>\r\n                                <Form.Item label={\r\n                                    <Checkbox checked={data?.parkingFacilities?.[i]?.available} disabled>\r\n                                        {\r\n                                            data?.parkingFacilities?.[i]?.type === 'rickshaw'\r\n                                                ? 'Rickshaw'\r\n                                                : data?.parkingFacilities?.[i]?.type === 'car'\r\n                                                    ? 'Car'\r\n                                                    : data?.parkingFacilities?.[i]?.type === 'bus'\r\n                                                        ? 'Bus'\r\n                                                        : null\r\n                                        }\r\n                                    </Checkbox>}>\r\n                                    {\r\n                                        +data?.parkingFacilities?.[i]?.available\r\n                                            ? <Input type=\"text\" placeholder=\"Remarks\" value={data?.parkingFacilities?.[i]?.remarks} onChange={e => { handleChange({ [`parkingFacilities.${i}.remarks`]: e.target.value }) }} />\r\n                                            : null\r\n                                    }\r\n\r\n                                </Form.Item>\r\n                            </Col>\r\n                        ))\r\n                    }\r\n\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Rest Room Facilities</Typography.Text></Divider>\r\n                    </Col>\r\n\r\n                    {\r\n                        data.restRoomFacility?.map((v, i) => (\r\n                            <Col span={24} key={i}>\r\n                                <Card size=\"small\">\r\n                                    <Row gutter={[12, 2]}>\r\n                                        <Col span={6}>{v.type === 'male' ? 'Male' : v.type === 'female' ? 'Female' : null}</Col>\r\n                                        <Col span={6}>\r\n                                            <Checkbox checked={v.bathroom} disabled>Bathroom</Checkbox>\r\n                                        </Col>\r\n                                        <Col span={6}>\r\n                                            <Checkbox checked={v.toilet} disabled>Toilet</Checkbox>\r\n                                        </Col>\r\n                                        <Col span={6}>\r\n                                            <Checkbox checked={v.locker} disabled>Bus</Checkbox>\r\n                                        </Col>\r\n                                    </Row>\r\n                                </Card>\r\n                            </Col>\r\n                        ))\r\n                    }\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Distance From</Typography.Text></Divider>\r\n                    </Col>\r\n                    {\r\n                        data.distanceFrom?.map((v, i) => (\r\n                            <Col span={8} key={i}>\r\n                                <Form.Item label={\r\n                                    <Checkbox checked={data?.distanceFrom?.[i]?.available} disabled>\r\n                                        {\r\n                                            data?.distanceFrom?.[i]?.type === 'busStop'\r\n                                                ? 'Main Busstop'\r\n                                                : data?.distanceFrom?.[i]?.type === 'railway'\r\n                                                    ? 'Main Railway Station'\r\n                                                    : data?.distanceFrom?.[i]?.type === 'airport'\r\n                                                        ? 'Neares Airport'\r\n                                                        : null\r\n                                        }\r\n                                    </Checkbox>}>\r\n                                    <Select mode=\"tags\" value={data?.distanceFrom?.[i]?.remarks} placeholder=\"Type address and press enter\" onChange={v => { handleChange({ [`distanceFrom.${i}.remarks`]: v }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                        ))\r\n                    }\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}></Divider>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label={<Checkbox checked={data.upashray?.available} disabled>Upashray</Checkbox>}>\r\n                            {\r\n                                data.upashray?.available\r\n                                    ? <Input type=\"text\" placeholder=\"Number\" value={data.upashray.value} disabled />\r\n                                    : null\r\n                            }\r\n\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    {\r\n                        data.type === 'dharmShala'\r\n                            ? <>\r\n                                <Col span={24}>\r\n                                    <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Rooms and Halls</Typography.Text></Divider>\r\n                                </Col>\r\n                                <Col span={6}>\r\n                                    <Form.Item label=\"Ac Room\">\r\n                                        <Input type=\"text\" placeholder=\"Ex - 4\" rows={10}\r\n                                            value={data.dharmShalaExt?.acRoom}\r\n                                            disabled\r\n                                        />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={6}>\r\n                                    <Form.Item label=\"Non Ac Room\">\r\n                                        <Input type=\"text\" placeholder=\"Ex - 4\" rows={10}\r\n                                            value={data.dharmShalaExt?.nonAcRoom}\r\n                                            disabled\r\n                                        />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={6}>\r\n                                    <Form.Item label=\"Ac Hall\">\r\n                                        <Input type=\"text\" placeholder=\"Ex - 4\" rows={10}\r\n                                            value={data.dharmShalaExt?.acHall}\r\n                                            disabled\r\n                                        />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={6}>\r\n                                    <Form.Item label=\"Non Ac Hall\">\r\n                                        <Input type=\"text\" placeholder=\"Ex - 4\" rows={10}\r\n                                            value={data.dharmShalaExt?.nonAcHall}\r\n                                            disabled\r\n                                        />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={6}>\r\n                                    <Form.Item label=\"Total Floor\">\r\n                                        <Input type=\"text\" placeholder=\"Ex - 4\"\r\n                                            value={data?.dharmShalaExt?.totalFloor}\r\n                                            disabled\r\n                                        />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={6}>\r\n                                    <Form.Item label=\"Lift Facilities Availability \">\r\n                                        <Checkbox checked={data?.dharmShalaExt?.liftFacilities}\r\n                                            disabled>\r\n                                            Lift Facilities\r\n                                        </Checkbox>\r\n                                    </Form.Item>\r\n                                </Col>\r\n                            </>\r\n                            : null\r\n                    }\r\n                    {\r\n                        data.type === 'pathShala'\r\n                            ? <>\r\n                                <Col span={24}></Col>\r\n                                <Col span={8}>\r\n                                    <Form.Item label=\"Number of students\">\r\n                                        <Input type=\"text\" placeholder=\"Ex - 4\" rows={10}\r\n                                            value={data.pathShalaExt?.totalStudents}\r\n                                            disabled\r\n                                        />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={24}></Col>\r\n                            </>\r\n                            : null\r\n                    }\r\n                    {\r\n                        data.type === 'ayambiShala'\r\n                            ? <>\r\n                                <Col span={24}>\r\n                                    <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Ayambi Facilities</Typography.Text></Divider>\r\n                                </Col>\r\n                                {\r\n                                    data?.ayambiShalaExt?.facilities?.map((v, i) => (\r\n                                        <Col span={8} key={i}>\r\n                                            <Form.Item label={\r\n                                                <Checkbox checked={v?.available} disabled>\r\n                                                    {\r\n                                                        v?.type === '12Months'\r\n                                                            ? '12 Months'\r\n                                                            : v?.type === '4Months'\r\n                                                                ? '4 Months'\r\n                                                                : v?.type === 'only2oli'\r\n                                                                    ? 'Only 2 Oli'\r\n                                                                    : null\r\n                                                    }\r\n                                                </Checkbox>}>\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                    ))\r\n                                }\r\n                            </>\r\n                            : null\r\n                    }\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Others Details</Typography.Text></Divider>\r\n                    </Col>\r\n\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"History\">\r\n                            <Input.TextArea type=\"text\" placeholder=\"Remarks\" rows={10}\r\n                                value={data.historyDetails}\r\n                                onChange={e => { handleChange({ historyDetails: e.target.value }); }}\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} disabled >\r\n                                <Select.Option value={true}>Active</Select.Option>\r\n                                <Select.Option value={false}>Inactive</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={24}></Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\n\r\n\r\nconst JinalayaModel = forwardRef((props, ref) => {\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(dt);\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title=\"Jinalaya Details\"\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onCancel={() => { setOpen(false); }}\r\n                maskClosable={false}\r\n                width={1400}\r\n                destroyOnClose\r\n                className=\"app-modal-body-overflow\"\r\n                footer={null}\r\n            >\r\n                <Jinalaya jinalayaId={data._id} />\r\n\r\n            </Modal>\r\n        </>\r\n    );\r\n});","import React, { useEffect, useState } from 'react'\r\nimport { useJsApiLoader, GoogleMap } from \"@react-google-maps/api\"\r\nconst GoogleMapsModal = (props) => {\r\n    const [lat, setLat] = useState(props.lat || 28.698997);\r\n    const [lng, setLng] = useState(props.lng || 77.138420);\r\n    const { isLoaded } = useJsApiLoader({\r\n        googleMapsApiKey: process.env.REACT_APP_GOOGLE_MAPS_API_KEY\r\n    })\r\n\r\n    const handlePos = (e) => {\r\n        setLat(e.latLng.lat());\r\n        setLng(e.latLng.lng());\r\n    }\r\n\r\n    useEffect(() => {\r\n        props?.onChange({ lat, lng })\r\n    }, [lat, lng])\r\n    if (!isLoaded) {\r\n        return <h1>Loading Maps.....</h1>\r\n    }\r\n    return (\r\n        <div style={{ paddingBottom: \"1rem\" }}>\r\n            <GoogleMap center={{ lat, lng }} zoom={15} mapContainerStyle={{ width: \"100%\", height: \"500px\" }} onClick={e => handlePos(e)}>\r\n            </GoogleMap>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GoogleMapsModal","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Tabs, Card, Select, Divider, Radio, TimePicker, Checkbox, Tag } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined, MinusOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport moment from \"moment\";\r\nimport service from '../../../services/jinalaya';\r\nimport locationService from '../../../services/location';\r\nimport bhagwanService from '../../../services/bhagwan';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport commonObj from '../../../commonObj';\r\nimport util from '../../../utils/util';\r\nimport UploadImage from '../../../utils/UploadImage';\r\nimport Shala from './Shala';\r\nimport Kalyanak from './Kalyanak';\r\nimport GoogleMapsModal from '../../../utils/GoogleMapsModal';\r\n\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function Jinalaya({ jinalayaId = null }) {\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, jinalayaId });\r\n    const addNewModalRef = useRef();\r\n    const shalaModalRef = useRef();\r\n    const kalyanakModalRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            // width: 200,\r\n        },\r\n        {\r\n            title: 'Shalas',\r\n            dataIndex: '_id',\r\n            width: 450,\r\n            render: value => (\r\n                <>\r\n                    <Row gutter={10}>\r\n                        <Col>\r\n                            <Button type=\"primary\" size=\"small\" onClick={() => { shalaModalRef.current.openForm({ type: 'dharmShala', _id: value }) }} >Dharm Shala</Button>\r\n                        </Col>\r\n                        <Col>\r\n                            <Button type=\"dashed\" size=\"small\" onClick={() => { shalaModalRef.current.openForm({ type: 'bhojanShala', _id: value }) }} >Bhojan Shala</Button>\r\n                        </Col>\r\n                        <Col>\r\n                            <Button type=\"danger\" size=\"small\" onClick={() => { shalaModalRef.current.openForm({ type: 'pathShala', _id: value }) }} >Path Shala</Button>\r\n                        </Col>\r\n                        <Col>\r\n                            <Button type=\"default\" size=\"small\" onClick={() => { shalaModalRef.current.openForm({ type: 'ayambiShala', _id: value }) }} >Ayambi Shala</Button>\r\n                        </Col>\r\n                    </Row>\r\n                </>\r\n            )\r\n        },\r\n        {\r\n            title: 'Kalyanak',\r\n            dataIndex: '_id',\r\n            width: 100,\r\n            render: value => (\r\n                <>\r\n                    <Button type=\"primary\" size=\"small\" onClick={() => { kalyanakModalRef.current.openForm({ _id: value }) }} >Kalyanak</Button>\r\n                </>\r\n            )\r\n        },\r\n        {\r\n            title: 'Unique Code',\r\n            dataIndex: 'code',\r\n            width: 100,\r\n        },\r\n        {\r\n            title: 'Parshvanath',\r\n            dataIndex: 'isParshvanath',\r\n            width: 100,\r\n            render: v => {\r\n                if (v) {\r\n                    return <Tag color='green'>Yes</Tag>\r\n                } else {\r\n                    return <Tag color='red'>No</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: '24 T. Jinalaya',\r\n            dataIndex: 'is24TirthankarJinalaya',\r\n            width: 120,\r\n            render: v => {\r\n                if (v) {\r\n                    return <Tag color='green'>Yes</Tag>\r\n                } else {\r\n                    return <Tag color='red'>No</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        deleteAccess\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete this city?\"\r\n                                onConfirm={() => { deleteData(row._id); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        editAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.list(qData).then(res => {\r\n                setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.delete(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => jinalayaId ? null : <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            {jinalayaId ? null : <Typography.Title level={5}>List of Jinalayas</Typography.Title>}\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list }} />\r\n            <ShalaModal ref={shalaModalRef} />\r\n            <KalyanakModal ref={kalyanakModalRef} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list }) {\r\n\r\n    const [bhagwan, setBhagwan] = useState([]);\r\n    const [states, setStates] = useState([]);\r\n    const [districts, setDistricts] = useState([]);\r\n    // const [cities, setCities] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            bhagwanService.list({ isAll: 1, ln: 'en' }).then(res => { setBhagwan(res.data || []); }).catch(err => { AntdMsg('Bhagwan data not loaded', 'error'); });\r\n            locationService.listState({ isAll: 1, ln: 'en' }).then(res => { setStates(res.data || []); }).catch(err => { AntdMsg('States not loaded', 'error'); });\r\n            locationService.listDistrict({ isAll: 1, ln: 'en' }).then(res => { setDistricts(res.data || []); }).catch(err => { AntdMsg('Districts not loaded', 'error'); });\r\n            // locationService.listCity({ isAll: 1, ln: 'en' }).then(res => { setCities(res.data || []); }).catch(err => { AntdMsg('Cities not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by name or code\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={4}>\r\n                    <Form.Item>\r\n                        <Select placeholder=\"Mulnayak\" value={qData.bhagwanId} onChange={v => { setQData({ ...qData, bhagwanId: v }) }} allowClear >\r\n                            {\r\n                                bhagwan.map(v => (\r\n                                    <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                ))\r\n                            }\r\n                        </Select>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={4}>\r\n                    <Form.Item>\r\n                        <Select placeholder=\"State\" value={qData.stateId} onChange={v => { setQData({ ...qData, stateId: v, districtId: null }) }} allowClear >\r\n                            {\r\n                                states.map(v => (\r\n                                    <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                ))\r\n                            }\r\n                        </Select>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={4}>\r\n                    <Form.Item>\r\n                        <Select placeholder=\"District\" value={qData.districtId} onChange={v => { setQData({ ...qData, districtId: v }) }} allowClear >\r\n                            {\r\n                                districts.filter(v => v.stateId === qData.stateId).map(v => (\r\n                                    <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                ))\r\n                            }\r\n                        </Select>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    {\r\n                        addAccess\r\n                            ? <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                                <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                            </Form.Item>\r\n                            : null\r\n                    }\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected jinalayas?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [ln, setLn] = useState('en');\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const [fileList, setFileList] = useState([]);\r\n\r\n\r\n\r\n    const handleChange = (value) => {\r\n        if (changeForm) {\r\n            Object.entries(value).forEach(ent => {\r\n                let varDt = data;\r\n                const k = ent[0];\r\n                const v = ent[1];\r\n                let keys = k.split('.');\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    if (i + 1 === keys.length) {\r\n                        varDt[keys[i]] = v;\r\n                    } else {\r\n                        if (typeof varDt[keys[i]] === 'undefined') {\r\n                            if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                                varDt[keys[i]] = [];\r\n                            } else {\r\n                                varDt[keys[i]] = {};\r\n                            }\r\n                        } varDt = varDt[keys[i]];\r\n                    }\r\n                }\r\n            });\r\n            setData({ ...data });\r\n        }\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : {\r\n                        timing: { type: 'custom' },\r\n                        contactDetails: [{}],\r\n                        status: true,\r\n                        parkingFacilities: [\r\n                            {\r\n                                type: 'rickshaw',\r\n                                available: true,\r\n                                remarks: ''\r\n                            },\r\n                            {\r\n                                type: 'car',\r\n                                available: true,\r\n                                remarks: ''\r\n                            },\r\n                            {\r\n                                type: 'bus',\r\n                                available: true,\r\n                                remarks: ''\r\n                            }\r\n                        ],\r\n                        distanceFrom: [\r\n                            {\r\n                                type: 'busStop',\r\n                                available: true,\r\n                                remarks: []\r\n                            },\r\n                            {\r\n                                type: 'railway',\r\n                                available: true,\r\n                                remarks: []\r\n                            },\r\n                            {\r\n                                type: 'airport',\r\n                                available: true,\r\n                                remarks: []\r\n                            }\r\n                        ],\r\n                        restRoomFacility: [\r\n                            {\r\n                                type: 'male',\r\n                                bathroom: true,\r\n                                toilet: true,\r\n                                locker: true,\r\n                            },\r\n                            {\r\n                                type: 'female',\r\n                                bathroom: true,\r\n                                toilet: true,\r\n                                locker: true,\r\n                            }\r\n                        ],\r\n                        foundation: \"\"\r\n                    }\r\n            );\r\n            if (!dt && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detail(data.parentId || data._id, { ln }).then(res => {\r\n            setData(res.data || {});\r\n            setFileList(res.data?.imgUrls || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        if (changeForm) {\r\n            setAjxRequesting(true);\r\n            service.save(data, { ln }).then((res) => {\r\n                AntdMsg(res.message);\r\n                handleChange({ ...res.data });\r\n                if (ln === \"en\") {\r\n                    list();\r\n                }\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [ln, data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        } else {\r\n            setLn('en');\r\n            setFileList([]);\r\n        }\r\n    }, [open]);\r\n\r\n    useEffect(() => {\r\n        handleChange({ imgUrls: fileList });\r\n    }, [fileList]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Jinalaya'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                // destroyOnClose\r\n                maskClosable={false}\r\n                width={1400}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    changeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Tabs activeKey={ln} type=\"card\" size=\"small\" style={{ marginBottom: 0 }} onChange={(v) => { setLn(v); }}\r\n                        items={[\r\n                            {\r\n                                label: \"English\",\r\n                                key: \"en\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <EnForm {...{ data, handleChange, save, changeForm, fileList, setFileList }} />\r\n                                </Card>,\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"hi\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <HiForm {...{ data, handleChange, save, changeForm, fileList, setFileList }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"gu\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <GuForm {...{ data, handleChange, save, changeForm, fileList, setFileList }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            }\r\n                        ]}\r\n                    />\r\n                </Spin>\r\n\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst EnForm = ({ data, handleChange, changeForm, fileList, setFileList }) => {\r\n    const [bhagwan, setBhagwan] = useState([]);\r\n    const [states, setStates] = useState([]);\r\n    const [districts, setDistricts] = useState([]);\r\n    const [cities, setCities] = useState([]);\r\n    const googleMapModalRef = useRef();\r\n\r\n\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            bhagwanService.list({ isAll: 1, ln: 'en' }).then(res => { setBhagwan(res.data || []); }).catch(err => { AntdMsg('Bhagwan data not loaded', 'error'); });\r\n            locationService.listState({ isAll: 1, ln: 'en' }).then(res => { setStates(res.data || []); }).catch(err => { AntdMsg('States not loaded', 'error'); });\r\n            locationService.listDistrict({ isAll: 1, ln: 'en' }).then(res => { setDistricts(res.data || []); }).catch(err => { AntdMsg('Districts not loaded', 'error'); });\r\n            locationService.listCity({ isAll: 1, ln: 'en' }).then(res => { setCities(res.data || []); }).catch(err => { AntdMsg('Cities not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n    return (\r\n        <>\r\n            <GoogleModal ref={googleMapModalRef} lat={data?.location?.coordinates[0]} lng={data?.location?.coordinates[1]} handleChange={handleChange} />\r\n\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Jinalaya's Photo\">\r\n                            <UploadImage {...{ fileList, setFileList }} count={50} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Basic Details</Typography.Text></Divider>\r\n                    </Col>\r\n                    <Col span={18}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Unique Code\" required>\r\n                            <Input placeholder=\"Unique Code\" value={data.code} onChange={e => { handleChange({ code: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Foundation Date\" required>\r\n                            <Input placeholder=\"Foundation Date\" value={data?.foundation} onChange={e => { handleChange({ foundation: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Mulnayak\" required>\r\n                            <Select value={data.bhagwanId} onChange={v => { handleChange({ bhagwanId: v }) }} >\r\n                                {\r\n                                    bhagwan.map(v => (\r\n                                        <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Pratisthacharya Name\" required>\r\n                            <Input placeholder=\"Pratisthacharya Name\" value={data.pratisthacharya} onChange={e => { handleChange({ pratisthacharya: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Dhwaja Labharthi\" required>\r\n                            <Input placeholder=\"Dhwaja Labharthi\" value={data.dhwajaLabharthi} onChange={e => { handleChange({ dhwajaLabharthi: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Prachinta\" required>\r\n                            <Select value={data.prachinta} onChange={v => { handleChange({ prachinta: v }) }} >\r\n                                <Select.Option value=\"1-100\">1-100</Select.Option>\r\n                                <Select.Option value=\"101-500\">101-500</Select.Option>\r\n                                <Select.Option value=\"501-2500\">501-2500</Select.Option>\r\n                                <Select.Option value=\"2500-above\">2500-above</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Jinalaya Included In</Typography.Text></Divider>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Checkbox checked={data.isParshvanath} onChange={e => { handleChange({ isParshvanath: e.target.checked }) }}>108 Parshwanath</Checkbox>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Checkbox checked={data.is24TirthankarJinalaya} onChange={e => { handleChange({ is24TirthankarJinalaya: e.target.checked }) }}>24 Tirthankar Jinalaya</Checkbox>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Address</Typography.Text></Divider>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"State\" required>\r\n                            <Select value={data.stateId} onChange={v => { handleChange({ stateId: v, districtId: null, cityId: null }) }} >\r\n                                {\r\n                                    states.map(v => (\r\n                                        <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"District\" required>\r\n                            <Select value={data.districtId} onChange={v => { handleChange({ districtId: v, cityId: null }) }} >\r\n                                {\r\n                                    districts.filter(v => v.stateId === data.stateId).map(v => (\r\n                                        <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"City\" required>\r\n                            <Select value={data.cityId} onChange={v => { handleChange({ cityId: v }) }} >\r\n                                {\r\n                                    cities.filter(v => v.districtId === data.districtId).map(v => (\r\n                                        <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Pin Code\" required>\r\n                            <Input placeholder=\"Pin Code\" value={data.pincode} onChange={e => { handleChange({ pincode: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Address\" required>\r\n                            <Input.TextArea placeholder=\"Address\" value={data.address} onChange={e => { handleChange({ address: e.target.value }) }} rows={3} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Latitude\" required>\r\n                                    <Input placeholder=\"Latitude\" value={data?.location?.coordinates?.[0]} onChange={e => { handleChange({ [`location.coordinates.0`]: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Longitude\" required>\r\n                                    <Input placeholder=\"Longitude\" value={data?.location?.coordinates?.[1]} onChange={e => { handleChange({ [`location.coordinates.1`]: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Button className=\"w-100\" type=\"primary\" onClick={() => { googleMapModalRef.current.openForm(\"d\") }}>Set Location</Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n\r\n                    <Divider orientation=\"left\" plain={true}></Divider>\r\n                    <Col span={11}>\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={24}>\r\n                                <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Contact Details</Typography.Text></Divider>\r\n                            </Col>\r\n                            {\r\n                                data.contactDetails?.map((v, i) => (\r\n                                    <React.Fragment key={i}>\r\n                                        <Col span={10}>\r\n                                            <Form.Item label=\"Name\" required>\r\n                                                <Input placeholder=\"Name\" value={v.name} onChange={e => { handleChange({ [`contactDetails.${i}.name`]: e.target.value }) }} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                        <Col span={10}>\r\n                                            <Form.Item label=\"Number\" required>\r\n                                                <Input placeholder=\"Number\" value={v.number} onChange={e => { handleChange({ [`contactDetails.${i}.number`]: e.target.value }) }} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                        <Col span={4}>\r\n                                            <Form.Item label=\" \" >\r\n                                                {\r\n                                                    i !== 0\r\n                                                        ? <Button type=\"primary\" danger shape=\"circle\" icon={<MinusOutlined />} onClick={() => {\r\n                                                            handleChange({ contactDetails: [...data.contactDetails.filter((vv, ii) => ii !== i)] });\r\n                                                        }} />\r\n                                                        : null\r\n                                                }\r\n                                                {\r\n                                                    i + 1 === data.contactDetails?.length\r\n                                                        ? <Button type=\"primary\" shape=\"circle\" icon={<PlusOutlined />} onClick={() => {\r\n                                                            handleChange({ contactDetails: [...data.contactDetails, {}] });\r\n                                                        }} />\r\n                                                        : null\r\n                                                }\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                        <Col span={24}></Col>\r\n                                    </React.Fragment>\r\n                                ))\r\n                            }\r\n\r\n\r\n                        </Row>\r\n                    </Col>\r\n                    <Col span={2} style={{ textAlign: \"center\" }}>\r\n                        <Divider type=\"vertical\" style={{ height: \"100%\" }}></Divider>\r\n                    </Col>\r\n                    <Col span={11}>\r\n                        <Row gutter={[12, 8]}>\r\n                            <Col span={24}>\r\n                                <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Jinalaya Timing</Typography.Text></Divider>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Radio.Group\r\n                                    options={[{ label: \"Custom\", value: 'custom' }, { label: \"All Day\", value: \"allDay\" }]}\r\n                                    optionType=\"button\"\r\n                                    buttonStyle=\"solid\"\r\n                                    value={data.timing?.type}\r\n                                    onChange={(e) => { handleChange({ 'timing.type': e.target.value, 'timing.custom': null, 'timing.allDay': null }); }}\r\n                                />\r\n                            </Col>\r\n                            <Col span={24}></Col>\r\n                            {\r\n                                data.timing?.type === 'custom'\r\n                                    ? <>\r\n                                        <Col span={24}>\r\n                                            <Form.Item label=\"Morning\" required>\r\n                                                <TimePicker.RangePicker className=\"w-100\"\r\n                                                    value={data?.timing?.custom?.morning && [moment(data?.timing?.custom?.morning?.[0]), moment(data?.timing?.custom?.morning?.[1])]}\r\n                                                    onChange={(v) => { handleChange({ [`timing.custom.morning`]: v }); }} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                        <Col span={24}>\r\n                                            <Form.Item label=\"Evening\" required>\r\n                                                <TimePicker.RangePicker className=\"w-100\"\r\n                                                    value={data?.timing?.custom?.evening && [moment(data?.timing?.custom?.evening?.[0]), moment(data?.timing?.custom?.evening?.[1])]}\r\n                                                    onChange={(v) => { handleChange({ [`timing.custom.evening`]: v }); }} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                    </>\r\n                                    : <Col span={24}>\r\n                                        <Form.Item label=\"Choose\" required>\r\n                                            <TimePicker.RangePicker className=\"w-100\"\r\n                                                value={data?.timing?.allDay && [moment(data?.timing?.allDay?.[0]), moment(data?.timing?.allDay?.[1])]}\r\n                                                onChange={(v) => { handleChange({ [`timing.allDay`]: v }); }} />\r\n                                        </Form.Item>\r\n                                    </Col>\r\n                            }\r\n\r\n                        </Row>\r\n                    </Col>\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Parking Facilities</Typography.Text></Divider>\r\n                    </Col>\r\n\r\n\r\n\r\n                    {\r\n                        data.parkingFacilities?.map((v, i) => (\r\n                            <Col span={8} key={i}>\r\n                                <Form.Item label={\r\n                                    <Checkbox checked={data?.parkingFacilities?.[i]?.available}\r\n                                        onChange={e => {\r\n                                            handleChange({\r\n                                                [`parkingFacilities.${i}.available`]: e.target.checked,\r\n                                            });\r\n                                        }}>\r\n                                        {\r\n                                            data?.parkingFacilities?.[i]?.type === 'rickshaw'\r\n                                                ? 'Rickshaw'\r\n                                                : data?.parkingFacilities?.[i]?.type === 'car'\r\n                                                    ? 'Car'\r\n                                                    : data?.parkingFacilities?.[i]?.type === 'bus'\r\n                                                        ? 'Bus'\r\n                                                        : null\r\n                                        }\r\n                                    </Checkbox>}>\r\n                                    {\r\n                                        <Input type=\"text\" placeholder=\"Remarks\" value={data?.parkingFacilities?.[i]?.remarks} onChange={e => { handleChange({ [`parkingFacilities.${i}.remarks`]: e.target.value }) }} />\r\n                                    }\r\n\r\n                                </Form.Item>\r\n                            </Col>\r\n                        ))\r\n                    }\r\n\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Rest Room Facilities</Typography.Text></Divider>\r\n                    </Col>\r\n\r\n                    {\r\n                        data.restRoomFacility?.map((v, i) => (\r\n                            <Col span={24} key={i}>\r\n                                <Card size=\"small\">\r\n                                    <Row gutter={[12, 2]}>\r\n                                        <Col span={6}>{v.type === 'male' ? 'Male' : v.type === 'female' ? 'Female' : null}</Col>\r\n                                        <Col span={6}>\r\n                                            <Checkbox checked={v.bathroom} onChange={e => {\r\n                                                handleChange({\r\n                                                    [`restRoomFacility.${i}.bathroom`]: e.target.checked,\r\n                                                });\r\n                                            }}>Bathroom</Checkbox>\r\n                                        </Col>\r\n                                        <Col span={6}>\r\n                                            <Checkbox checked={v.toilet} onChange={e => {\r\n                                                handleChange({\r\n                                                    [`restRoomFacility.${i}.toilet`]: e.target.checked,\r\n                                                });\r\n                                            }}>Toilet</Checkbox>\r\n                                        </Col>\r\n                                        <Col span={6}>\r\n                                            <Checkbox checked={v.locker} onChange={e => {\r\n                                                handleChange({\r\n                                                    [`restRoomFacility.${i}.locker`]: e.target.checked,\r\n                                                });\r\n                                            }}>Bus</Checkbox>\r\n                                        </Col>\r\n                                    </Row>\r\n                                </Card>\r\n                            </Col>\r\n                        ))\r\n                    }\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Distance From Temple</Typography.Text></Divider>\r\n                    </Col>\r\n                    {\r\n                        data.distanceFrom?.map((v, i) => (\r\n                            <Col span={8} key={i}>\r\n                                <Form.Item label={\r\n                                    <Checkbox checked={data?.distanceFrom?.[i]?.available}\r\n                                        onChange={e => {\r\n                                            handleChange({\r\n                                                [`distanceFrom.${i}.available`]: e.target.checked,\r\n                                            });\r\n                                        }}>\r\n                                        {\r\n                                            data?.distanceFrom?.[i]?.type === 'busStop'\r\n                                                ? 'Main Busstop'\r\n                                                : data?.distanceFrom?.[i]?.type === 'railway'\r\n                                                    ? 'Main Railway Station'\r\n                                                    : data?.distanceFrom?.[i]?.type === 'airport'\r\n                                                        ? 'Neares Airport'\r\n                                                        : null\r\n                                        }\r\n                                    </Checkbox>}>\r\n                                    <Select mode=\"tags\" value={data?.distanceFrom?.[i]?.remarks} placeholder=\"Type address and press enter\" onChange={v => { handleChange({ [`distanceFrom.${i}.remarks`]: v }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                        ))\r\n                    }\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}></Divider>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label={<Checkbox checked={data.upashray?.available} onChange={e => { handleChange({ [`upashray.available`]: e.target.checked }); }}>Upashray</Checkbox>}>\r\n                            {\r\n                                data.upashray?.available\r\n                                    ? <Input type=\"text\" placeholder=\"Number\" value={data.upashray.value} onChange={e => { handleChange({ [`upashray.value`]: util.handleInteger(e.target.value) }); }} />\r\n                                    : null\r\n                            }\r\n\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Others Details</Typography.Text></Divider>\r\n                    </Col>\r\n\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"History\">\r\n                            <Input.TextArea type=\"text\" placeholder=\"Remarks\" rows={10}\r\n                                value={data.historyDetails}\r\n                                onChange={e => { handleChange({ historyDetails: e.target.value }); }}\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} onChange={v => { handleChange({ status: v }) }} >\r\n                                <Select.Option value={true}>Active</Select.Option>\r\n                                <Select.Option value={false}>Inactive</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={24}></Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst HiForm = ({ data, handleChange, changeForm, fileList, setFileList }) => {\r\n    const [bhagwan, setBhagwan] = useState([]);\r\n    const [states, setStates] = useState([]);\r\n    const [districts, setDistricts] = useState([]);\r\n    const [cities, setCities] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            bhagwanService.list({ isAll: 1, ln: 'hi' }).then(res => { setBhagwan(res.data || []); }).catch(err => { AntdMsg('Bhagwan data not loaded', 'error'); });\r\n            locationService.listState({ isAll: 1, ln: 'hi' }).then(res => { setStates(res.data || []); }).catch(err => { AntdMsg('States not loaded', 'error'); });\r\n            locationService.listDistrict({ isAll: 1, ln: 'hi' }).then(res => { setDistricts(res.data || []); }).catch(err => { AntdMsg('Districts not loaded', 'error'); });\r\n            locationService.listCity({ isAll: 1, ln: 'hi' }).then(res => { setCities(res.data || []); }).catch(err => { AntdMsg('Cities not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Jinalaya's Photo\">\r\n                            <UploadImage {...{ fileList, setFileList }} count={50} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Basic Details</Typography.Text></Divider>\r\n                    </Col>\r\n                    <Col span={18}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Unique Code\" required>\r\n                            <Input placeholder=\"Unique Code\" value={data.code} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Foundation Date\" required>\r\n                            <Input placeholder=\"Foundation Date\" value={data?.foundation} onChange={e => { handleChange({ foundation: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Mulnayak\" required>\r\n                            <Select value={data.bhagwanId} disabled >\r\n                                {\r\n                                    bhagwan.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Pratisthacharya Name\" required>\r\n                            <Input placeholder=\"Pratisthacharya Name\" value={data.pratisthacharya} onChange={e => { handleChange({ pratisthacharya: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Dhwaja Labharthi\" required>\r\n                            <Input placeholder=\"Dhwaja Labharthi\" value={data.dhwajaLabharthi} onChange={e => { handleChange({ dhwajaLabharthi: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Prachinta\" required>\r\n                            <Select value={data.prachinta} disabled>\r\n                                <Select.Option value=\"1-100\">1-100</Select.Option>\r\n                                <Select.Option value=\"101-500\">101-500</Select.Option>\r\n                                <Select.Option value=\"501-2500\">501-2500</Select.Option>\r\n                                <Select.Option value=\"2500-above\">2500-above</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Jinalaya Included In</Typography.Text></Divider>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Checkbox checked={data.isParshvanath} disabled>108 Parshwanath</Checkbox>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Checkbox checked={data.is24TirthankarJinalaya} disabled>24 Tirthankar Jinalaya</Checkbox>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Address</Typography.Text></Divider>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"State\" required>\r\n                            <Select value={data.stateId} disabled>\r\n                                {\r\n                                    states.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"District\" required>\r\n                            <Select value={data.districtId} disabled >\r\n                                {\r\n                                    districts.filter(v => v.stateId === data.stateId).map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"City\" required>\r\n                            <Select value={data.cityId} disabled >\r\n                                {\r\n                                    cities.filter(v => v.districtId === data.districtId).map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Pin Code\" required>\r\n                            <Input placeholder=\"Pin Code\" value={data.pincode} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Address\" required>\r\n                            <Input.TextArea placeholder=\"Address\" value={data.address} onChange={e => { handleChange({ address: e.target.value }) }} rows={3} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Latitude\" required>\r\n                                    <Input placeholder=\"Latitude\" value={data?.location?.coordinates?.[0]} disabled />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Longitude\" required>\r\n                                    <Input placeholder=\"Longitude\" value={data?.location?.coordinates?.[1]} disabled />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Button className=\"w-100\" type=\"primary\" disabled>Set Location</Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n\r\n                    <Divider orientation=\"left\" plain={true}></Divider>\r\n                    <Col span={11}>\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={24}>\r\n                                <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Contact Details</Typography.Text></Divider>\r\n                            </Col>\r\n                            {\r\n                                data.contactDetails?.map((v, i) => (\r\n                                    <React.Fragment key={i}>\r\n                                        <Col span={10}>\r\n                                            <Form.Item label=\"Name\" required>\r\n                                                <Input placeholder=\"Name\" value={v.name} onChange={e => { handleChange({ [`contactDetails.${i}.name`]: e.target.value }) }} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                        <Col span={10}>\r\n                                            <Form.Item label=\"Number\" required>\r\n                                                <Input placeholder=\"Number\" value={v.number} onChange={e => { handleChange({ [`contactDetails.${i}.number`]: e.target.value }) }} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                        <Col span={24}></Col>\r\n                                    </React.Fragment>\r\n                                ))\r\n                            }\r\n\r\n\r\n                        </Row>\r\n                    </Col>\r\n                    <Col span={2} style={{ textAlign: \"center\" }}>\r\n                        <Divider type=\"vertical\" style={{ height: \"100%\" }}></Divider>\r\n                    </Col>\r\n                    <Col span={11}>\r\n                        <Row gutter={[12, 8]}>\r\n                            <Col span={24}>\r\n                                <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Jinalaya Timing</Typography.Text></Divider>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Radio.Group\r\n                                    options={[{ label: \"Custom\", value: 'custom' }, { label: \"All Day\", value: \"allDay\" }]}\r\n                                    optionType=\"button\"\r\n                                    buttonStyle=\"solid\"\r\n                                    value={data.timing?.type}\r\n                                    disabled\r\n                                />\r\n                            </Col>\r\n                            <Col span={24}></Col>\r\n                            {\r\n                                data.timing?.type === 'custom'\r\n                                    ? <>\r\n                                        <Col span={24}>\r\n                                            <Form.Item label=\"Morning\" required>\r\n                                                <TimePicker.RangePicker className=\"w-100\" disabled\r\n                                                    value={data?.timing?.custom?.morning && [moment(data?.timing?.custom?.morning?.[0]), moment(data?.timing?.custom?.morning?.[1])]} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                        <Col span={24}>\r\n                                            <Form.Item label=\"Evening\" required>\r\n                                                <TimePicker.RangePicker className=\"w-100\" disabled\r\n                                                    value={data?.timing?.custom?.evening && [moment(data?.timing?.custom?.evening?.[0]), moment(data?.timing?.custom?.evening?.[1])]} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                    </>\r\n                                    : <Col span={24}>\r\n                                        <Form.Item label=\"Choose\" required>\r\n                                            <TimePicker.RangePicker className=\"w-100\" disabled\r\n                                                value={data?.timing?.allDay && [moment(data?.timing?.allDay?.[0]), moment(data?.timing?.allDay?.[1])]} />\r\n                                        </Form.Item>\r\n                                    </Col>\r\n                            }\r\n\r\n                        </Row>\r\n                    </Col>\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Parking Facilities</Typography.Text></Divider>\r\n                    </Col>\r\n\r\n\r\n\r\n                    {\r\n                        data.parkingFacilities?.map((v, i) => (\r\n                            <Col span={8} key={i}>\r\n                                <Form.Item label={\r\n                                    <Checkbox checked={data?.parkingFacilities?.[i]?.available} disabled>\r\n                                        {\r\n                                            data?.parkingFacilities?.[i]?.type === 'rickshaw'\r\n                                                ? 'Rickshaw'\r\n                                                : data?.parkingFacilities?.[i]?.type === 'car'\r\n                                                    ? 'Car'\r\n                                                    : data?.parkingFacilities?.[i]?.type === 'bus'\r\n                                                        ? 'Bus'\r\n                                                        : null\r\n                                        }\r\n                                    </Checkbox>}>\r\n                                    <Input type=\"text\" placeholder=\"Remarks\" value={data?.parkingFacilities?.[i]?.remarks} onChange={e => { handleChange({ [`parkingFacilities.${i}.remarks`]: e.target.value }) }} />\r\n\r\n                                </Form.Item>\r\n                            </Col>\r\n                        ))\r\n                    }\r\n\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Rest Room Facilities</Typography.Text></Divider>\r\n                    </Col>\r\n\r\n                    {\r\n                        data.restRoomFacility?.map((v, i) => (\r\n                            <Col span={24} key={i}>\r\n                                <Card size=\"small\">\r\n                                    <Row gutter={[12, 2]}>\r\n                                        <Col span={6}>{v.type === 'male' ? 'Male' : v.type === 'female' ? 'Female' : null}</Col>\r\n                                        <Col span={6}>\r\n                                            <Checkbox checked={v.bathroom} disabled>Bathroom</Checkbox>\r\n                                        </Col>\r\n                                        <Col span={6}>\r\n                                            <Checkbox checked={v.toilet} disabled>Toilet</Checkbox>\r\n                                        </Col>\r\n                                        <Col span={6}>\r\n                                            <Checkbox checked={v.locker} disabled>Bus</Checkbox>\r\n                                        </Col>\r\n                                    </Row>\r\n                                </Card>\r\n                            </Col>\r\n                        ))\r\n                    }\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Distance From Temple</Typography.Text></Divider>\r\n                    </Col>\r\n                    {\r\n                        data.distanceFrom?.map((v, i) => (\r\n                            <Col span={8} key={i}>\r\n                                <Form.Item label={\r\n                                    <Checkbox checked={data?.distanceFrom?.[i]?.available} disabled>\r\n                                        {\r\n                                            data?.distanceFrom?.[i]?.type === 'busStop'\r\n                                                ? 'Main Busstop'\r\n                                                : data?.distanceFrom?.[i]?.type === 'railway'\r\n                                                    ? 'Main Railway Station'\r\n                                                    : data?.distanceFrom?.[i]?.type === 'airport'\r\n                                                        ? 'Neares Airport'\r\n                                                        : null\r\n                                        }\r\n                                    </Checkbox>}>\r\n                                    <Select mode=\"tags\" value={data?.distanceFrom?.[i]?.remarks} placeholder=\"Type address and press enter\" onChange={v => { handleChange({ [`distanceFrom.${i}.remarks`]: v }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                        ))\r\n                    }\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}></Divider>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label={<Checkbox checked={data.upashray?.available} disabled>Upashray</Checkbox>}>\r\n                            {\r\n                                data.upashray?.available\r\n                                    ? <Input type=\"text\" placeholder=\"Number\" value={data.upashray.value} disabled />\r\n                                    : null\r\n                            }\r\n\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Others Details</Typography.Text></Divider>\r\n                    </Col>\r\n\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"History\">\r\n                            <Input.TextArea type=\"text\" placeholder=\"Remarks\" rows={10}\r\n                                value={data.historyDetails}\r\n                                onChange={e => { handleChange({ historyDetails: e.target.value }); }}\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} disabled >\r\n                                <Select.Option value={true}>Active</Select.Option>\r\n                                <Select.Option value={false}>Inactive</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={24}></Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst GuForm = ({ data, handleChange, changeForm, fileList, setFileList }) => {\r\n    const [bhagwan, setBhagwan] = useState([]);\r\n    const [states, setStates] = useState([]);\r\n    const [districts, setDistricts] = useState([]);\r\n    const [cities, setCities] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            bhagwanService.list({ isAll: 1, ln: 'gu' }).then(res => { setBhagwan(res.data || []); }).catch(err => { AntdMsg('Bhagwan data not loaded', 'error'); });\r\n            locationService.listState({ isAll: 1, ln: 'gu' }).then(res => { setStates(res.data || []); }).catch(err => { AntdMsg('States not loaded', 'error'); });\r\n            locationService.listDistrict({ isAll: 1, ln: 'gu' }).then(res => { setDistricts(res.data || []); }).catch(err => { AntdMsg('Districts not loaded', 'error'); });\r\n            locationService.listCity({ isAll: 1, ln: 'gu' }).then(res => { setCities(res.data || []); }).catch(err => { AntdMsg('Cities not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Jinalaya's Photo\">\r\n                            <UploadImage {...{ fileList, setFileList }} count={50} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Basic Details</Typography.Text></Divider>\r\n                    </Col>\r\n                    <Col span={18}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Unique Code\" required>\r\n                            <Input placeholder=\"Unique Code\" value={data.code} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Foundation Date\" required>\r\n                            <Input placeholder=\"Foundation Date\" value={data?.foundation} onChange={e => { handleChange({ foundation: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Mulnayak\" required>\r\n                            <Select value={data.bhagwanId} disabled >\r\n                                {\r\n                                    bhagwan.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Pratisthacharya Name\" required>\r\n                            <Input placeholder=\"Pratisthacharya Name\" value={data.pratisthacharya} onChange={e => { handleChange({ pratisthacharya: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Dhwaja Labharthi\" required>\r\n                            <Input placeholder=\"Dhwaja Labharthi\" value={data.dhwajaLabharthi} onChange={e => { handleChange({ dhwajaLabharthi: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Prachinta\" required>\r\n                            <Select value={data.prachinta} disabled >\r\n                                <Select.Option value=\"1-100\">1-100</Select.Option>\r\n                                <Select.Option value=\"101-500\">101-500</Select.Option>\r\n                                <Select.Option value=\"501-2500\">501-2500</Select.Option>\r\n                                <Select.Option value=\"2500-above\">2500-above</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Jinalaya Included In</Typography.Text></Divider>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Checkbox checked={data.isParshvanath} disabled>108 Parshwanath</Checkbox>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Checkbox checked={data.is24TirthankarJinalaya} disabled>24 Tirthankar Jinalaya</Checkbox>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Address</Typography.Text></Divider>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"State\" required>\r\n                            <Select value={data.stateId} disabled>\r\n                                {\r\n                                    states.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"District\" required>\r\n                            <Select value={data.districtId} disabled >\r\n                                {\r\n                                    districts.filter(v => v.stateId === data.stateId).map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"City\" required>\r\n                            <Select value={data.cityId} disabled >\r\n                                {\r\n                                    cities.filter(v => v.districtId === data.districtId).map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Pin Code\" required>\r\n                            <Input placeholder=\"Pin Code\" value={data.pincode} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Address\" required>\r\n                            <Input.TextArea placeholder=\"Address\" value={data.address} onChange={e => { handleChange({ address: e.target.value }) }} rows={3} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Latitude\" required>\r\n                                    <Input placeholder=\"Latitude\" value={data?.location?.coordinates?.[0]} disabled />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Longitude\" required>\r\n                                    <Input placeholder=\"Longitude\" value={data?.location?.coordinates?.[1]} disabled />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Button className=\"w-100\" type=\"primary\" disabled>Set Location</Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n\r\n                    <Divider orientation=\"left\" plain={true}></Divider>\r\n                    <Col span={11}>\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={24}>\r\n                                <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Contact Details</Typography.Text></Divider>\r\n                            </Col>\r\n                            {\r\n                                data.contactDetails?.map((v, i) => (\r\n                                    <React.Fragment key={i}>\r\n                                        <Col span={10}>\r\n                                            <Form.Item label=\"Name\" required>\r\n                                                <Input placeholder=\"Name\" value={v.name} onChange={e => { handleChange({ [`contactDetails.${i}.name`]: e.target.value }) }} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                        <Col span={10}>\r\n                                            <Form.Item label=\"Number\" required>\r\n                                                <Input placeholder=\"Number\" value={v.number} onChange={e => { handleChange({ [`contactDetails.${i}.number`]: e.target.value }) }} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                        <Col span={24}></Col>\r\n                                    </React.Fragment>\r\n                                ))\r\n                            }\r\n\r\n\r\n                        </Row>\r\n                    </Col>\r\n                    <Col span={2} style={{ textAlign: \"center\" }}>\r\n                        <Divider type=\"vertical\" style={{ height: \"100%\" }}></Divider>\r\n                    </Col>\r\n                    <Col span={11}>\r\n                        <Row gutter={[12, 8]}>\r\n                            <Col span={24}>\r\n                                <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Jinalaya Timing</Typography.Text></Divider>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Radio.Group\r\n                                    options={[{ label: \"Custom\", value: 'custom' }, { label: \"All Day\", value: \"allDay\" }]}\r\n                                    optionType=\"button\"\r\n                                    buttonStyle=\"solid\"\r\n                                    value={data.timing?.type}\r\n                                    disabled\r\n                                />\r\n                            </Col>\r\n                            <Col span={24}></Col>\r\n                            {\r\n                                data.timing?.type === 'custom'\r\n                                    ? <>\r\n                                        <Col span={24}>\r\n                                            <Form.Item label=\"Morning\" required>\r\n                                                <TimePicker.RangePicker className=\"w-100\" disabled\r\n                                                    value={data?.timing?.custom?.morning && [moment(data?.timing?.custom?.morning?.[0]), moment(data?.timing?.custom?.morning?.[1])]} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                        <Col span={24}>\r\n                                            <Form.Item label=\"Evening\" required>\r\n                                                <TimePicker.RangePicker className=\"w-100\" disabled\r\n                                                    value={data?.timing?.custom?.evening && [moment(data?.timing?.custom?.evening?.[0]), moment(data?.timing?.custom?.evening?.[1])]} />\r\n                                            </Form.Item>\r\n                                        </Col>\r\n                                    </>\r\n                                    : <Col span={24}>\r\n                                        <Form.Item label=\"Choose\" required>\r\n                                            <TimePicker.RangePicker className=\"w-100\" disabled\r\n                                                value={data?.timing?.allDay && [moment(data?.timing?.allDay?.[0]), moment(data?.timing?.allDay?.[1])]} />\r\n                                        </Form.Item>\r\n                                    </Col>\r\n                            }\r\n\r\n                        </Row>\r\n                    </Col>\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Parking Facilities</Typography.Text></Divider>\r\n                    </Col>\r\n\r\n\r\n\r\n                    {\r\n                        data.parkingFacilities?.map((v, i) => (\r\n                            <Col span={8} key={i}>\r\n                                <Form.Item label={\r\n                                    <Checkbox checked={data?.parkingFacilities?.[i]?.available} disabled>\r\n                                        {\r\n                                            data?.parkingFacilities?.[i]?.type === 'rickshaw'\r\n                                                ? 'Rickshaw'\r\n                                                : data?.parkingFacilities?.[i]?.type === 'car'\r\n                                                    ? 'Car'\r\n                                                    : data?.parkingFacilities?.[i]?.type === 'bus'\r\n                                                        ? 'Bus'\r\n                                                        : null\r\n                                        }\r\n                                    </Checkbox>}>\r\n                                    <Input type=\"text\" placeholder=\"Remarks\" value={data?.parkingFacilities?.[i]?.remarks} onChange={e => { handleChange({ [`parkingFacilities.${i}.remarks`]: e.target.value }) }} />\r\n\r\n                                </Form.Item>\r\n                            </Col>\r\n                        ))\r\n                    }\r\n\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Rest Room Facilities</Typography.Text></Divider>\r\n                    </Col>\r\n\r\n                    {\r\n                        data.restRoomFacility?.map((v, i) => (\r\n                            <Col span={24} key={i}>\r\n                                <Card size=\"small\">\r\n                                    <Row gutter={[12, 2]}>\r\n                                        <Col span={6}>{v.type === 'male' ? 'Male' : v.type === 'female' ? 'Female' : null}</Col>\r\n                                        <Col span={6}>\r\n                                            <Checkbox checked={v.bathroom} disabled>Bathroom</Checkbox>\r\n                                        </Col>\r\n                                        <Col span={6}>\r\n                                            <Checkbox checked={v.toilet} disabled>Toilet</Checkbox>\r\n                                        </Col>\r\n                                        <Col span={6}>\r\n                                            <Checkbox checked={v.locker} disabled>Bus</Checkbox>\r\n                                        </Col>\r\n                                    </Row>\r\n                                </Card>\r\n                            </Col>\r\n                        ))\r\n                    }\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Distance From Temple</Typography.Text></Divider>\r\n                    </Col>\r\n                    {\r\n                        data.distanceFrom?.map((v, i) => (\r\n                            <Col span={8} key={i}>\r\n                                <Form.Item label={\r\n                                    <Checkbox checked={data?.distanceFrom?.[i]?.available} disabled>\r\n                                        {\r\n                                            data?.distanceFrom?.[i]?.type === 'busStop'\r\n                                                ? 'Main Busstop'\r\n                                                : data?.distanceFrom?.[i]?.type === 'railway'\r\n                                                    ? 'Main Railway Station'\r\n                                                    : data?.distanceFrom?.[i]?.type === 'airport'\r\n                                                        ? 'Neares Airport'\r\n                                                        : null\r\n                                        }\r\n                                    </Checkbox>}>\r\n                                    <Select mode=\"tags\" value={data?.distanceFrom?.[i]?.remarks} placeholder=\"Type address and press enter\" onChange={v => { handleChange({ [`distanceFrom.${i}.remarks`]: v }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                        ))\r\n                    }\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}></Divider>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label={<Checkbox checked={data.upashray?.available} disabled>Upashray</Checkbox>}>\r\n                            {\r\n                                data.upashray?.available\r\n                                    ? <Input type=\"text\" placeholder=\"Number\" value={data.upashray.value} disabled />\r\n                                    : null\r\n                            }\r\n\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={24}>\r\n                        <Divider orientation=\"left\" plain={true}><Typography.Text type=\"danger\">Others Details</Typography.Text></Divider>\r\n                    </Col>\r\n\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"History\">\r\n                            <Input.TextArea type=\"text\" placeholder=\"Remarks\" rows={10}\r\n                                value={data.historyDetails}\r\n                                onChange={e => { handleChange({ historyDetails: e.target.value }); }}\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} disabled >\r\n                                <Select.Option value={true}>Active</Select.Option>\r\n                                <Select.Option value={false}>Inactive</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={24}></Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst ShalaModal = forwardRef((props, ref) => {\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(dt);\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title=\"Shala Details\"\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onCancel={() => { setOpen(false); }}\r\n                maskClosable={false}\r\n                width={1400}\r\n                destroyOnClose\r\n                className=\"app-modal-body-overflow\"\r\n                footer={null}\r\n            >\r\n                <Shala {...{ type: data.type, jinalayaId: data._id }} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst KalyanakModal = forwardRef((props, ref) => {\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(dt);\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title=\"Kalyanak Details\"\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onCancel={() => { setOpen(false); }}\r\n                maskClosable={false}\r\n                width={1400}\r\n                destroyOnClose\r\n                className=\"app-modal-body-overflow\"\r\n                footer={null}\r\n            >\r\n                <Kalyanak {...{ jinalayaId: data._id }} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\n\r\n\r\nconst GoogleModal = forwardRef((props, ref) => {\r\n    const [open, setOpen] = useState(false);\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n        }\r\n    }));\r\n\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                style={{ top: 20, height: \"100%\" }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onCancel={() => { setOpen(false); }}\r\n                maskClosable={false}\r\n                width={1400}\r\n\r\n                destroyOnClose\r\n                className=\"app-modal-body-overflow\"\r\n                footer={null}\r\n            >\r\n                <GoogleMapsModal setLat={props.setLat} setLng={props.setLng} lat={props.lat} lng={props.lng} onChange={({ lat, lng }) => props.handleChange({ [`location.coordinates.1`]: lng, [`location.coordinates.0`]: lat })} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Tabs, Card, Select } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../../services/location';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport commonObj from '../../../commonObj';\r\n\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function City({ stateId = null, districtId = null }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, stateId, districtId });\r\n    const addNewModalRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            // width: 200,\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        deleteAccess\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete this city?\"\r\n                                onConfirm={() => { deleteData(row._id); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        editAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row) }} />\r\n                            : null\r\n                    }\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row) }} />\r\n                            : null\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.listCity(qData).then(res => {\r\n                setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.deleteCity(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            <Typography.Title level={5}>List of Cities</Typography.Title>\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list }} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by name or code\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    {\r\n                        addAccess\r\n                            ? <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                                <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                            </Form.Item>\r\n                            : null\r\n                    }\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected cities?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [rowData, setRowData] = useState({});\r\n    const [data, setData] = useState({});\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [ln, setLn] = useState('en');\r\n    const [changeForm, setChangeForm] = useState(false);\r\n\r\n\r\n    const handleChange = (v) => {\r\n        if (changeForm) {\r\n            setData({ ...data, ...v });\r\n        }\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setRowData(dt ? { ...dt } : { status: true });\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detailCity(rowData._id, { ln }).then(res => {\r\n            setData(res.data || {});\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        if (changeForm) {\r\n            setAjxRequesting(true);\r\n            service.saveCity(data, { ln }).then((res) => {\r\n                AntdMsg(res.message);\r\n                handleChange({ _id: res.data._id });\r\n                if (ln === \"en\") {\r\n                    list();\r\n                    setRowData({ ...rowData, _id: res.data._id });\r\n                }\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => { if (rowData._id) { getDetails(); } }, [ln]);\r\n    useEffect(() => { if (rowData._id) { getDetails(); } else { setLn('en'); } }, [rowData]);\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({});\r\n            setRowData({});\r\n        }\r\n    }, [open]);\r\n\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' City'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); setRowData({}); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={500}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    changeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Tabs activeKey={ln} type=\"card\" size=\"small\" style={{ marginBottom: 0 }} onChange={(v) => { setLn(v); }}\r\n                        items={[\r\n                            {\r\n                                label: \"English\",\r\n                                key: \"en\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <EnForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"hi\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <HiForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                                disabled: !rowData._id\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"gu\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <GuForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                                disabled: !rowData._id\r\n                            }\r\n                        ]}\r\n                    />\r\n                </Spin>\r\n\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst EnForm = ({ data, handleChange, changeForm }) => {\r\n    const [states, setStates] = useState([]);\r\n    const [districts, setDistricts] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            service.listState({ isAll: 1, ln: 'en' }).then(res => { setStates(res.data || []); }).catch(err => { AntdMsg('States not loaded', 'error'); });\r\n            service.listDistrict({ isAll: 1, ln: 'en' }).then(res => { setDistricts(res.data || []); }).catch(err => { AntdMsg('States not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"State\" required>\r\n                            <Select value={data.stateId} onChange={v => { handleChange({ stateId: v, districtId: null }) }} >\r\n                                {\r\n                                    states.map(v => (\r\n                                        <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"District\" required>\r\n                            <Select value={data.districtId} onChange={v => { handleChange({ districtId: v }) }} >\r\n                                {\r\n                                    districts.filter(v => v.stateId === data.stateId).map(v => (\r\n                                        <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst HiForm = ({ data, handleChange, changeForm }) => {\r\n    const [states, setStates] = useState([]);\r\n    const [districts, setDistricts] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            service.listState({ isAll: 1, ln: 'hi' }).then(res => { setStates(res.data || []); }).catch(err => { AntdMsg('States not loaded', 'error'); });\r\n            service.listDistrict({ isAll: 1, ln: 'hi' }).then(res => { setDistricts(res.data || []); }).catch(err => { AntdMsg('States not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"State\" required>\r\n                            <Select value={data.stateId} disabled>\r\n                                {\r\n                                    states.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"District\" required>\r\n                            <Select value={data.districtId} disabled >\r\n                                {\r\n                                    districts.filter(v => v.stateId === data.stateId).map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst GuForm = ({ data, handleChange, changeForm }) => {\r\n    const [states, setStates] = useState([]);\r\n    const [districts, setDistricts] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            service.listState({ isAll: 1, ln: 'gu' }).then(res => { setStates(res.data || []); }).catch(err => { AntdMsg('States not loaded', 'error'); });\r\n            service.listDistrict({ isAll: 1, ln: 'gu' }).then(res => { setDistricts(res.data || []); }).catch(err => { AntdMsg('States not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"State\" required>\r\n                            <Select value={data.stateId} disabled>\r\n                                {\r\n                                    states.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"District\" required>\r\n                            <Select value={data.districtId} disabled >\r\n                                {\r\n                                    districts.filter(v => v.stateId === data.stateId).map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Tabs, Card, Select } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../../services/location';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport City from './City';\r\nimport commonObj from '../../../commonObj';\r\n\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function District({ stateId = null }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, stateId });\r\n    const addNewModalRef = useRef();\r\n    const cityModalRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            // width: 200,\r\n        },\r\n        {\r\n            title: 'Cities',\r\n            dataIndex: '_id',\r\n            width: 110,\r\n            render: (v, row) => {\r\n                return <>\r\n                    <Button type=\"primary\" size='small' onClick={() => { cityModalRef.current.openForm(row) }} >Cities</Button>\r\n                </>\r\n            }\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        deleteAccess\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete this district?\"\r\n                                onConfirm={() => { deleteData(row._id); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        editAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row) }} />\r\n                            : null\r\n                    }\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row) }} />\r\n                            : null\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.listDistrict(qData).then(res => {\r\n                setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.deleteDistrict(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            <Typography.Title level={5}>List of Districts</Typography.Title>\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list, stateId }} />\r\n            <CityModal ref={cityModalRef} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by name or code\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    {\r\n                        addAccess\r\n                            ? <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                                <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                            </Form.Item>\r\n                            : null\r\n                    }\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected districts?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, stateId = null } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [rowData, setRowData] = useState({});\r\n    const [data, setData] = useState({});\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [ln, setLn] = useState('en');\r\n    const [changeForm, setChangeForm] = useState(false);\r\n\r\n\r\n    const handleChange = (v, k) => { !changeForm || setData({ ...data, [k]: v }); }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setRowData(dt ? { ...dt } : {});\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detailDistrict(rowData._id, { ln }).then(res => {\r\n            setData(res.data || {});\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        if (changeForm) {\r\n            setAjxRequesting(true);\r\n            service.saveDistrict(data, { ln }).then((res) => {\r\n                AntdMsg(res.message);\r\n                handleChange(res.data._id, '_id');\r\n                if (ln === \"en\") {\r\n                    list();\r\n                    setRowData({ ...rowData, _id: res.data._id });\r\n                }\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => { if (rowData._id) { getDetails(); } }, [ln]);\r\n    useEffect(() => { if (rowData._id) { getDetails(); } else { setLn('en'); setData({ stateId }) } }, [rowData]);\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({});\r\n            setRowData({});\r\n        }\r\n    }, [open]);\r\n\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' District'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); setRowData({}); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={500}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    changeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Tabs activeKey={ln} type=\"card\" size=\"small\" style={{ marginBottom: 0 }} onChange={(v) => { setLn(v); }}\r\n                        items={[\r\n                            {\r\n                                label: \"English\",\r\n                                key: \"en\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <EnForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"hi\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <HiForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                                disabled: !rowData._id\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"gu\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <GuForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                                disabled: !rowData._id\r\n                            }\r\n                        ]}\r\n                    />\r\n                </Spin>\r\n\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst EnForm = ({ data, handleChange, changeForm }) => {\r\n    const [states, setStates] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            service.listState({ isAll: 1, ln: 'en' }).then(res => { setStates(res.data || []); }).catch(err => { AntdMsg('States not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"State\" required>\r\n                            <Select value={data.stateId} onChange={v => { handleChange(v, 'stateId') }} >\r\n                                {\r\n                                    states.map(v => (\r\n                                        <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange(e.target.value, 'name') }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst HiForm = ({ data, handleChange, changeForm }) => {\r\n    const [states, setStates] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            service.listState({ isAll: 1, ln: 'hi' }).then(res => { setStates(res.data || []); }).catch(err => { AntdMsg('States not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"State\" required>\r\n                            <Select value={data.stateId} disabled>\r\n                                {\r\n                                    states.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange(e.target.value, 'name') }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst GuForm = ({ data, handleChange, changeForm }) => {\r\n    const [states, setStates] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            service.listState({ isAll: 1, ln: 'gu' }).then(res => { setStates(res.data || []); }).catch(err => { AntdMsg('States not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"State\" required>\r\n                            <Select value={data.stateId} disabled>\r\n                                {\r\n                                    states.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange(e.target.value, 'name') }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst CityModal = forwardRef((props, ref) => {\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({});\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(dt ? { ...dt } : { status: true });\r\n        }\r\n    }));\r\n\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={<>All cities of <Typography.Text type=\"danger\">{data.name}</Typography.Text></>}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={900}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                ]}\r\n            >\r\n                <City {...{ districtId: data._id }} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Tabs, Card } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../../services/location';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport District from './District';\r\nimport commonObj from '../../../commonObj';\r\n\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function State() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20 });\r\n    const addNewModalRef = useRef();\r\n    const districtModalRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            // width: 200,\r\n        },\r\n        {\r\n            title: 'Districts',\r\n            dataIndex: '_id',\r\n            width: 110,\r\n            render: (v, row) => {\r\n                return <>\r\n                    <Button type=\"primary\" size='small' onClick={() => { districtModalRef.current.openForm(row) }} >Districts</Button>\r\n                </>\r\n            }\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        deleteAccess\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete this state?\"\r\n                                onConfirm={() => { deleteData(row._id); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        editAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row) }} />\r\n                            : null\r\n                    }\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row) }} />\r\n                            : null\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.listState(qData).then(res => {\r\n                setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.deleteState(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            <Typography.Title level={5}>List of States</Typography.Title>\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list }} />\r\n            <DistrictModal ref={districtModalRef} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by name or code\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    {\r\n                        addAccess\r\n                            ? <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                                <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                            </Form.Item>\r\n                            : null\r\n                    }\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected states?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [rowData, setRowData] = useState({});\r\n    const [data, setData] = useState({});\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [ln, setLn] = useState('en');\r\n    const [changeForm, setChangeForm] = useState(false);\r\n\r\n\r\n    const handleChange = (v, k) => { !changeForm || setData({ ...data, [k]: v }); }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setRowData(dt ? { ...dt } : { status: true });\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detailState(rowData._id, { ln }).then(res => {\r\n            setData(res.data || {});\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        if (changeForm) {\r\n            setAjxRequesting(true);\r\n            service.saveState(data, { ln }).then((res) => {\r\n                AntdMsg(res.message);\r\n                handleChange(res.data._id, '_id');\r\n                if (ln === \"en\") {\r\n                    list();\r\n                    setRowData({ ...rowData, _id: res.data._id });\r\n                }\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => { if (rowData._id) { getDetails(); } }, [ln]);\r\n    useEffect(() => { if (rowData._id) { getDetails(); } else { setLn('en'); } }, [rowData]);\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({});\r\n            setRowData({});\r\n        }\r\n    }, [open]);\r\n\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' State'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); setRowData({}); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={500}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    changeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Tabs activeKey={ln} type=\"card\" size=\"small\" style={{ marginBottom: 0 }} destroyInactiveTabPane onChange={(v) => { setLn(v); }}\r\n                        items={[\r\n                            {\r\n                                label: \"English\",\r\n                                key: \"en\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <EnForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"hi\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <HiForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                                disabled: !rowData._id\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"gu\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <GuForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                                disabled: !rowData._id\r\n                            }\r\n                        ]}\r\n                    />\r\n                </Spin>\r\n\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst EnForm = ({ data, handleChange, changeForm }) => {\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange(e.target.value, 'name') }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst HiForm = ({ data, handleChange, changeForm }) => {\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange(e.target.value, 'name') }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst GuForm = ({ data, handleChange, changeForm }) => {\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange(e.target.value, 'name') }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst DistrictModal = forwardRef((props, ref) => {\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({});\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(dt ? { ...dt } : { status: true });\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={<>All districts of <Typography.Text type=\"danger\">{data.name}</Typography.Text></>}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1600}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                ]}\r\n            >\r\n                <District {...{ stateId: data._id }} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'event';\r\n\r\n    static detail(id, data) {\r\n        return axios.get(this.baseURL + '/details/' + id, { params: data });\r\n    }\r\n    static list(data) {\r\n        return axios.get(this.baseURL + '/list', { params: data });\r\n    }\r\n    static save(data, query) {\r\n        return axios.post(this.baseURL + \"/save\", data, { params: query });\r\n    }\r\n    static delete(id) {\r\n        return axios.post(this.baseURL + '/delete', { ids: id });\r\n    }\r\n\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Tabs, Card, Select, Tag, DatePicker } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport moment from \"moment\";\r\nimport service from '../../services/event';\r\nimport locationService from '../../services/location';\r\nimport Pagination from '../components/Pagination';\r\nimport { AntdMsg } from '../../utils/Antd';\r\nimport commonObj from '../../commonObj';\r\nimport UploadImage from '../../utils/UploadImage';\r\n\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function Event() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20 });\r\n    const addNewModalRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            // width: 200,\r\n        },\r\n        {\r\n            title: 'State',\r\n            dataIndex: 'stateDetails',\r\n            width: 200,\r\n            render: v => v?.name\r\n        },\r\n        {\r\n            title: 'District',\r\n            dataIndex: 'districtDetails',\r\n            width: 200,\r\n            render: v => v?.name\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        deleteAccess\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete this city?\"\r\n                                onConfirm={() => { deleteData(row._id); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        editAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.list(qData).then(res => {\r\n                setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.delete(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            <Typography.Title level={5}>List of Events</Typography.Title>\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list }} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list }) {\r\n\r\n    const [states, setStates] = useState([]);\r\n    const [districts, setDistricts] = useState([]);\r\n    // const [cities, setCities] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            locationService.listState({ isAll: 1, ln: 'en' }).then(res => { setStates(res.data || []); }).catch(err => { AntdMsg('States not loaded', 'error'); });\r\n            locationService.listDistrict({ isAll: 1, ln: 'en' }).then(res => { setDistricts(res.data || []); }).catch(err => { AntdMsg('Districts not loaded', 'error'); });\r\n            // locationService.listCity({ isAll: 1, ln: 'en' }).then(res => { setCities(res.data || []); }).catch(err => { AntdMsg('Cities not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by name or code\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={4}>\r\n                    <Form.Item>\r\n                        <Select placeholder=\"State\" value={qData.stateId} onChange={v => { setQData({ ...qData, stateId: v, districtId: null }) }} allowClear >\r\n                            {\r\n                                states.map(v => (\r\n                                    <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                ))\r\n                            }\r\n                        </Select>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={4}>\r\n                    <Form.Item>\r\n                        <Select placeholder=\"District\" value={qData.districtId} onChange={v => { setQData({ ...qData, districtId: v }) }} allowClear >\r\n                            {\r\n                                districts.filter(v => v.stateId === qData.stateId).map(v => (\r\n                                    <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                ))\r\n                            }\r\n                        </Select>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    {\r\n                        addAccess\r\n                            ? <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                                <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                            </Form.Item>\r\n                            : null\r\n                    }\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected events?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [ln, setLn] = useState('en');\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const [fileList, setFileList] = useState([]);\r\n\r\n\r\n    const handleChange = (value) => {\r\n        if (changeForm) {\r\n            Object.entries(value).forEach(ent => {\r\n                let varDt = data;\r\n                const k = ent[0];\r\n                const v = ent[1];\r\n                let keys = k.split('.');\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    if (i + 1 === keys.length) {\r\n                        varDt[keys[i]] = v;\r\n                    } else {\r\n                        if (typeof varDt[keys[i]] === 'undefined') {\r\n                            if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                                varDt[keys[i]] = [];\r\n                            } else {\r\n                                varDt[keys[i]] = {};\r\n                            }\r\n                        } varDt = varDt[keys[i]];\r\n                    }\r\n                }\r\n            });\r\n            setData({ ...data });\r\n        }\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : {\r\n                        status: true,\r\n                        startDate: moment(),\r\n                        endDate: moment(),\r\n                    }\r\n            );\r\n            if (!dt && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detail(data.parentId || data._id, { ln }).then(res => {\r\n            setData(res.data || {});\r\n            setFileList(res.data?.imgUrls || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        if (changeForm) {\r\n            setAjxRequesting(true);\r\n            service.save(data, { ln }).then((res) => {\r\n                AntdMsg(res.message);\r\n                handleChange({ ...res.data });\r\n                if (ln === \"en\") {\r\n                    list();\r\n                }\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [ln, data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        } else {\r\n            setLn('en');\r\n            setFileList([]);\r\n        }\r\n    }, [open]);\r\n\r\n    useEffect(() => {\r\n        handleChange({ imgUrls: fileList });\r\n    }, [fileList]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Event'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                // destroyOnClose\r\n                maskClosable={false}\r\n                width={800}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    changeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Tabs activeKey={ln} type=\"card\" size=\"small\" style={{ marginBottom: 0 }} onChange={(v) => { setLn(v); }}\r\n                        items={[\r\n                            {\r\n                                label: \"English\",\r\n                                key: \"en\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <EnForm {...{ data, handleChange, save, changeForm, fileList, setFileList }} />\r\n                                </Card>,\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"hi\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <HiForm {...{ data, handleChange, save, changeForm, fileList, setFileList }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"gu\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <GuForm {...{ data, handleChange, save, changeForm, fileList, setFileList }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            }\r\n                        ]}\r\n                    />\r\n                </Spin>\r\n\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst EnForm = ({ data, handleChange, changeForm, fileList, setFileList }) => {\r\n\r\n    const [states, setStates] = useState([]);\r\n    const [districts, setDistricts] = useState([]);\r\n    const [cities, setCities] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            locationService.listState({ isAll: 1, ln: 'en' }).then(res => { setStates(res.data || []); }).catch(err => { AntdMsg('States not loaded', 'error'); });\r\n            locationService.listDistrict({ isAll: 1, ln: 'en' }).then(res => { setDistricts(res.data || []); }).catch(err => { AntdMsg('Districts not loaded', 'error'); });\r\n            locationService.listCity({ isAll: 1, ln: 'en' }).then(res => { setCities(res.data || []); }).catch(err => { AntdMsg('Cities not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Photo\">\r\n                            <UploadImage {...{ fileList, setFileList }} count={10} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Description\" required>\r\n                            <Input.TextArea placeholder=\"Description\" value={data.description} onChange={e => { handleChange({ description: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Start Date\" required>\r\n                            <DatePicker\r\n                                className=\"w-100\"\r\n                                format={'DD MMM YYYY'} value={moment(data?.startDate)}\r\n                                onChange={(v) => { handleChange({ startDate: v }) }} allowClear={false} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"End Date\" required>\r\n                            <DatePicker\r\n                                className=\"w-100\"\r\n                                format={'DD MMM YYYY'} value={moment(data?.endDate)}\r\n                                onChange={(v) => { handleChange({ endDate: v }) }} allowClear={false} />\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"State\" required>\r\n                            <Select value={data.stateId} onChange={v => { handleChange({ stateId: v, districtId: null, cityId: null }) }} >\r\n                                {\r\n                                    states.map(v => (\r\n                                        <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"District\" required>\r\n                            <Select value={data.districtId} onChange={v => { handleChange({ districtId: v, cityId: null }) }} >\r\n                                {\r\n                                    districts.filter(v => v.stateId === data.stateId).map(v => (\r\n                                        <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"City\" required>\r\n                            <Select value={data.cityId} onChange={v => { handleChange({ cityId: v }) }} >\r\n                                {\r\n                                    cities.filter(v => v.districtId === data.districtId).map(v => (\r\n                                        <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Pin Code\">\r\n                            <Input placeholder=\"Pin Code\" value={data.pincode} onChange={e => { handleChange({ pincode: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Address\">\r\n                            <Input placeholder=\"Address\" value={data.address} onChange={e => { handleChange({ address: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} onChange={v => { handleChange({ status: v }) }} >\r\n                                <Select.Option value={true}>Active</Select.Option>\r\n                                <Select.Option value={false}>Inactive</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst HiForm = ({ data, handleChange, changeForm, fileList, setFileList }) => {\r\n    const [states, setStates] = useState([]);\r\n    const [districts, setDistricts] = useState([]);\r\n    const [cities, setCities] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            locationService.listState({ isAll: 1, ln: 'hi' }).then(res => { setStates(res.data || []); }).catch(err => { AntdMsg('States not loaded', 'error'); });\r\n            locationService.listDistrict({ isAll: 1, ln: 'hi' }).then(res => { setDistricts(res.data || []); }).catch(err => { AntdMsg('Districts not loaded', 'error'); });\r\n            locationService.listCity({ isAll: 1, ln: 'hi' }).then(res => { setCities(res.data || []); }).catch(err => { AntdMsg('Cities not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Photo\">\r\n                            <UploadImage {...{ fileList, setFileList }} count={10} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Description\" required>\r\n                            <Input.TextArea placeholder=\"Description\" value={data.description} onChange={e => { handleChange({ description: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Start Date\" required>\r\n                            <DatePicker\r\n                                className=\"w-100\"\r\n                                format={'DD MMM YYYY'} value={moment(data?.startDate)}\r\n                                disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"End Date\" required>\r\n                            <DatePicker\r\n                                className=\"w-100\"\r\n                                format={'DD MMM YYYY'} value={moment(data?.endDate)}\r\n                                disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"State\" required>\r\n                            <Select value={data.stateId} disabled >\r\n                                {\r\n                                    states.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"District\" required>\r\n                            <Select value={data.districtId} disabled >\r\n                                {\r\n                                    districts.filter(v => v.stateId === data.stateId).map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"City\" required>\r\n                            <Select value={data.cityId} disabled >\r\n                                {\r\n                                    cities.filter(v => v.districtId === data.districtId).map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Pin Code\">\r\n                            <Input placeholder=\"Pin Code\" value={data.pincode} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Address\">\r\n                            <Input placeholder=\"Address\" value={data.address} onChange={e => { handleChange({ address: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} disabled >\r\n                                <Select.Option value={true}>Active</Select.Option>\r\n                                <Select.Option value={false}>Inactive</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst GuForm = ({ data, handleChange, changeForm, fileList, setFileList }) => {\r\n    const [states, setStates] = useState([]);\r\n    const [districts, setDistricts] = useState([]);\r\n    const [cities, setCities] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            locationService.listState({ isAll: 1, ln: 'gu' }).then(res => { setStates(res.data || []); }).catch(err => { AntdMsg('States not loaded', 'error'); });\r\n            locationService.listDistrict({ isAll: 1, ln: 'gu' }).then(res => { setDistricts(res.data || []); }).catch(err => { AntdMsg('Districts not loaded', 'error'); });\r\n            locationService.listCity({ isAll: 1, ln: 'gu' }).then(res => { setCities(res.data || []); }).catch(err => { AntdMsg('Cities not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Photo\">\r\n                            <UploadImage {...{ fileList, setFileList }} count={10} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Description\" required>\r\n                            <Input.TextArea placeholder=\"Description\" value={data.description} onChange={e => { handleChange({ description: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Start Date\" required>\r\n                            <DatePicker\r\n                                className=\"w-100\"\r\n                                format={'DD MMM YYYY'} value={moment(data?.startDate)}\r\n                                disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"End Date\" required>\r\n                            <DatePicker\r\n                                className=\"w-100\"\r\n                                format={'DD MMM YYYY'} value={moment(data?.endDate)}\r\n                                disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"State\" required>\r\n                            <Select value={data.stateId} disabled >\r\n                                {\r\n                                    states.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"District\" required>\r\n                            <Select value={data.districtId} disabled >\r\n                                {\r\n                                    districts.filter(v => v.stateId === data.stateId).map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"City\" required>\r\n                            <Select value={data.cityId} disabled >\r\n                                {\r\n                                    cities.filter(v => v.districtId === data.districtId).map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Pin Code\">\r\n                            <Input placeholder=\"Pin Code\" value={data.pincode} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Address\">\r\n                            <Input placeholder=\"Address\" value={data.address} onChange={e => { handleChange({ address: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} disabled >\r\n                                <Select.Option value={true}>Active</Select.Option>\r\n                                <Select.Option value={false}>Inactive</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'job';\r\n\r\n    static detailJobSeeker(id, data) {\r\n        return axios.get(this.baseURL + '/seeker/details/' + id, { params: data });\r\n    }\r\n    static listJobSeeker(data) {\r\n        return axios.get(this.baseURL + '/seeker/list', { params: data });\r\n    }\r\n    static saveJobSeeker(data, query) {\r\n        return axios.post(this.baseURL + \"/seeker/save\", data, { params: query });\r\n    }\r\n    static deleteJobSeeker(id) {\r\n        return axios.post(this.baseURL + '/seeker/delete', { ids: id });\r\n    }\r\n\r\n    static detailJob(id, data) {\r\n        return axios.get(this.baseURL + '/details/' + id, { params: data });\r\n    }\r\n    static listJob(data) {\r\n        return axios.get(this.baseURL + '/list', { params: data });\r\n    }\r\n    static saveJob(data, query) {\r\n        return axios.post(this.baseURL + \"/save\", data, { params: query });\r\n    }\r\n    static deleteJob(id) {\r\n        return axios.post(this.baseURL + '/delete', { ids: id });\r\n    }\r\n\r\n\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Tabs, Card, Select, Checkbox, Tag, Radio, Divider } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../../services/job';\r\nimport locationService from '../../../services/location';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport commonObj from '../../../commonObj';\r\nimport util from '../../../utils/util';\r\n\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function Job() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20 });\r\n    const addNewModalRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            // width: 200,\r\n        },\r\n        {\r\n            title: 'Company Name',\r\n            dataIndex: 'companyName',\r\n            width: 250,\r\n        },\r\n        {\r\n            title: 'Age Limit',\r\n            dataIndex: 'ageLimit',\r\n            width: 80,\r\n        },\r\n        {\r\n            title: 'Opening',\r\n            dataIndex: 'openingCount',\r\n            width: 80,\r\n        },\r\n        {\r\n            title: 'Experience',\r\n            dataIndex: 'experience',\r\n            width: 100,\r\n        },\r\n\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Open</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Closed</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        deleteAccess\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete this Job?\"\r\n                                onConfirm={() => { deleteData(row._id); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        editAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.listJob(qData).then(res => {\r\n                setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.deleteJob(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            <Typography.Title level={5}>List of Jobs</Typography.Title>\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list }} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by job name / company name\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    {\r\n                        addAccess\r\n                            ? <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                                <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                            </Form.Item>\r\n                            : null\r\n                    }\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected jobs?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [ln, setLn] = useState('en');\r\n    const [changeForm, setChangeForm] = useState(false);\r\n\r\n\r\n    const handleChange = (value) => {\r\n        if (changeForm) {\r\n            Object.entries(value).forEach(ent => {\r\n                let varDt = data;\r\n                const k = ent[0];\r\n                const v = ent[1];\r\n                let keys = k.split('.');\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    if (i + 1 === keys.length) {\r\n                        varDt[keys[i]] = v;\r\n                    } else {\r\n                        if (typeof varDt[keys[i]] === 'undefined') {\r\n                            if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                                varDt[keys[i]] = [];\r\n                            } else {\r\n                                varDt[keys[i]] = {};\r\n                            }\r\n                        } varDt = varDt[keys[i]];\r\n                    }\r\n                }\r\n            });\r\n            setData({ ...data });\r\n        }\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : { status: true }\r\n            );\r\n            if (!dt && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detailJob(data.parentId || data._id, { ln }).then(res => {\r\n            setData(res.data || {});\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        if (changeForm) {\r\n            setAjxRequesting(true);\r\n            service.saveJob(data, { ln }).then((res) => {\r\n                AntdMsg(res.message);\r\n                handleChange({ ...res.data });\r\n                if (ln === \"en\") {\r\n                    list();\r\n                }\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [ln, data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        } else {\r\n            setLn('en');\r\n        }\r\n    }, [open]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Job'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                // destroyOnClose\r\n                maskClosable={false}\r\n                width={1000}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    changeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Tabs activeKey={ln} type=\"card\" size=\"small\" style={{ marginBottom: 0 }} onChange={(v) => { setLn(v); }}\r\n                        items={[\r\n                            {\r\n                                label: \"English\",\r\n                                key: \"en\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <EnForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"hi\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <HiForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"gu\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <GuForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            }\r\n                        ]}\r\n                    />\r\n                </Spin>\r\n\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst EnForm = ({ data, handleChange, changeForm }) => {\r\n\r\n    const [states, setStates] = useState([]);\r\n    const [districts, setDistricts] = useState([]);\r\n    const [cities, setCities] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            locationService.listState({ isAll: 1, ln: 'en' }).then(res => { setStates(res.data || []); }).catch(err => { AntdMsg('States not loaded', 'error'); });\r\n            locationService.listDistrict({ isAll: 1, ln: 'en' }).then(res => { setDistricts(res.data || []); }).catch(err => { AntdMsg('Districts not loaded', 'error'); });\r\n            locationService.listCity({ isAll: 1, ln: 'en' }).then(res => { setCities(res.data || []); }).catch(err => { AntdMsg('Cities not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Company Name\" required>\r\n                            <Input placeholder=\"Company Name\" value={data.companyName} onChange={e => { handleChange({ companyName: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Job Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Age Limit\" required>\r\n                            <Input placeholder=\"Age Limit\" value={data.ageLimit} onChange={e => { handleChange({ ageLimit: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Opening Count\" required>\r\n                            <Input placeholder=\"Opening Count\" value={data.openingCount} onChange={e => { handleChange({ openingCount: util.handleInteger(e.target.value) }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Experience\" required>\r\n                            <Input placeholder=\"Experience\" value={data.experience} onChange={e => { handleChange({ experience: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Gender Required\" required>\r\n                            <Radio.Group onChange={(e) => { handleChange({ requiredGender: e.target.value }) }} value={data.requiredGender} >\r\n                                <Radio value={'male'}>Male</Radio>\r\n                                <Radio value={'female'}>Female</Radio>\r\n                                <Radio value={'both'}>Both</Radio>\r\n                            </Radio.Group>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Staying & Food\" required>\r\n                            <Checkbox checked={data.staying} onChange={e => { handleChange({ staying: e.target.checked }) }}>Staying </Checkbox>\r\n                            <Checkbox checked={data.food} onChange={e => { handleChange({ food: e.target.checked }) }}>Food</Checkbox>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Contact\" required>\r\n                            <Input placeholder=\"Contact\" value={data.contacts} onChange={e => { handleChange({ contacts: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Description\">\r\n                            <Input.TextArea placeholder=\"Enter some description\" value={data.description} onChange={e => { handleChange({ description: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Divider></Divider>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"State\" required>\r\n                            <Select value={data.stateId} onChange={v => { handleChange({ stateId: v, districtId: null, cityId: null }) }} >\r\n                                {\r\n                                    states.map(v => (\r\n                                        <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"District\">\r\n                            <Select value={data.districtId} onChange={v => { handleChange({ districtId: v, cityId: null }) }} >\r\n                                {\r\n                                    districts.filter(v => v.stateId === data.stateId).map(v => (\r\n                                        <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"City\">\r\n                            <Select value={data.cityId} onChange={v => { handleChange({ cityId: v }) }} >\r\n                                {\r\n                                    cities.filter(v => v.districtId === data.districtId).map(v => (\r\n                                        <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Job Address\">\r\n                            <Input.TextArea placeholder=\"Address\" value={data.address} onChange={e => { handleChange({ address: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Divider></Divider>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} onChange={v => { handleChange({ status: v }) }} >\r\n                                <Select.Option value={true}>Open</Select.Option>\r\n                                <Select.Option value={false}>Closed</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst HiForm = ({ data, handleChange, changeForm }) => {\r\n    const [states, setStates] = useState([]);\r\n    const [districts, setDistricts] = useState([]);\r\n    const [cities, setCities] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            locationService.listState({ isAll: 1, ln: 'hi' }).then(res => { setStates(res.data || []); }).catch(err => { AntdMsg('States not loaded', 'error'); });\r\n            locationService.listDistrict({ isAll: 1, ln: 'hi' }).then(res => { setDistricts(res.data || []); }).catch(err => { AntdMsg('Districts not loaded', 'error'); });\r\n            locationService.listCity({ isAll: 1, ln: 'hi' }).then(res => { setCities(res.data || []); }).catch(err => { AntdMsg('Cities not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Company Name\" required>\r\n                            <Input placeholder=\"Company Name\" value={data.companyName} onChange={e => { handleChange({ companyName: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Job Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Age Limit\" required>\r\n                            <Input placeholder=\"Age Limit\" value={data.ageLimit} onChange={e => { handleChange({ ageLimit: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Opening Count\" required>\r\n                            <Input placeholder=\"Opening Count\" value={data.openingCount} onChange={e => { handleChange({ openingCount: util.handleInteger(e.target.value) }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Experience\" required>\r\n                            <Input placeholder=\"Experience\" value={data.experience} onChange={e => { handleChange({ experience: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Gender Required\" required>\r\n                            <Radio.Group value={data.requiredGender} disabled>\r\n                                <Radio value={'male'}>Male</Radio>\r\n                                <Radio value={'female'}>Female</Radio>\r\n                                <Radio value={'both'}>Both</Radio>\r\n                            </Radio.Group>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Staying & Food\" required>\r\n                            <Checkbox checked={data.staying} disabled>Staying </Checkbox>\r\n                            <Checkbox checked={data.food} disabled>Food</Checkbox>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Contact\" required>\r\n                            <Input placeholder=\"Contact\" value={data.contacts} onChange={e => { handleChange({ contacts: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Description\">\r\n                            <Input.TextArea placeholder=\"Enter some description\" value={data.description} onChange={e => { handleChange({ description: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Divider></Divider>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"State\" required>\r\n                            <Select value={data.stateId} disabled >\r\n                                {\r\n                                    states.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"District\">\r\n                            <Select value={data.districtId} disabled >\r\n                                {\r\n                                    districts.filter(v => v.stateId === data.stateId).map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"City\">\r\n                            <Select value={data.cityId} disabled >\r\n                                {\r\n                                    cities.filter(v => v.districtId === data.districtId).map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Job Address\">\r\n                            <Input.TextArea placeholder=\"Address\" value={data.address} onChange={e => { handleChange({ address: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Divider></Divider>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} disabled >\r\n                                <Select.Option value={true}>Open</Select.Option>\r\n                                <Select.Option value={false}>Closed</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst GuForm = ({ data, handleChange, changeForm }) => {\r\n    const [states, setStates] = useState([]);\r\n    const [districts, setDistricts] = useState([]);\r\n    const [cities, setCities] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            locationService.listState({ isAll: 1, ln: 'gu' }).then(res => { setStates(res.data || []); }).catch(err => { AntdMsg('States not loaded', 'error'); });\r\n            locationService.listDistrict({ isAll: 1, ln: 'gu' }).then(res => { setDistricts(res.data || []); }).catch(err => { AntdMsg('Districts not loaded', 'error'); });\r\n            locationService.listCity({ isAll: 1, ln: 'gu' }).then(res => { setCities(res.data || []); }).catch(err => { AntdMsg('Cities not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Company Name\" required>\r\n                            <Input placeholder=\"Company Name\" value={data.companyName} onChange={e => { handleChange({ companyName: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Job Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Age Limit\" required>\r\n                            <Input placeholder=\"Age Limit\" value={data.ageLimit} onChange={e => { handleChange({ ageLimit: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Opening Count\" required>\r\n                            <Input placeholder=\"Opening Count\" value={data.openingCount} onChange={e => { handleChange({ openingCount: util.handleInteger(e.target.value) }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Experience\" required>\r\n                            <Input placeholder=\"Experience\" value={data.experience} onChange={e => { handleChange({ experience: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Gender Required\" required>\r\n                            <Radio.Group value={data.requiredGender} disabled>\r\n                                <Radio value={'male'}>Male</Radio>\r\n                                <Radio value={'female'}>Female</Radio>\r\n                                <Radio value={'both'}>Both</Radio>\r\n                            </Radio.Group>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Staying & Food\" required>\r\n                            <Checkbox checked={data.staying} disabled>Staying </Checkbox>\r\n                            <Checkbox checked={data.food} disabled>Food</Checkbox>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Contact\" required>\r\n                            <Input placeholder=\"Contact\" value={data.contacts} onChange={e => { handleChange({ contacts: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Description\">\r\n                            <Input.TextArea placeholder=\"Enter some description\" value={data.description} onChange={e => { handleChange({ description: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Divider></Divider>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"State\" required>\r\n                            <Select value={data.stateId} disabled >\r\n                                {\r\n                                    states.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"District\">\r\n                            <Select value={data.districtId} disabled >\r\n                                {\r\n                                    districts.filter(v => v.stateId === data.stateId).map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"City\">\r\n                            <Select value={data.cityId} disabled >\r\n                                {\r\n                                    cities.filter(v => v.districtId === data.districtId).map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Job Address\">\r\n                            <Input.TextArea placeholder=\"Address\" value={data.address} onChange={e => { handleChange({ address: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Divider></Divider>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} disabled >\r\n                                <Select.Option value={true}>Open</Select.Option>\r\n                                <Select.Option value={false}>Closed</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Tabs, Card, Select, Checkbox, Tag, Divider } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../../services/job';\r\nimport locationService from '../../../services/location';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport commonObj from '../../../commonObj';\r\nimport util from '../../../utils/util';\r\n\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function JobSeekers() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20 });\r\n    const addNewModalRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            // width: 200,\r\n        },\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'parentName',\r\n            width: 250,\r\n        },\r\n        {\r\n            title: 'Age',\r\n            dataIndex: 'age',\r\n            width: 80,\r\n        },\r\n        {\r\n            title: 'Contact Number',\r\n            dataIndex: 'contacts',\r\n            width: 120,\r\n        },\r\n        {\r\n            title: 'Experience',\r\n            dataIndex: 'experience',\r\n            width: 250,\r\n        },\r\n\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 150,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Looking for a job</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Not looking for a job</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        deleteAccess\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete this job seeker?\"\r\n                                onConfirm={() => { deleteData(row._id); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        editAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.listJobSeeker(qData).then(res => {\r\n                setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.deleteJobSeeker(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            <Typography.Title level={5}>List of Job Seekers</Typography.Title>\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list }} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by seeker name\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    {\r\n                        addAccess\r\n                            ? <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                                <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                            </Form.Item>\r\n                            : null\r\n                    }\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected job seekers?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [ln, setLn] = useState('en');\r\n    const [changeForm, setChangeForm] = useState(false);\r\n\r\n\r\n    const handleChange = (value) => {\r\n        if (changeForm) {\r\n            Object.entries(value).forEach(ent => {\r\n                let varDt = data;\r\n                const k = ent[0];\r\n                const v = ent[1];\r\n                let keys = k.split('.');\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    if (i + 1 === keys.length) {\r\n                        varDt[keys[i]] = v;\r\n                    } else {\r\n                        if (typeof varDt[keys[i]] === 'undefined') {\r\n                            if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                                varDt[keys[i]] = [];\r\n                            } else {\r\n                                varDt[keys[i]] = {};\r\n                            }\r\n                        } varDt = varDt[keys[i]];\r\n                    }\r\n                }\r\n            });\r\n            setData({ ...data });\r\n        }\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : { status: true }\r\n            );\r\n            if (!dt && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detailJobSeeker(data.parentId || data._id, { ln }).then(res => {\r\n            setData(res.data || {});\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        if (changeForm) {\r\n            setAjxRequesting(true);\r\n            service.saveJobSeeker(data, { ln }).then((res) => {\r\n                AntdMsg(res.message);\r\n                handleChange({ ...res.data });\r\n                if (ln === \"en\") {\r\n                    list();\r\n                }\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [ln, data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        } else {\r\n            setLn('en');\r\n        }\r\n    }, [open]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Job Seeker'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                // destroyOnClose\r\n                maskClosable={false}\r\n                width={1000}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    changeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Tabs activeKey={ln} type=\"card\" size=\"small\" style={{ marginBottom: 0 }} onChange={(v) => { setLn(v); }}\r\n                        items={[\r\n                            {\r\n                                label: \"English\",\r\n                                key: \"en\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <EnForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"hi\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <HiForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"gu\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <GuForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            }\r\n                        ]}\r\n                    />\r\n                </Spin>\r\n\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst EnForm = ({ data, handleChange, changeForm }) => {\r\n\r\n    const [states, setStates] = useState([]);\r\n    const [districts, setDistricts] = useState([]);\r\n    const [cities, setCities] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            locationService.listState({ isAll: 1, ln: 'en' }).then(res => { setStates(res.data || []); }).catch(err => { AntdMsg('States not loaded', 'error'); });\r\n            locationService.listDistrict({ isAll: 1, ln: 'en' }).then(res => { setDistricts(res.data || []); }).catch(err => { AntdMsg('Districts not loaded', 'error'); });\r\n            locationService.listCity({ isAll: 1, ln: 'en' }).then(res => { setCities(res.data || []); }).catch(err => { AntdMsg('Cities not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Job Seeker Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Parent Name\">\r\n                            <Input placeholder=\"Parent Name\" value={data.parentName} onChange={e => { handleChange({ parentName: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Age\" required>\r\n                            <Input placeholder=\"Age\" value={data.age} onChange={e => { handleChange({ age: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Gender\" required>\r\n                            <Select value={data.gender} onChange={v => { handleChange({ gender: v }) }} >\r\n                                <Select.Option value={'male'}>Male</Select.Option>\r\n                                <Select.Option value={'female'}>Female</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Contact Number\" required>\r\n                            <Input placeholder=\"+91 1100223300\" value={data.contacts} onChange={e => { handleChange({ contacts: (e.target.value) }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Relocation\" required>\r\n                            <Checkbox checked={data.forOtherState} onChange={e => { handleChange({ forOtherState: e.target.checked }) }}>Available for other state</Checkbox>\r\n                            <Checkbox checked={data.forOtherDistrict} onChange={e => { handleChange({ forOtherDistrict: e.target.checked }) }}>Available for other district</Checkbox>\r\n                            <Checkbox checked={data.forOtherCity} onChange={e => { handleChange({ forOtherCity: e.target.checked }) }}>Available for other city</Checkbox>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Experience\" required>\r\n                            <Input placeholder=\"Experience\" value={data.experience} onChange={e => { handleChange({ experience: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Description\">\r\n                            <Input.TextArea placeholder=\"Enter some description\" value={data.description} onChange={e => { handleChange({ description: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Divider></Divider>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"State\" required>\r\n                            <Select value={data.stateId} onChange={v => { handleChange({ stateId: v, districtId: null, cityId: null }) }} >\r\n                                {\r\n                                    states.map(v => (\r\n                                        <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"District\">\r\n                            <Select value={data.districtId} onChange={v => { handleChange({ districtId: v, cityId: null }) }} >\r\n                                {\r\n                                    districts.filter(v => v.stateId === data.stateId).map(v => (\r\n                                        <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"City\">\r\n                            <Select value={data.cityId} onChange={v => { handleChange({ cityId: v }) }} >\r\n                                {\r\n                                    cities.filter(v => v.districtId === data.districtId).map(v => (\r\n                                        <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} onChange={v => { handleChange({ status: v }) }} >\r\n                                <Select.Option value={true}>Looking for a job</Select.Option>\r\n                                <Select.Option value={false}>Not looking for a job</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst HiForm = ({ data, handleChange, changeForm }) => {\r\n    const [states, setStates] = useState([]);\r\n    const [districts, setDistricts] = useState([]);\r\n    const [cities, setCities] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            locationService.listState({ isAll: 1, ln: 'hi' }).then(res => { setStates(res.data || []); }).catch(err => { AntdMsg('States not loaded', 'error'); });\r\n            locationService.listDistrict({ isAll: 1, ln: 'hi' }).then(res => { setDistricts(res.data || []); }).catch(err => { AntdMsg('Districts not loaded', 'error'); });\r\n            locationService.listCity({ isAll: 1, ln: 'hi' }).then(res => { setCities(res.data || []); }).catch(err => { AntdMsg('Cities not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Job Seeker Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Parent Name\">\r\n                            <Input placeholder=\"Parent Name\" value={data.parentName} onChange={e => { handleChange({ parentName: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Age\" required>\r\n                            <Input placeholder=\"Age\" value={data.age} onChange={e => { handleChange({ age: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Gender\" required>\r\n                            <Select value={data.gender} disabled >\r\n                                <Select.Option value={'male'}>Male</Select.Option>\r\n                                <Select.Option value={'female'}>Female</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Contact Number\" required>\r\n                            <Input placeholder=\"+91 1100223300\" value={data.contacts} onChange={e => { handleChange({ contacts: util.handleInteger(e.target.value) }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Relocation\" required>\r\n                            <Checkbox checked={data.forOtherState} disabled>Available for other state</Checkbox>\r\n                            <Checkbox checked={data.forOtherDistrict} disabled>Available for other district</Checkbox>\r\n                            <Checkbox checked={data.forOtherCity} disabled>Available for other city</Checkbox>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Experience\" required>\r\n                            <Input placeholder=\"Experience\" value={data.experience} onChange={e => { handleChange({ experience: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Description\">\r\n                            <Input.TextArea placeholder=\"Enter some description\" value={data.description} onChange={e => { handleChange({ description: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Divider></Divider>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"State\" required>\r\n                            <Select value={data.stateId} disabled >\r\n                                {\r\n                                    states.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"District\">\r\n                            <Select value={data.districtId} disabled >\r\n                                {\r\n                                    districts.filter(v => v.stateId === data.stateId).map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"City\">\r\n                            <Select value={data.cityId} disabled >\r\n                                {\r\n                                    cities.filter(v => v.districtId === data.districtId).map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} disabled >\r\n                                <Select.Option value={true}>Looking for a job</Select.Option>\r\n                                <Select.Option value={false}>Not looking for a job</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst GuForm = ({ data, handleChange, changeForm }) => {\r\n    const [states, setStates] = useState([]);\r\n    const [districts, setDistricts] = useState([]);\r\n    const [cities, setCities] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            locationService.listState({ isAll: 1, ln: 'gu' }).then(res => { setStates(res.data || []); }).catch(err => { AntdMsg('States not loaded', 'error'); });\r\n            locationService.listDistrict({ isAll: 1, ln: 'gu' }).then(res => { setDistricts(res.data || []); }).catch(err => { AntdMsg('Districts not loaded', 'error'); });\r\n            locationService.listCity({ isAll: 1, ln: 'gu' }).then(res => { setCities(res.data || []); }).catch(err => { AntdMsg('Cities not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Job Seeker Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Parent Name\">\r\n                            <Input placeholder=\"Parent Name\" value={data.parentName} onChange={e => { handleChange({ parentName: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Age\" required>\r\n                            <Input placeholder=\"Age\" value={data.age} onChange={e => { handleChange({ age: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Gender\" required>\r\n                            <Select value={data.gender} disabled >\r\n                                <Select.Option value={'male'}>Male</Select.Option>\r\n                                <Select.Option value={'female'}>Female</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Contact Number\" required>\r\n                            <Input placeholder=\"+91 1100223300\" value={data.contacts} onChange={e => { handleChange({ contacts: util.handleInteger(e.target.value) }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Relocation\" required>\r\n                            <Checkbox checked={data.forOtherState} disabled>Available for other state</Checkbox>\r\n                            <Checkbox checked={data.forOtherDistrict} disabled>Available for other district</Checkbox>\r\n                            <Checkbox checked={data.forOtherCity} disabled>Available for other city</Checkbox>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Experience\" required>\r\n                            <Input placeholder=\"Experience\" value={data.experience} onChange={e => { handleChange({ experience: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Description\">\r\n                            <Input.TextArea placeholder=\"Enter some description\" value={data.description} onChange={e => { handleChange({ description: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Divider></Divider>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"State\" required>\r\n                            <Select value={data.stateId} disabled >\r\n                                {\r\n                                    states.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"District\">\r\n                            <Select value={data.districtId} disabled >\r\n                                {\r\n                                    districts.filter(v => v.stateId === data.stateId).map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"City\">\r\n                            <Select value={data.cityId} disabled >\r\n                                {\r\n                                    cities.filter(v => v.districtId === data.districtId).map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} disabled >\r\n                                <Select.Option value={true}>Looking for a job</Select.Option>\r\n                                <Select.Option value={false}>Not looking for a job</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'ecomm';\r\n    // category : \r\n    static detailCategory(id, data) {\r\n        return axios.get(this.baseURL + '/category/details/' + id, { params: data });\r\n    }\r\n    static listCategory(data) {\r\n        return axios.get(this.baseURL + '/category/list', { params: data });\r\n    }\r\n    static saveCategory(data, query) {\r\n        return axios.post(this.baseURL + \"/category/save\", data, { params: query });\r\n    }\r\n    static deleteCategory(id) {\r\n        return axios.post(this.baseURL + '/category/delete', { ids: id });\r\n    }\r\n\r\n    // for sub category\r\n    static detailSubCategory(id, data) {\r\n        return axios.get(this.baseURL + '/subcategory/details/' + id, { params: data });\r\n    }\r\n    static listSubCategory(data) {\r\n        return axios.get(this.baseURL + '/subcategory/list', { params: data });\r\n    }\r\n    static saveSubCategory(data, query) {\r\n        return axios.post(this.baseURL + \"/subcategory/save\", data, { params: query });\r\n    }\r\n    static deleteSubCategory(id) {\r\n        return axios.post(this.baseURL + '/subcategory/delete', { ids: id });\r\n    }\r\n\r\n    // for attribute\r\n    static detailAttribute(id, data) {\r\n        return axios.get(this.baseURL + '/attribute/details/' + id, { params: data });\r\n    }\r\n    static listAttribute(data) {\r\n        return axios.get(this.baseURL + '/attribute/list', { params: data });\r\n    }\r\n    static saveAttribute(data, query) {\r\n        return axios.post(this.baseURL + \"/attribute/save\", data, { params: query });\r\n    }\r\n    static deleteAttribute(id) {\r\n        return axios.post(this.baseURL + '/attribute/delete', { ids: id });\r\n    }\r\n\r\n\r\n    // for Product : \r\n    static detailProduct(id, data) {\r\n        return axios.get(this.baseURL + '/product/details/' + id, { params: data });\r\n    }\r\n    static listProduct(data) {\r\n        return axios.get(this.baseURL + '/product/list', { params: data });\r\n    }\r\n    static saveProduct(data, query) {\r\n        return axios.post(this.baseURL + \"/product/save\", data, { params: query });\r\n    }\r\n    static deleteProduct(id) {\r\n        return axios.post(this.baseURL + '/product/delete', { ids: id });\r\n    }\r\n\r\n    // for Product Attribute : \r\n    static detailProductAttribute(id, data) {\r\n        return axios.get(this.baseURL + '/productAttribute/details/' + id, { params: data });\r\n    }\r\n    static listProductAttribute(data) {\r\n        return axios.get(this.baseURL + '/productAttribute/list', { params: data });\r\n    }\r\n    static saveProductAttribute(data, query) {\r\n        return axios.post(this.baseURL + \"/productAttribute/save\", data, { params: query });\r\n    }\r\n    static deleteProductAttribute(id) {\r\n        return axios.post(this.baseURL + '/productAttribute/delete', { ids: id });\r\n    }\r\n    static listCart(data) {\r\n        return axios.get(this.baseURL + '/cart/list', { params: data });\r\n    }\r\n    static saveCart(data, query) {\r\n        return axios.post(this.baseURL + \"/cart/save\", data, { params: query });\r\n    }\r\n\r\n    // for Orders : \r\n    static orderDetails(id, data) {\r\n        return axios.get(this.baseURL + '/order/details/' + id, { params: data });\r\n    }\r\n    static orderList(data) {\r\n        return axios.get(this.baseURL + '/order/list', { params: data });\r\n    }\r\n    static orderSave(data, query) {\r\n        return axios.post(this.baseURL + \"/order/save\", data, { params: query });\r\n    }\r\n    static orderDelete(id) {\r\n        return axios.post(this.baseURL + '/order/delete', { ids: id });\r\n    }\r\n\r\n    // for Orders : \r\n    static orderDetailDetails(id, data) {\r\n        return axios.get(this.baseURL + '/orderDetail/details/' + id, { params: data });\r\n    }\r\n    static orderDetailList(data) {\r\n        return axios.get(this.baseURL + '/orderDetail/list', { params: data });\r\n    }\r\n    static orderDetailSave(data, query) {\r\n        return axios.post(this.baseURL + \"/orderDetail/save\", data, { params: query });\r\n    }\r\n    static orderDetailDelete(id) {\r\n        return axios.post(this.baseURL + '/orderDetail/delete', { ids: id });\r\n    }\r\n\r\n\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Row, Col, Popconfirm, Tag } from 'antd';\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, useRef } from 'react';\r\nimport Pagination from '../components/Pagination';\r\nimport { AntdMsg } from '../../utils/Antd';\r\n// import commonObj from '../../commonObj';\r\nimport service from \"../../services/ecomm\"\r\n\r\nconst viewAccess = true;\r\n// const addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\n// const editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\n// const deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function UserProfileModal({ type, userId = null }) {\r\n\r\n    // const [data, setData] = useState([]);\r\n    const [orderData, setOrderData] = useState([])\r\n    const [cartData, setCartData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, type, userId });\r\n    const addNewModalRef = useRef();\r\n\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Product Id',\r\n            dataIndex: 'productId',\r\n            width: 180,\r\n\r\n\r\n        },\r\n        {\r\n            title: 'Product Name',\r\n            dataIndex: 'name',\r\n            width: 250,\r\n            render: (_, { productDetails }) => {\r\n                return <span>{productDetails?.name}</span>\r\n            }\r\n        },\r\n        {\r\n            title: 'Quantity',\r\n            dataIndex: 'quantity',\r\n            width: 50,\r\n        },\r\n        // {\r\n        //     title: 'Action',\r\n        //     dataIndex: '_id',\r\n        //     width: 70,\r\n        //     hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n        //     render: (v, row) => {\r\n        //         return <>\r\n        //             {\r\n        //                 deleteAccess\r\n        //                     ? <Popconfirm\r\n        //                         title=\"Are you sure to delete this product attribute?\"\r\n        //                         onConfirm={() => { deleteData(row._id); }}\r\n        //                         okText=\"Yes\"\r\n        //                         cancelText=\"No\"\r\n        //                     >\r\n        //                         <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n        //                     </Popconfirm>\r\n        //                     : null\r\n        //             }\r\n        //             {\r\n        //                 editAccess\r\n        //                     ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n        //                     : null\r\n        //             }\r\n        //             {\r\n        //                 !editAccess && viewAccess\r\n        //                     ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n        //                     : null\r\n        //             }\r\n        //         </>\r\n        //     }\r\n        // },\r\n    ].filter(item => !item.hidden);\r\n\r\n\r\n    const columnOrder = [\r\n        {\r\n            title: 'Order id',\r\n            dataIndex: '_id',\r\n            // width: 200,\r\n        },\r\n        {\r\n            title: 'Shipping Address',\r\n            dataIndex: 'shippingAddress',\r\n            width: 250,\r\n        },\r\n        {\r\n            title: 'Payment Method',\r\n            dataIndex: 'paymentMethod',\r\n            width: 180,\r\n        },\r\n        {\r\n            title: 'Total Amount',\r\n            dataIndex: 'totalAmount',\r\n            width: 150,\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 80,\r\n            render: (_, { status }) => {\r\n                return <Tag color='green'>{status}</Tag>\r\n            },\r\n        },\r\n        // {\r\n        //     title: 'Action',\r\n        //     dataIndex: '_id',\r\n        //     width: 70,\r\n        //     hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n        //     render: (v, row) => {\r\n        //         return <>\r\n        //             {\r\n        //                 deleteAccess\r\n        //                     ? <Popconfirm\r\n        //                         title=\"Are you sure to delete this Product?\"\r\n        //                         onConfirm={() => { deleteData(row._id); }}\r\n        //                         okText=\"Yes\"\r\n        //                         cancelText=\"No\"\r\n        //                     >\r\n        //                         <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n        //                     </Popconfirm>\r\n        //                     : null\r\n        //             }\r\n        //             {\r\n        //                 editAccess\r\n        //                     ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n        //                     : null\r\n        //             }\r\n        //             {\r\n        //                 !editAccess && viewAccess\r\n        //                     ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n        //                     : null\r\n        //             }\r\n        //         </>\r\n        //     }\r\n        // },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function listOrder() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.orderList(qData).then(res => {\r\n                setOrderData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n\r\n    }\r\n    function listCartData() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.listCart({ userId: qData.userId }).then(res => {\r\n                setCartData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n\r\n    }\r\n    const deleteData = (id) => {\r\n        service.orderDetailDelete(id).then(res => {\r\n            AntdMsg(res.message);\r\n            // list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        });\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n    const orderTableColoumns = columnOrder.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n    orderTableColoumns[0].fixed = true;\r\n    orderTableColoumns[orderTableColoumns.length - 1].fixed = 'right';\r\n\r\n    const cartTableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData }} title=\"Cart\" />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n    const orderTableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData }} title=\"Order\" />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        listOrder();\r\n        listCartData();\r\n    }, [qData.page, qData.limit]);\r\n    return (\r\n        <>\r\n            <Row gutter={[16,16]}>\r\n                <Col span={16}>\r\n                    <div>\r\n                        <Table\r\n                            {...cartTableProps}\r\n                            pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                            columns={tableColumns}\r\n                            dataSource={cartData.length ? cartData : []}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <Table\r\n                            {...orderTableProps}\r\n                            pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                            columns={orderTableColoumns}\r\n                            dataSource={orderData.length ? orderData : []}\r\n                        />\r\n                    </div>\r\n                </Col>\r\n                <Col span={8}>\r\n                    <div>\r\n                        <div className='profile-card'>\r\n                            <div className='user-wrapper'>\r\n                                <img src=\"https://www.w3schools.com/w3css/img_avatar3.png\" alt=\"profile\" />\r\n                                <div className='user-meta-details'>\r\n                                    <h3>username</h3>\r\n                                    <hr />\r\n                                    <span >wallet balance : <span>1500</span></span>\r\n                                </div>\r\n                            </div>\r\n                            <div className='button-wrapper'>\r\n                                <Button type=\"primary\" size=\"large\" style={{ width: \"220px\" }}>\r\n                                    Subscribed\r\n                                </Button>\r\n                                <Button type=\"ghost\" size=\"large\" style={{ width: \"220px\" }}>\r\n                                    Wallet history\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list, title }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                {/* <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by name\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col> */}\r\n                <Col span={3}>\r\n                    <p style={{ fontSize: \"1.3rem\", width: \"150px\" }}>{title} details</p>\r\n                </Col>\r\n                <Col span={5}>\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected product attributes ?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Tag, Select } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined } from '@ant-design/icons';\r\n\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../services/user';\r\nimport Pagination from '../components/Pagination';\r\nimport { AntdMsg } from '../../utils/Antd';\r\nimport util from '../../utils/util';\r\nimport UploadImage from '../../utils/UploadImage';\r\nimport UserProfile from './UserProfileModal';\r\n\r\nexport default function User() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20 });\r\n    const addNewModalRef = useRef();\r\n    const userProfileModalRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'firstName',\r\n            render: (value, row) => {\r\n                return (value ?? '') + \" \" + (row.lastName ?? '');\r\n            },\r\n        },\r\n        {\r\n            title: 'Phone',\r\n            dataIndex: 'phone',\r\n            width: 150,\r\n        },\r\n        {\r\n            title: 'Email',\r\n            dataIndex: 'email',\r\n            width: 300,\r\n        },\r\n        {\r\n            title: 'Address',\r\n            dataIndex: 'address',\r\n            width: 300,\r\n        },\r\n        {\r\n            title: 'Profile',\r\n            dataIndex: '_id',\r\n            width: 150,\r\n            render: (value, row) => (\r\n                <Button type=\"primary\" size=\"small\" onClick={() => { userProfileModalRef.current.openForm({ _id: row._id }) }}>User Details</Button>\r\n            )\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            render: (v, row) => {\r\n                return <>\r\n                    <Popconfirm\r\n                        title=\"Are you sure to delete this user?\"\r\n                        onConfirm={() => { deleteData(row._id); }}\r\n                        okText=\"Yes\"\r\n                        cancelText=\"No\"\r\n                    >\r\n                        <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                    </Popconfirm>\r\n                    <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row) }} />\r\n                </>\r\n            }\r\n        },\r\n    ];\r\n\r\n    function list() {\r\n        setLoading(true);\r\n        service.listUser(qData).then(res => {\r\n            setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n            setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n        }).catch(err => { }).finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.deleteUser(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            <Typography.Title level={5}>List of Users</Typography.Title>\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            // minWidth=\"500px\"\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list }} />\r\n            <UserProfileModal ref={userProfileModalRef}/>\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by name / phone / email\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                        <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                    </Form.Item>\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected users?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [fileList, setFileList] = useState([]);\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(dt ? { ...dt } : { status: true });\r\n            if (dt && dt.avatar) {\r\n                setFileList([{ ...dt.avatar }]);\r\n            } else {\r\n                setFileList([]);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n\r\n        service.saveUser(data).then((res) => {\r\n            AntdMsg(res.message);\r\n            setOpen(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!data._id) {\r\n            handleChange(util.removeSpecialChars(data?.name || ''), 'userName');\r\n        }\r\n    }, [data.name])\r\n\r\n    useEffect(() => {\r\n        handleChange(fileList?.[0], 'avatar');\r\n    }, [fileList]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' User'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={800}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button>,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Form layout=\"vertical\">\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={20}>\r\n                                <Row gutter={[12, 2]}>\r\n                                    <Col span={12}>\r\n                                        <Form.Item label=\"First Name\" required>\r\n                                            <Input placeholder=\"First Name\" value={data.firstName} onChange={e => { handleChange(e.target.value, 'firstName') }} />\r\n                                        </Form.Item>\r\n                                    </Col>\r\n                                    <Col span={12}>\r\n                                        <Form.Item label=\"Last Name\" required>\r\n                                            <Input placeholder=\"Last Name\" value={data.lastName} onChange={e => { handleChange(util.removeSpecialChars(e.target.value), 'lastName') }} />\r\n                                        </Form.Item>\r\n                                    </Col>\r\n                                    <Col span={12}>\r\n                                        <Form.Item label=\"Phone\" required>\r\n                                            <Input placeholder=\"Phone\" value={data.phone} onChange={e => { handleChange(e.target.value, 'phone') }} />\r\n                                        </Form.Item>\r\n                                    </Col>\r\n                                    <Col span={12}>\r\n                                        <Form.Item label=\"Email\" required>\r\n                                            <Input placeholder=\"Email\" value={data.email} onChange={e => { handleChange((e.target.value), 'email') }} />\r\n                                        </Form.Item>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Col>\r\n                            <Col span={4}>\r\n                                <Form.Item label=\"Avatar\">\r\n                                    <UploadImage {...{ fileList, setFileList }} count={1} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Address\" required>\r\n                                    <Input.TextArea placeholder=\"Address\" value={data.address} onChange={e => { handleChange((e.target.value), 'address') }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={10}>\r\n                                <Form.Item label=\"Status\" required>\r\n                                    <Select value={data.status} onChange={v => { handleChange(v, 'status') }} >\r\n                                        <Select.Option value={true}>Active</Select.Option>\r\n                                        <Select.Option value={false}>Inactive</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\n\r\n\r\nconst UserProfileModal = forwardRef((props, ref) => {\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(dt);\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={<>User<Typography.Text type=\"danger\"> Profile</Typography.Text></>}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onCancel={() => { setOpen(false); }}\r\n                maskClosable={false}\r\n                width={1400}\r\n                destroyOnClose\r\n                className=\"app-modal-body-overflow\"\r\n                footer={null}\r\n            >\r\n                <UserProfile {...{ type: data.type, userId: data._id }}/>\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Tabs, Card, Select, Tag } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../../services/ecomm';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport commonObj from '../../../commonObj';\r\nimport util from '../../../utils/util';\r\nimport UploadImage from '../../../utils/UploadImage';\r\n\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function SubCategory({ type, categoryId = null }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, type, categoryId });\r\n    const addNewModalRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            // width: 200,\r\n        },\r\n        {\r\n            title: 'Slug',\r\n            dataIndex: 'slug',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        deleteAccess\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete this sub category?\"\r\n                                onConfirm={() => { deleteData(row._id); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n                    {\r\n                        editAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.listSubCategory(qData).then(res => {\r\n                setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.deleteSubCategory(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list, categoryId }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            {\r\n                !categoryId\r\n                    ? <Typography.Title level={5}>List of Sub Categories</Typography.Title>\r\n                    : null\r\n            }\r\n\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list, type, categoryId }} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list, categoryId }) {\r\n\r\n    const [categories, setCategories] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            service.listCategory({ isAll: 1, ln: 'en' }).then(res => { setCategories(res.data || []); }).catch(err => { AntdMsg('Categories data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by name or slug\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={4}>\r\n                    <Form.Item>\r\n                        <Select placeholder=\"Category\" value={qData.categoryId} onChange={v => { setQData({ ...qData, categoryId: v }) }} allowClear disabled={categoryId} >\r\n                            {\r\n                                categories.map(v => (\r\n                                    <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                ))\r\n                            }\r\n                        </Select>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    {\r\n                        addAccess\r\n                            ? <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                                <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                            </Form.Item>\r\n                            : null\r\n                    }\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected sub categories?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, categoryId } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [ln, setLn] = useState('en');\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const [file, setFile] = useState([]);\r\n\r\n\r\n\r\n    const handleChange = (value) => {\r\n        if (changeForm) {\r\n            Object.entries(value).forEach(ent => {\r\n                let varDt = data;\r\n                const k = ent[0];\r\n                const v = ent[1];\r\n                let keys = k.split('.');\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    if (i + 1 === keys.length) {\r\n                        varDt[keys[i]] = v;\r\n                    } else {\r\n                        if (typeof varDt[keys[i]] === 'undefined') {\r\n                            if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                                varDt[keys[i]] = [];\r\n                            } else {\r\n                                varDt[keys[i]] = {};\r\n                            }\r\n                        } varDt = varDt[keys[i]];\r\n                    }\r\n                }\r\n            });\r\n            setData({ ...data });\r\n        }\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : { status: true, categoryId }\r\n            );\r\n            if (!dt && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detailSubCategory(data.parentId || data._id, { ln }).then(res => {\r\n            setData(res.data || {});\r\n            setFile(res.data?.imgUrl ? [res.data?.imgUrl] : []);\r\n\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        if (changeForm) {\r\n            setAjxRequesting(true);\r\n            service.saveSubCategory(data, { ln }).then((res) => {\r\n                AntdMsg(res.message);\r\n                handleChange({ ...res.data });\r\n                if (ln === \"en\") {\r\n                    list();\r\n                }\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [ln, data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        } else {\r\n            setLn('en');\r\n            setFile([]);\r\n\r\n        }\r\n    }, [open]);\r\n    useEffect(() => {\r\n        handleChange({ imgUrl: file?.[0] });\r\n    }, [file]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Sub Category'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                // destroyOnClose\r\n                maskClosable={false}\r\n                width={600}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    changeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Tabs activeKey={ln} type=\"card\" size=\"small\" style={{ marginBottom: 0 }} onChange={(v) => { setLn(v); }}\r\n                        items={[\r\n                            {\r\n                                label: \"English\",\r\n                                key: \"en\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <EnForm {...{ data, handleChange, save, changeForm, categoryId, file, setFile }} />\r\n                                </Card>,\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"hi\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <HiForm {...{ data, handleChange, save, changeForm, file, setFile }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"gu\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <GuForm {...{ data, handleChange, save, changeForm, file, setFile }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            }\r\n                        ]}\r\n                    />\r\n                </Spin>\r\n\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst EnForm = ({ data, handleChange, changeForm, categoryId, file, setFile }) => {\r\n\r\n    const [categories, setCategories] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            service.listCategory({ isAll: 1, ln: 'en' }).then(res => { setCategories(res.data || []); }).catch(err => { AntdMsg('Categories data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!data._id) {\r\n            handleChange({ slug: util.removeSpecialChars(data?.name || '') });\r\n        }\r\n    }, [data.name])\r\n\r\n   \r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Photo\">\r\n                            <UploadImage {...{ fileList: file, setFileList: setFile }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Category\" required>\r\n                            <Select value={data.categoryId} onChange={v => { handleChange({ categoryId: v })}} disabled={categoryId} >\r\n                                {\r\n                                    categories.map(v => (\r\n                                        <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={18}>\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Name\" required>\r\n                                    <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"slug\" required>\r\n                                    <Input placeholder=\"Slug\" value={data.slug} onChange={e => { handleChange({ slug: util.removeSpecialChars(e.target.value) }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Status\" required>\r\n                                    <Select value={data.status} onChange={v => { handleChange({ status: v }) }} >\r\n                                        <Select.Option value={true}>Active</Select.Option>\r\n                                        <Select.Option value={false}>Inactive</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Photo\">\r\n                            <UploadImage {...{ fileList: file, setFileList: setFile }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst HiForm = ({ data, handleChange, changeForm, file, setFile }) => {\r\n    const [categories, setCategories] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            service.listCategory({ isAll: 1, ln: 'hi' }).then(res => { setCategories(res.data || []); }).catch(err => { AntdMsg('Categories data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Photo\">\r\n                            <UploadImage {...{ fileList: file, setFileList: setFile }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Select value={data.categoryId} disabled >\r\n                                {\r\n                                    categories.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={18}>\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Name\" required>\r\n                                    <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"slug\" required>\r\n                                    <Input placeholder=\"Slug\" value={data.slug} disabled />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Status\" required>\r\n                                    <Select value={data.status} disabled >\r\n                                        <Select.Option value={true}>Active</Select.Option>\r\n                                        <Select.Option value={false}>Inactive</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Photo\">\r\n                            <UploadImage {...{ fileList: file, setFileList: setFile }} disabled/>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst GuForm = ({ data, handleChange, changeForm, file, setFile }) => {\r\n    const [categories, setCategories] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            service.listCategory({ isAll: 1, ln: 'gu' }).then(res => { setCategories(res.data || []); }).catch(err => { AntdMsg('Categories data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Photo\">\r\n                            <UploadImage {...{ fileList: file, setFileList: setFile }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Select value={data.categoryId} disabled >\r\n                                {\r\n                                    categories.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={18}>\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Name\" required>\r\n                                    <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"slug\" required>\r\n                                    <Input placeholder=\"Slug\" value={data.slug} disabled />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Status\" required>\r\n                                    <Select value={data.status} disabled>\r\n                                        <Select.Option value={true}>Active</Select.Option>\r\n                                        <Select.Option value={false}>Inactive</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Photo\">\r\n                            <UploadImage {...{ fileList: file, setFileList: setFile }} disabled/>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Tabs, Card, Select, Tag } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../../services/ecomm';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport commonObj from '../../../commonObj';\r\nimport Subcategory from './SubCategory';\r\nimport util from '../../../utils/util';\r\nimport UploadImage from '../../../utils/UploadImage';\r\n\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function Category() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20 });\r\n    const addNewModalRef = useRef();\r\n    const subCategoryModalRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            // width: 200,\r\n        },\r\n        {\r\n            title: 'Sub Category',\r\n            dataIndex: '_id',\r\n            width: 150,\r\n            render: (value, row) => (\r\n                <Button type=\"primary\" size=\"small\" onClick={() => { subCategoryModalRef.current.openForm({ name: row.name, _id: value }) }} >Sub Category</Button>\r\n            )\r\n        },\r\n        {\r\n            title: 'Slug',\r\n            dataIndex: 'slug',\r\n            width: 100,\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        deleteAccess\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete this category?\"\r\n                                onConfirm={() => { deleteData(row._id); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        editAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.listCategory(qData).then(res => {\r\n                setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.deleteCategory(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            <Typography.Title level={5}>List of Categories</Typography.Title>\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list }} />\r\n            <SubCategoryModal ref={subCategoryModalRef} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by name or slug\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    {\r\n                        addAccess\r\n                            ? <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                                <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                            </Form.Item>\r\n                            : null\r\n                    }\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected categories?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [ln, setLn] = useState('en');\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const [file, setFile] = useState([]);\r\n\r\n\r\n\r\n    const handleChange = (value) => {\r\n        if (changeForm) {\r\n            Object.entries(value).forEach(ent => {\r\n                let varDt = data;\r\n                const k = ent[0];\r\n                const v = ent[1];\r\n                let keys = k.split('.');\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    if (i + 1 === keys.length) {\r\n                        varDt[keys[i]] = v;\r\n                    } else {\r\n                        if (typeof varDt[keys[i]] === 'undefined') {\r\n                            if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                                varDt[keys[i]] = [];\r\n                            } else {\r\n                                varDt[keys[i]] = {};\r\n                            }\r\n                        } varDt = varDt[keys[i]];\r\n                    }\r\n                }\r\n            });\r\n            setData({ ...data });\r\n        }\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : { status: true }\r\n            );\r\n            if (!dt && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detailCategory(data.parentId || data._id, { ln }).then(res => {\r\n            setData(res.data || {});\r\n            setFile(res.data?.imgUrl ? [res.data?.imgUrl] : []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        if (changeForm) {\r\n            setAjxRequesting(true);\r\n            service.saveCategory(data, { ln }).then((res) => {\r\n                AntdMsg(res.message);\r\n                handleChange({ ...res.data });\r\n                if (ln === \"en\") {\r\n                    list();\r\n                }\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [ln, data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        } else {\r\n            setLn('en');\r\n            setFile([]);\r\n\r\n        }\r\n    }, [open]);\r\n    useEffect(() => {\r\n        handleChange({ imgUrl: file?.[0] });\r\n    }, [file]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Category'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                // destroyOnClose\r\n                maskClosable={false}\r\n                width={600}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    changeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Tabs activeKey={ln} type=\"card\" size=\"small\" style={{ marginBottom: 0 }} onChange={(v) => { setLn(v); }}\r\n                        items={[\r\n                            {\r\n                                label: \"English\",\r\n                                key: \"en\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <EnForm {...{ data, handleChange, save, changeForm, file, setFile }} />\r\n                                </Card>,\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"hi\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <HiForm {...{ data, handleChange, save, changeForm, file, setFile }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"gu\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <GuForm {...{ data, handleChange, save, changeForm, file, setFile }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            }\r\n                        ]}\r\n                    />\r\n                </Spin>\r\n\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst EnForm = ({ data, handleChange, changeForm, file, setFile }) => {\r\n\r\n    useEffect(() => {\r\n        if (!data._id) {\r\n            handleChange({ slug: util.removeSpecialChars(data?.name || '') });\r\n        }\r\n    }, [data.name])\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={18}>\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Name\" required>\r\n                                    <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Slug\" required>\r\n                                    <Input placeholder=\"Slug\" value={data.slug} onChange={e => { handleChange({ slug: util.removeSpecialChars(e.target.value) }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Status\" required>\r\n                                    <Select value={data.status} onChange={v => { handleChange({ status: v }) }} >\r\n                                        <Select.Option value={true}>Active</Select.Option>\r\n                                        <Select.Option value={false}>Inactive</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Photo\">\r\n                            <UploadImage {...{ fileList: file, setFileList: setFile }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst HiForm = ({ data, handleChange, changeForm, file, setFile }) => {\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={18}>\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Name\" required>\r\n                                    <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Slug\" required>\r\n                                    <Input placeholder=\"Slug\" value={data.slug} disabled />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Status\" required>\r\n                                    <Select value={data.status} disabled >\r\n                                        <Select.Option value={true}>Active</Select.Option>\r\n                                        <Select.Option value={false}>Inactive</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Photo\">\r\n                            <UploadImage {...{ fileList: file, setFileList: setFile }} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst GuForm = ({ data, handleChange, changeForm, file, setFile }) => {\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={18}>\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Name\" required>\r\n                                    <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Slug\" required>\r\n                                    <Input placeholder=\"Slug\" value={data.slug} disabled/>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Status\" required>\r\n                                    <Select value={data.status} disabled >\r\n                                        <Select.Option value={true}>Active</Select.Option>\r\n                                        <Select.Option value={false}>Inactive</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                        <Form.Item label=\"Photo\">\r\n                            <UploadImage {...{ fileList: file, setFileList: setFile }} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst SubCategoryModal = forwardRef((props, ref) => {\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(dt);\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={<>All sub categories of <Typography.Text type=\"danger\">{data.name}</Typography.Text></>}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onCancel={() => { setOpen(false); }}\r\n                maskClosable={false}\r\n                width={1400}\r\n                destroyOnClose\r\n                className=\"app-modal-body-overflow\"\r\n                footer={null}\r\n            >\r\n                <Subcategory {...{ type: data.type, categoryId: data._id }} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Tabs, Card, Select, Tag } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../../services/ecomm';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport commonObj from '../../../commonObj';\r\nimport util from '../../../utils/util';\r\n\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function Attribute({ type, categoryId = null }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, type, categoryId });\r\n    const addNewModalRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            // width: 200,\r\n        },\r\n        {\r\n            title: 'Unique Code',\r\n            dataIndex: 'code',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        deleteAccess\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete this attributes?\"\r\n                                onConfirm={() => { deleteData(row._id); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n                    {\r\n                        editAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.listAttribute(qData).then(res => {\r\n                setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.deleteAttribute(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list, categoryId }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            {\r\n                !categoryId\r\n                    ? <Typography.Title level={5}>List of Profiles</Typography.Title>\r\n                    : null\r\n            }\r\n\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list, type, categoryId }} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list, categoryId }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by name or code\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    {\r\n                        addAccess\r\n                            ? <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                                <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                            </Form.Item>\r\n                            : null\r\n                    }\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected data?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, categoryId } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [ln, setLn] = useState('en');\r\n    const [changeForm, setChangeForm] = useState(false);\r\n\r\n\r\n    const handleChange = (value) => {\r\n        if (changeForm) {\r\n            Object.entries(value).forEach(ent => {\r\n                let varDt = data;\r\n                const k = ent[0];\r\n                const v = ent[1];\r\n                let keys = k.split('.');\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    if (i + 1 === keys.length) {\r\n                        varDt[keys[i]] = v;\r\n                    } else {\r\n                        if (typeof varDt[keys[i]] === 'undefined') {\r\n                            if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                                varDt[keys[i]] = [];\r\n                            } else {\r\n                                varDt[keys[i]] = {};\r\n                            }\r\n                        } varDt = varDt[keys[i]];\r\n                    }\r\n                }\r\n            });\r\n            setData({ ...data });\r\n        }\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : { status: true, categoryId }\r\n            );\r\n            if (!dt && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detailAttribute(data.parentId || data._id, { ln }).then(res => {\r\n            setData(res.data || {});\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        if (changeForm) {\r\n            setAjxRequesting(true);\r\n            service.saveAttribute(data, { ln }).then((res) => {\r\n                AntdMsg(res.message);\r\n                handleChange({ ...res.data });\r\n                if (ln === \"en\") {\r\n                    list();\r\n                }\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [ln, data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        } else {\r\n            setLn('en');\r\n        }\r\n    }, [open]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Data'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                // destroyOnClose\r\n                maskClosable={false}\r\n                width={600}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    changeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Tabs activeKey={ln} type=\"card\" size=\"small\" style={{ marginBottom: 0 }} onChange={(v) => { setLn(v); }}\r\n                        items={[\r\n                            {\r\n                                label: \"English\",\r\n                                key: \"en\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <EnForm {...{ data, handleChange, save, changeForm, categoryId }} />\r\n                                </Card>,\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"hi\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <HiForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"gu\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <GuForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            }\r\n                        ]}\r\n                    />\r\n                </Spin>\r\n\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst EnForm = ({ data, handleChange, changeForm, categoryId }) => {\r\n\r\n    useEffect(() => {\r\n        if (!data._id) {\r\n            handleChange({ code: util.removeSpecialChars(data?.name || '') });\r\n        }\r\n    }, [data.name])\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Unique Code\" required>\r\n                            <Input placeholder=\"Unique Code\" value={data.code} onChange={e => { handleChange({ code: util.removeSpecialChars(e.target.value) }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} onChange={v => { handleChange({ status: v }) }} >\r\n                                <Select.Option value={true}>Active</Select.Option>\r\n                                <Select.Option value={false}>Inactive</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst HiForm = ({ data, handleChange, changeForm }) => {\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Unique Code\" required>\r\n                            <Input placeholder=\"Unique Code\" value={data.code} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} disabled >\r\n                                <Select.Option value={true}>Active</Select.Option>\r\n                                <Select.Option value={false}>Inactive</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst GuForm = ({ data, handleChange, changeForm }) => {\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Unique Code\" required>\r\n                            <Input placeholder=\"Unique Code\" value={data.code} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} disabled >\r\n                                <Select.Option value={true}>Active</Select.Option>\r\n                                <Select.Option value={false}>Inactive</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Tabs, Card, Select } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../../services/ecomm';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport commonObj from '../../../commonObj';\r\n\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function Products({ type, productId = null }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, type, productId });\r\n    const addNewModalRef = useRef();\r\n\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            render: (_, { attributeDetails }) => (\r\n                <span>{attributeDetails.name}</span>\r\n            )\r\n        },\r\n        {\r\n            title: 'Value',\r\n            dataIndex: 'value',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        deleteAccess\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete this product attribute?\"\r\n                                onConfirm={() => { deleteData(row._id); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n                    {\r\n                        editAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.listProductAttribute(qData).then(res => {\r\n                setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.deleteProductAttribute(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        });\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n    return (\r\n        <>\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                // scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list, type, productId }} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                {/* <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by name\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col> */}\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Reload</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    {\r\n                        addAccess\r\n                            ? <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                                <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                            </Form.Item>\r\n                            : null\r\n                    }\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected product attributes ?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, productId } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [ln, setLn] = useState('en');\r\n    const [changeForm, setChangeForm] = useState(false);\r\n\r\n    const handleChange = (value) => {\r\n        if (changeForm) {\r\n            Object.entries(value).forEach(ent => {\r\n                let varDt = data;\r\n                const k = ent[0];\r\n                const v = ent[1];\r\n                let keys = k.split('.');\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    if (i + 1 === keys.length) {\r\n                        varDt[keys[i]] = v;\r\n                    } else {\r\n                        if (typeof varDt[keys[i]] === 'undefined') {\r\n                            if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                                varDt[keys[i]] = [];\r\n                            } else {\r\n                                varDt[keys[i]] = {};\r\n                            }\r\n                        } varDt = varDt[keys[i]];\r\n                    }\r\n                }\r\n            });\r\n            setData({ ...data });\r\n        }\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : { productId }\r\n            );\r\n            if (!dt && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detailProductAttribute(data.parentId || data._id, { ln }).then(res => {\r\n            setData(res.data || {});\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        if (changeForm) {\r\n            setAjxRequesting(true);\r\n            service.saveProductAttribute(data, { ln }).then((res) => {\r\n                AntdMsg(res.message);\r\n                handleChange({ ...res.data });\r\n                if (ln === \"en\") {\r\n                    list();\r\n                }\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [ln, data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        } else {\r\n            setLn('en');\r\n        }\r\n    }, [open]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Product Attribute'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                // destroyOnClose\r\n                maskClosable={false}\r\n                width={600}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    changeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Tabs activeKey={ln} type=\"card\" size=\"small\" style={{ marginBottom: 0 }} onChange={(v) => { setLn(v); }}\r\n                        items={[\r\n                            {\r\n                                label: \"English\",\r\n                                key: \"en\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <EnForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"hi\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <HiForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"gu\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <GuForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            }\r\n                        ]}\r\n                    />\r\n                </Spin>\r\n\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst EnForm = ({ data, handleChange, changeForm }) => {\r\n    const [attributes, setAttributes] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            service.listAttribute({ isAll: 1, ln: 'en' }).then(res => { setAttributes(res.data || []); }).catch(err => { AntdMsg('Attribute data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Attribute\" required>\r\n                            <Select value={data.attributeId} onChange={v => { handleChange({ attributeId: v }) }} >\r\n                                {\r\n                                    attributes.map(v => <Select.Option value={v._id} key={v._id} label={v.name}>{v.name}</Select.Option>)\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Value\" required>\r\n                            <Input placeholder=\"Value\" value={data.value} onChange={e => { handleChange({ value: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst HiForm = ({ data, handleChange, changeForm }) => {\r\n    const [attributes, setAttributes] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            service.listAttribute({ isAll: 1, ln: 'hi' }).then(res => { setAttributes(res.data || []); }).catch(err => { AntdMsg('Attribute data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Attribute\" required>\r\n                            <Select value={data.attributeId} onChange={v => { handleChange({ attributeId: v }) }} >\r\n                                {\r\n                                    attributes.map(v => <Select.Option value={v.parentId} key={v.parentId} label={v.name}>{v.name}</Select.Option>)\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Value\" required>\r\n                            <Input placeholder=\"Value\" value={data.value} onChange={e => { handleChange({ value: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst GuForm = ({ data, handleChange, changeForm }) => {\r\n    const [attributes, setAttributes] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            service.listAttribute({ isAll: 1, ln: 'gu' }).then(res => { setAttributes(res.data || []); }).catch(err => { AntdMsg('Attribute data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Attribute\" required>\r\n                            <Select value={data.attributeId} onChange={v => { handleChange({ attributeId: v }) }} >\r\n                                {\r\n                                    attributes.map(v => <Select.Option value={v.parentId} key={v.parentId} label={v.name}>{v.name}</Select.Option>)\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Value\" required>\r\n                            <Input placeholder=\"Value\" value={data.value} onChange={e => { handleChange({ value: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Tabs, Card, Select, Tag } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../../services/ecomm';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport commonObj from '../../../commonObj';\r\nimport util from '../../../utils/util';\r\nimport UploadImage from '../../../utils/UploadImage';\r\nimport ProductAttribute from './ProductAttributes';\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function Products({ type, categoryId = null }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, type, categoryId });\r\n    const addNewModalRef = useRef();\r\n    const attributeModalRef = useRef();\r\n\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            // width: 200,\r\n        },\r\n        {\r\n            title: 'Slug',\r\n            dataIndex: 'slug',\r\n            width: 220,\r\n        },\r\n        {\r\n            title: 'Attributes',\r\n            dataIndex: '_id',\r\n            width: 150,\r\n            render: (value, row) => (\r\n                <Button type=\"primary\" size=\"small\" onClick={() => { attributeModalRef.current.openForm({ name: row.name, _id: value }) }}>Attributes</Button>\r\n            )\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        deleteAccess\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete this Product?\"\r\n                                onConfirm={() => { deleteData(row._id); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n                    {\r\n                        editAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.listProduct(qData).then(res => {\r\n                setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.deleteProduct(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list, categoryId }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            {\r\n                !categoryId\r\n                    ? <Typography.Title level={5}>List of  Products</Typography.Title>\r\n                    : null\r\n            }\r\n\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list, type, categoryId }} />\r\n            <AttributeModal ref={attributeModalRef} />\r\n\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list, categoryId }) {\r\n\r\n    const [categories, setCategories] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            service.listCategory({ isAll: 1, ln: 'en' }).then(res => { setCategories(res.data || []); }).catch(err => { AntdMsg('Categories data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by name or slug\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={4}>\r\n                    <Form.Item>\r\n                        <Select placeholder=\"Category\" value={qData.categoryId} onChange={v => { setQData({ ...qData, categoryId: v }) }} allowClear disabled={categoryId} >\r\n                            {\r\n                                categories.map(v => (\r\n                                    <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                ))\r\n                            }\r\n                        </Select>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    {\r\n                        addAccess\r\n                            ? <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                                <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                            </Form.Item>\r\n                            : null\r\n                    }\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected Product?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, categoryId } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [ln, setLn] = useState('en');\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const [file, setFile] = useState([]);\r\n    const [thumbFile, setThumbFile] = useState([]);\r\n\r\n\r\n\r\n    const handleChange = (value) => {\r\n        if (changeForm) {\r\n            Object.entries(value).forEach(ent => {\r\n                let varDt = data;\r\n                const k = ent[0];\r\n                const v = ent[1];\r\n                let keys = k.split('.');\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    if (i + 1 === keys.length) {\r\n                        varDt[keys[i]] = v;\r\n                    } else {\r\n                        if (typeof varDt[keys[i]] === 'undefined') {\r\n                            if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                                varDt[keys[i]] = [];\r\n                            } else {\r\n                                varDt[keys[i]] = {};\r\n                            }\r\n                        } varDt = varDt[keys[i]];\r\n                    }\r\n                }\r\n            });\r\n            setData({ ...data });\r\n        }\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : { status: true, categoryId }\r\n            );\r\n            if (!dt && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detailProduct(data.parentId || data._id, { ln }).then(res => {\r\n            setData(res.data || {});\r\n            setFile(res.data?.imgUrls || []);\r\n            setThumbFile(res.data?.thumbImgUrl ? [res.data?.thumbImgUrl] : []);\r\n\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        if (changeForm) {\r\n            setAjxRequesting(true);\r\n            service.saveProduct(data, { ln }).then((res) => {\r\n                AntdMsg(res.message);\r\n                handleChange({ ...res.data });\r\n                if (ln === \"en\") {\r\n                    list();\r\n                }\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [ln, data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        } else {\r\n            setLn('en');\r\n            setFile([]);\r\n            setThumbFile([]);\r\n\r\n        }\r\n    }, [open]);\r\n    useEffect(() => {\r\n        handleChange({ imgUrls: file });\r\n        handleChange({ imgUrl: thumbFile?.[0] });\r\n    }, [file, thumbFile]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Product'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                // destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    changeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Tabs activeKey={ln} type=\"card\" size=\"small\" style={{ marginBottom: 0 }} onChange={(v) => { setLn(v); }}\r\n                        items={[\r\n                            {\r\n                                label: \"English\",\r\n                                key: \"en\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <EnForm {...{ data, handleChange, save, changeForm, categoryId, file, setFile, thumbFile, setThumbFile }} />\r\n                                </Card>,\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"hi\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <HiForm {...{ data, handleChange, save, changeForm, file, setFile, thumbFile, setThumbFile }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"gu\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <GuForm {...{ data, handleChange, save, changeForm, file, setFile, thumbFile, setThumbFile }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            }\r\n                        ]}\r\n                    />\r\n                </Spin>\r\n\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\n\r\nconst EnForm = ({ data, handleChange, changeForm, categoryId, file, setFile, thumbFile, setThumbFile }) => {\r\n\r\n    const [categories, setCategories] = useState([]);\r\n    const [subCategories, setSubCategories] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            service.listCategory({ isAll: 1, ln: 'en' }).then(res => { setCategories(res.data || []); }).catch(err => { AntdMsg('Categories data not loaded', 'error'); });\r\n            service.listSubCategory({ isAll: 1, ln: 'en' }).then(res => { setSubCategories(res.data || []); }).catch(err => { AntdMsg('Sub categories data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!data._id) {\r\n            handleChange({ slug: util.removeSpecialChars(data?.name || '') });\r\n        }\r\n    }, [data.name])\r\n\r\n    useEffect(() => {\r\n        if (subCategories.length) {\r\n            let filterdData = subCategories?.filter(item => data?.categoryIds?.includes(item.categoryId) && data.subCategoryIds?.includes(item._id));\r\n            handleChange({ subCategoryIds: filterdData.map(v => v._id) || [] })\r\n        }\r\n    }, [data.categoryIds || subCategories]);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={3}>\r\n                        <Form.Item label=\"Thumbnail Photo\">\r\n                            <UploadImage {...{ fileList: thumbFile, setFileList: setThumbFile }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={21}>\r\n                        <Form.Item label=\"Photo\">\r\n                            <UploadImage {...{ fileList: file, setFileList: setFile }} count={10} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Choose Categories\" required>\r\n                            <Select\r\n                                mode=\"multiple\"\r\n                                style={{\r\n                                    width: '100%',\r\n                                }}\r\n                                placeholder=\"Select Categories\"\r\n                                onChange={v => { handleChange({ categoryIds: v }) }}\r\n                                value={data.categoryIds}\r\n                                optionLabelProp=\"label\"\r\n                                allowClear={true}\r\n                            >\r\n                                {categories.map((v) => <Select.Option key={v._id} value={v._id} label={v.name}>{v.name}</Select.Option>)}\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Choose Sub Categories\" required>\r\n                            <Select\r\n                                mode=\"multiple\"\r\n                                style={{\r\n                                    width: '100%',\r\n                                }}\r\n                                placeholder=\"Select Sub Categories\"\r\n                                onChange={v => { handleChange({ subCategoryIds: v }) }}\r\n                                value={data.subCategoryIds}\r\n                                optionLabelProp=\"label\"\r\n                                allowClear={true}\r\n                            >\r\n                                {\r\n                                    subCategories.filter(v => data?.categoryIds?.includes(v.categoryId)).map((v) => <Select.Option key={v._id} value={v._id} label={v.name}>{v.name}</Select.Option>)\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Row gutter={[12, 2]}>\r\n                        <Col span={12}>\r\n                            <Form.Item label=\"Name\" required>\r\n                                <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={12}>\r\n                            <Form.Item label=\"Slug\" required>\r\n                                <Input placeholder=\"Slug\" value={data.slug} onChange={e => { handleChange({ slug: util.removeSpecialChars(e.target.value) }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={24}>\r\n                            <Form.Item label=\"Description\" required>\r\n                                <Input.TextArea placeholder=\"Write product description...\" value={data.description} onChange={e => { handleChange({ description: e.target.value }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={6}>\r\n                            <Form.Item label=\"Price\" required>\r\n                                <Input type=\"text\" placeholder=\"500\" value={data.price} onChange={e => { handleChange({ price: util.handleInteger(e.target.value) }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={6}>\r\n                            <Form.Item label=\"Actual Price\" required>\r\n                                <Input type=\"text\" placeholder=\"450\" value={data.actualPrice} onChange={e => { handleChange({ actualPrice: util.handleInteger(e.target.value) }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={6}>\r\n                            <Form.Item label=\"HSN code\" required>\r\n                                <Input placeholder=\"HSN code\" value={data.hsn_code} onChange={e => { handleChange({ hsn_code: e.target.value }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={6}>\r\n                            <Form.Item label=\"Inventory\" required>\r\n                                <Input type=\"text\" placeholder=\"Inventory\" value={data.inventory} onChange={e => { handleChange({ inventory: util.handleInteger(e.target.value) }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={12}>\r\n                            <Form.Item label=\"Meta Title\" required>\r\n                                <Input placeholder=\"Enter meta title\" value={data.metaTitle} onChange={e => { handleChange({ metaTitle: e.target.value }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={12}>\r\n                            <Form.Item label=\"Meta Tag\" required>\r\n                                <Input placeholder=\"Enter meta tag\" value={data.metaTag} onChange={e => { handleChange({ metaTag: e.target.value }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={24}>\r\n                            <Form.Item label=\"Meta Description\" required>\r\n                                <Input.TextArea placeholder=\"Write product meta description...\" value={data.metaDescription} onChange={e => { handleChange({ metaDescription: e.target.value }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n\r\n                        <Col span={6}>\r\n                            <Form.Item label=\"Status\" required>\r\n                                <Select value={data.status} onChange={v => { handleChange({ status: v }) }} >\r\n                                    <Select.Option value={true}>Active</Select.Option>\r\n                                    <Select.Option value={false}>Inactive</Select.Option>\r\n                                </Select>\r\n                            </Form.Item>\r\n                        </Col>\r\n                    </Row>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst HiForm = ({ data, handleChange, changeForm, file, setFile, thumbFile, setThumbFile }) => {\r\n    const [categories, setCategories] = useState([]);\r\n    const [subCategories, setSubCategories] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            service.listCategory({ isAll: 1, ln: 'hi' }).then(res => { setCategories(res.data || []); }).catch(err => { AntdMsg('Categories data not loaded', 'error'); });\r\n            service.listSubCategory({ isAll: 1, ln: 'hi' }).then(res => { setSubCategories(res.data || []); }).catch(err => { AntdMsg('Sub categories data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={3}>\r\n                        <Form.Item label=\"Thumbnail Photo\">\r\n                            <UploadImage {...{ fileList: thumbFile, setFileList: setThumbFile }} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={21}>\r\n                        <Form.Item label=\"Photo\">\r\n                            <UploadImage {...{ fileList: file, setFileList: setFile }} count={10} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Choose Categories\" required>\r\n                            <Select\r\n                                mode=\"multiple\"\r\n                                style={{\r\n                                    width: '100%',\r\n                                }}\r\n                                placeholder=\"Select Categories\"\r\n                                disabled\r\n                                value={data.categoryIds || []}\r\n                                optionLabelProp=\"label\"\r\n                                allowClear={true}\r\n                            >\r\n                                {categories.map((v) => <Select.Option key={v.parentId} value={v.parentId} label={v.name} >{v.name}</Select.Option>)}\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Choose Sub Categories\" required>\r\n                            <Select\r\n                                mode=\"multiple\"\r\n                                style={{\r\n                                    width: '100%',\r\n                                }}\r\n                                placeholder=\"Select Sub Categories\"\r\n                                disabled\r\n                                value={data.subCategoryIds}\r\n                                optionLabelProp=\"label\"\r\n                                allowClear={true}\r\n                            >\r\n                                {\r\n                                    subCategories.filter(v => data?.categoryIds?.includes(v.categoryId)).map((v) =>\r\n                                        <Select.Option key={v.parentId} value={v.parentId} label={v.name}>{v.name}</Select.Option>\r\n                                    )\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Row gutter={[12, 2]}>\r\n                        <Col span={12}>\r\n                            <Form.Item label=\"Name\" required>\r\n                                <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={12}>\r\n                            <Form.Item label=\"Slug\" required>\r\n                                <Input placeholder=\"Slug\" value={data.slug} disabled />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={24}>\r\n                            <Form.Item label=\"Description\" required>\r\n                                <Input.TextArea placeholder=\"Write product description...\" value={data.description} onChange={e => { handleChange({ description: e.target.value }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={6}>\r\n                            <Form.Item label=\"Price\" required>\r\n                                <Input type=\"text\" placeholder=\"500\" value={data.price} onChange={e => { handleChange({ price: util.handleInteger(e.target.value) }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={6}>\r\n                            <Form.Item label=\"Actual Price\" required>\r\n                                <Input type=\"text\" placeholder=\"450\" value={data.actualPrice} onChange={e => { handleChange({ actualPrice: util.handleInteger(e.target.value) }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={6}>\r\n                            <Form.Item label=\"HSN code\" required>\r\n                                <Input placeholder=\"HSN code\" value={data.hsn_code} disabled />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={6}>\r\n                            <Form.Item label=\"Inventory\" required>\r\n                                <Input type=\"text\" placeholder=\"Inventory\" value={data.inventory} onChange={e => { handleChange({ inventory: util.handleInteger(e.target.value) }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={12}>\r\n                            <Form.Item label=\"Meta Title\" required>\r\n                                <Input placeholder=\"Enter meta title\" value={data.metaTitle} onChange={e => { handleChange({ metaTitle: e.target.value }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={12}>\r\n                            <Form.Item label=\"Meta Tag\" required>\r\n                                <Input placeholder=\"Enter meta tag\" value={data.metaTag} onChange={e => { handleChange({ metaTag: e.target.value }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={24}>\r\n                            <Form.Item label=\"Meta Description\" required>\r\n                                <Input.TextArea placeholder=\"Write product meta description...\" value={data.metaDescription} onChange={e => { handleChange({ metaDescription: e.target.value }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n\r\n                        <Col span={6}>\r\n                            <Form.Item label=\"Status\" required>\r\n                                <Select value={data.status} disabled >\r\n                                    <Select.Option value={true}>Active</Select.Option>\r\n                                    <Select.Option value={false}>Inactive</Select.Option>\r\n                                </Select>\r\n                            </Form.Item>\r\n                        </Col>\r\n                    </Row>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst GuForm = ({ data, handleChange, changeForm, file, setFile, thumbFile, setThumbFile }) => {\r\n    const [categories, setCategories] = useState([]);\r\n    const [subCategories, setSubCategories] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            service.listCategory({ isAll: 1, ln: 'gu' }).then(res => { setCategories(res.data || []); }).catch(err => { AntdMsg('Categories data not loaded', 'error'); });\r\n            service.listSubCategory({ isAll: 1, ln: 'gu' }).then(res => { setSubCategories(res.data || []); }).catch(err => { AntdMsg('Sub categories data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={3}>\r\n                        <Form.Item label=\"Thumbnail Photo\">\r\n                            <UploadImage {...{ fileList: thumbFile, setFileList: setThumbFile }} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={21}>\r\n                        <Form.Item label=\"Photo\">\r\n                            <UploadImage {...{ fileList: file, setFileList: setFile }} count={10} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Choose Categories\" required>\r\n                            <Select\r\n                                mode=\"multiple\"\r\n                                style={{\r\n                                    width: '100%',\r\n                                }}\r\n                                placeholder=\"Select Categories\"\r\n                                disabled\r\n                                value={data.categoryIds || []}\r\n                                optionLabelProp=\"label\"\r\n                                allowClear={true}\r\n                            >\r\n                                {categories.map((v) => <Select.Option key={v.parentId} value={v.parentId} label={v.name} >{v.name}</Select.Option>)}\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Choose Sub Categories\" required>\r\n                            <Select\r\n                                mode=\"multiple\"\r\n                                style={{\r\n                                    width: '100%',\r\n                                }}\r\n                                placeholder=\"Select Sub Categories\"\r\n                                disabled\r\n                                value={data.subCategoryIds}\r\n                                optionLabelProp=\"label\"\r\n                                allowClear={true}\r\n                            >\r\n                                {\r\n                                    subCategories.filter(v => data?.categoryIds?.includes(v.categoryId)).map((v) =>\r\n                                        <Select.Option key={v.parentId} value={v.parentId} label={v.name}>{v.name}</Select.Option>\r\n                                    )\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Row gutter={[12, 2]}>\r\n                        <Col span={12}>\r\n                            <Form.Item label=\"Name\" required>\r\n                                <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={12}>\r\n                            <Form.Item label=\"Slug\" required>\r\n                                <Input placeholder=\"Slug\" value={data.slug} disabled />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={24}>\r\n                            <Form.Item label=\"Description\" required>\r\n                                <Input.TextArea placeholder=\"Write product description...\" value={data.description} onChange={e => { handleChange({ description: e.target.value }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={6}>\r\n                            <Form.Item label=\"Price\" required>\r\n                                <Input type=\"text\" placeholder=\"500\" value={data.price} onChange={e => { handleChange({ price: util.handleInteger(e.target.value) }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={6}>\r\n                            <Form.Item label=\"Actual Price\" required>\r\n                                <Input type=\"text\" placeholder=\"450\" value={data.actualPrice} onChange={e => { handleChange({ actualPrice: util.handleInteger(e.target.value) }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={6}>\r\n                            <Form.Item label=\"HSN code\" required>\r\n                                <Input placeholder=\"HSN code\" value={data.hsn_code} disabled />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={6}>\r\n                            <Form.Item label=\"Inventory\" required>\r\n                                <Input type=\"text\" placeholder=\"Inventory\" value={data.inventory} onChange={e => { handleChange({ inventory: util.handleInteger(e.target.value) }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={12}>\r\n                            <Form.Item label=\"Meta Title\" required>\r\n                                <Input placeholder=\"Enter meta title\" value={data.metaTitle} onChange={e => { handleChange({ metaTitle: e.target.value }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={12}>\r\n                            <Form.Item label=\"Meta Tag\" required>\r\n                                <Input placeholder=\"Enter meta tag\" value={data.metaTag} onChange={e => { handleChange({ metaTag: e.target.value }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={24}>\r\n                            <Form.Item label=\"Meta Description\" required>\r\n                                <Input.TextArea placeholder=\"Write product meta description...\" value={data.metaDescription} onChange={e => { handleChange({ metaDescription: e.target.value }) }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n\r\n                        <Col span={6}>\r\n                            <Form.Item label=\"Status\" required>\r\n                                <Select value={data.status} disabled >\r\n                                    <Select.Option value={true}>Active</Select.Option>\r\n                                    <Select.Option value={false}>Inactive</Select.Option>\r\n                                </Select>\r\n                            </Form.Item>\r\n                        </Col>\r\n                    </Row>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\n\r\nconst AttributeModal = forwardRef((props, ref) => {\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(dt);\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={<>Attributes of <Typography.Text type=\"danger\">{data.name}</Typography.Text></>}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onCancel={() => { setOpen(false); }}\r\n                maskClosable={false}\r\n                width={800}\r\n                destroyOnClose\r\n                className=\"app-modal-body-overflow\"\r\n                footer={null}\r\n            >\r\n                <ProductAttribute {...{ type: data.type, productId: data._id }} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'banner';\r\n\r\n    // for Banners : \r\n    static bannerDetails(id, data) {\r\n        return axios.get(this.baseURL + '/details/' + id, { params: data });\r\n    }\r\n    static bannerList(data) {\r\n        return axios.get(this.baseURL + '/list', { params: data });\r\n    }\r\n    static bannerSave(data, query) {\r\n        return axios.post(this.baseURL + \"/save\", data, { params: query });\r\n    }\r\n    static bannerDelete(id) {\r\n        return axios.post(this.baseURL + '/delete', { ids: id });\r\n    }\r\n\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Row, Col, Popconfirm, Modal, Spin, Typography, Select, Image, Input, Tag } from 'antd';\r\nimport { DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport moment from \"moment\";\r\nimport service from '../../services/banner';\r\n// import userService from '../../../services/user';\r\n// import ecommService from '../../../services/ecomm';\r\nimport Pagination from '../components/Pagination';\r\nimport { AntdMsg } from '../../utils/Antd';\r\nimport commonObj from '../../commonObj';\r\nimport UploadImage from '../../utils/UploadImage';\r\n\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function BannerImage() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, fileType: 'photo' });\r\n    const addNewModalRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Image',\r\n            dataIndex: 'imgUrl',\r\n            render: (v) => {\r\n                return <Image src={v?.url} height={80} />\r\n            }\r\n        },\r\n        {\r\n            title: 'Uploaded At',\r\n            dataIndex: 'createdAt',\r\n            width: 400,\r\n            render: (v) => {\r\n                return moment(v).format(\"dddd, MMMM Do YYYY, h:mm:ss a\");\r\n            }\r\n        },\r\n        {\r\n            title: 'Type',\r\n            dataIndex: 'type',\r\n            width: 80,\r\n            render: (_,row) => {\r\n                return(<span>{row.type}</span>)\r\n            }\r\n            \r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        deleteAccess\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete this image?. Be sure to delete the image from server.\"\r\n                                onConfirm={() => { deleteData(row._id); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        editAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.bannerList(qData).then(res => {\r\n                setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.bannerDelete(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    // useEffect(() => {\r\n    //     if (viewAccess) {\r\n    //         userService.list({ isAll: 1 }).then(res => { setUsers(res.data || []); }).catch(err => { AntdMsg('User data not loaded', 'error'); });\r\n    //     }\r\n    // }, []);\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            <Typography.Title level={5}>List of Banners</Typography.Title>\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list }} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        {/* <Input placeholder=\"Search by name or code\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear /> */}\r\n                    </Form.Item>\r\n                </Col>\r\n                {/* <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col> */}\r\n                <Col span={5}>\r\n                    {\r\n                        addAccess\r\n                            ? <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                                <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                            </Form.Item>\r\n                            : null\r\n                    }\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected images?. Be sure to delete the image from server.\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const [fileList, setFileList] = useState([]);\r\n\r\n\r\n    const handleChange = (value) => {\r\n        if (changeForm) {\r\n            Object.entries(value).forEach(ent => {\r\n                let varDt = data;\r\n                const k = ent[0];\r\n                const v = ent[1];\r\n                let keys = k.split('.');\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    if (i + 1 === keys.length) {\r\n                        varDt[keys[i]] = v;\r\n                    } else {\r\n                        if (typeof varDt[keys[i]] === 'undefined') {\r\n                            if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                                varDt[keys[i]] = [];\r\n                            } else {\r\n                                varDt[keys[i]] = {};\r\n                            }\r\n                        } varDt = varDt[keys[i]];\r\n                    }\r\n                }\r\n            });\r\n            setData({ ...data });\r\n        }\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : { fileType: 'photo' }\r\n            );\r\n            if (!dt && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.bannerDetails(data._id).then(res => {\r\n            setData(res.data || {});\r\n            setFileList(res.data?.imgUrl ? [res.data?.imgUrl] : []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        if (changeForm) {\r\n            setAjxRequesting(true);\r\n            service.bannerSave(data).then((res) => {\r\n                AntdMsg(res.message);\r\n                handleChange({ ...res.data });\r\n                list();\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        } else {\r\n            setFileList([]);\r\n        }\r\n    }, [open]);\r\n\r\n    useEffect(() => {\r\n        handleChange({ imgUrl: fileList?.[0] });\r\n    }, [fileList]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Banner'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={500}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    changeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Form layout=\"vertical\" disabled={!changeForm}>\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Photo\">\r\n                                    <UploadImage {...{ fileList, setFileList }} count={1} listType=\"picture\" />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Priority\">\r\n                                    <Input placeholder='Priority' value={data.priority} onChange={e => { handleChange({ priority: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Type\" required>\r\n                                    <Select value={data.type} onChange={v => { handleChange({ type: v }) }} >\r\n                                        <Select.Option value=\"Home\">Home</Select.Option>\r\n                                        <Select.Option value=\"Ecomm\">Ecomm</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Status\" required>\r\n                                    <Select value={data.status} onChange={v => { handleChange({ status: v }) }} >\r\n                                        <Select.Option value={true}>Active</Select.Option>\r\n                                        <Select.Option value={false}>Inactive</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin } from 'antd';\r\nimport { DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../../services/ecomm';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport commonObj from '../../../commonObj';\r\n\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function OrderDetails({ type, orderId = null }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, type, orderId });\r\n    const addNewModalRef = useRef();\r\n\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Product Id',\r\n            dataIndex: 'productId',\r\n            width: 180,\r\n\r\n\r\n        },\r\n        {\r\n            title: 'Product Name',\r\n            dataIndex: 'name',\r\n            width: 250,\r\n            render: (_, { ProductDetails }) => {\r\n                return <span>{ProductDetails.name}</span>\r\n            }\r\n        },\r\n        {\r\n            title: 'Price',\r\n            dataIndex: 'price',\r\n            width: 140,\r\n            render: (_, { price }) => {\r\n                return <span>{price}</span>\r\n            }\r\n        },\r\n        {\r\n            title: 'Actual price',\r\n            dataIndex: 'actualPrice',\r\n            width: 140,\r\n            render: (_, { actualPrice }) => {\r\n                return <span>{actualPrice}</span>\r\n            }\r\n        },\r\n        // {\r\n        //     title: 'Discount',\r\n        //     dataIndex: 'discount',\r\n        //     width: 140,\r\n        //     render : (_,{discount})=>{\r\n        //         return <span>{discount}%</span>\r\n        //     }\r\n        // },\r\n        {\r\n            title: 'Quantity',\r\n            dataIndex: 'quantity',\r\n            width: 50,\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        deleteAccess\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete this product attribute?\"\r\n                                onConfirm={() => { deleteData(row._id); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n                    {\r\n                        editAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.orderDetailList(qData.orderId).then(res => {\r\n                setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.orderDetailDelete(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        });\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n    return (\r\n        <>\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n            // scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list, type, orderId }} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                {/* <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by name\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col> */}\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Reload</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected product attributes ?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, orderId } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [ln, setLn] = useState('en');\r\n    const [changeForm, setChangeForm] = useState(false);\r\n\r\n    const handleChange = (value) => {\r\n        if (changeForm) {\r\n            Object.entries(value).forEach(ent => {\r\n                let varDt = data;\r\n                const k = ent[0];\r\n                const v = ent[1];\r\n                let keys = k.split('.');\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    if (i + 1 === keys.length) {\r\n                        varDt[keys[i]] = v;\r\n                    } else {\r\n                        if (typeof varDt[keys[i]] === 'undefined') {\r\n                            if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                                varDt[keys[i]] = [];\r\n                            } else {\r\n                                varDt[keys[i]] = {};\r\n                            }\r\n                        } varDt = varDt[keys[i]];\r\n                    }\r\n                }\r\n            });\r\n            setData({ ...data });\r\n        }\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : { orderId }\r\n            );\r\n            if (!dt && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.orderDetailDetails(data._id).then(res => {\r\n            setData(res.data || {});\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        if (changeForm) {\r\n            setAjxRequesting(true);\r\n            service.orderDetailSave(data, { ln }).then((res) => {\r\n                AntdMsg(res.message);\r\n                handleChange({ ...res.data });\r\n                if (ln === \"en\") {\r\n                    list();\r\n                }\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [ln, data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        } else {\r\n            setLn('en');\r\n        }\r\n    }, [open]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Order'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                // destroyOnClose\r\n                maskClosable={false}\r\n                width={900}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    changeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Form layout=\"vertical\" disabled={!changeForm}>\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Product Id\" required>\r\n                                    <Input placeholder=\"Value\" value={data?._id} disabled/>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Product Name\" required>\r\n                                    <Input placeholder=\"Value\" value={data?.productId?.name} disabled/>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Price\" required>\r\n                                    <Input type=\"number\" placeholder=\"Price\" value={data.price} onChange={e => { handleChange({ price: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Actual Price\" required>\r\n                                    <Input type=\"number\" placeholder=\"Actual price\" value={data.actualPrice} disabled />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Quantity\" required>\r\n                                    <Input type=\"number\" placeholder=\"Quantity\" value={data.quantity} onChange={e => { handleChange({ quantity: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Total \" required>\r\n                                    <Input type=\"number\" placeholder=\"Total\" value={data.total} onChange={e => { handleChange({ total: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </Spin>\r\n\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Select, Tag } from 'antd';\r\nimport { DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../../services/ecomm';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport commonObj from '../../../commonObj';\r\nimport OrderDetail from './OrderDetail';\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function Order({ type, categoryId = null }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, type, categoryId });\r\n    const addNewModalRef = useRef();\r\n    const attributeModalRef = useRef();\r\n\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Order id',\r\n            dataIndex: '_id',\r\n            // width: 200,\r\n        },\r\n        {\r\n            title: 'Shipping Address',\r\n            dataIndex: 'shippingAddress',\r\n            width: 250,\r\n        },\r\n        {\r\n            title: 'Payment Method',\r\n            dataIndex: 'paymentMethod',\r\n            width: 180,\r\n        },\r\n        {\r\n            title: 'Total Amount',\r\n            dataIndex: 'totalAmount',\r\n            width: 150,\r\n        },\r\n        {\r\n            title: 'Details',\r\n            dataIndex: 'orderId',\r\n            width: 150,\r\n            render: (value, row) => (\r\n                <Button type=\"primary\" size=\"small\" onClick={() => { attributeModalRef.current.openForm({ _id: row._id }) }}>Order Details</Button>\r\n            )\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 80,\r\n            render: (_,{status}) => {\r\n                return <Tag color='green'>{status}</Tag>\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        deleteAccess\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete this Product?\"\r\n                                onConfirm={() => { deleteData(row._id); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n                    {\r\n                        editAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.orderList(qData).then(res => {\r\n                setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.orderDelete(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list, categoryId }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            {\r\n                !categoryId\r\n                    ? <Typography.Title level={5}>List of  Orders</Typography.Title>\r\n                    : null\r\n            }\r\n\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list, type, categoryId }} />\r\n            <AttributeModal ref={attributeModalRef} />\r\n\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ selected, deleteData, qData, setQData, list }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by order id\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected Order?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [changeForm, setChangeForm] = useState(false);\r\n\r\n\r\n\r\n    const handleChange = (value) => {\r\n        if (changeForm) {\r\n            Object.entries(value).forEach(ent => {\r\n                let varDt = data;\r\n                const k = ent[0];\r\n                const v = ent[1];\r\n                let keys = k.split('.');\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    if (i + 1 === keys.length) {\r\n                        varDt[keys[i]] = v;\r\n                    } else {\r\n                        if (typeof varDt[keys[i]] === 'undefined') {\r\n                            if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                                varDt[keys[i]] = [];\r\n                            } else {\r\n                                varDt[keys[i]] = {};\r\n                            }\r\n                        } varDt = varDt[keys[i]];\r\n                    }\r\n                }\r\n            });\r\n            setData({ ...data });\r\n        }\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : { status: true }\r\n            );\r\n            if (!dt && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.orderDetails(data._id).then(res => {\r\n            setData(res.data || {});\r\n\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        if (changeForm) {\r\n            setAjxRequesting(true);\r\n            service.orderSave(data).then((res) => {\r\n                AntdMsg(res.message);\r\n                handleChange({ ...res.data });\r\n                list();\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        }\r\n    }, [open]);\r\n\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Order'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                // destroyOnClose\r\n                maskClosable={false}\r\n                width={600}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    changeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Form layout=\"vertical\" disabled={!changeForm}>\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Order Id\">\r\n                                    <Input placeholder='OrderId' value={data._id} disabled />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Shipping Address\">\r\n                                    <Input placeholder='Shipping Address' value={data.shippingAddress} disabled />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Payment method\">\r\n                                    <Input placeholder='Payment method' value={data.paymentMethod} disabled />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Total Amount\">\r\n                                    <Input type=\"number\" placeholder='order Amount' value={data.totalAmount} onChange={v => { handleChange({ totalAmount: v.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Status\" required>\r\n                                    <Select value={data.status} onChange={v => { handleChange({ status: v }) }} >\r\n                                        <Select.Option value=\"Initiated\">Initiated</Select.Option>\r\n                                        <Select.Option value=\"Dispatched\">Dispatched</Select.Option>\r\n                                        <Select.Option value=\"Delivered\">Delivered</Select.Option>\r\n                                        <Select.Option value=\"Cancelled\">Cancelled</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </Spin>\r\n\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\n\r\n\r\n\r\n\r\nconst AttributeModal = forwardRef((props, ref) => {\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(dt);\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={<>Details of Order: <Typography.Text type=\"danger\">{data._id}</Typography.Text></>}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onCancel={() => { setOpen(false); }}\r\n                maskClosable={false}\r\n                width={800}\r\n                destroyOnClose\r\n                className=\"app-modal-body-overflow\"\r\n                footer={null}\r\n            >\r\n                <OrderDetail {...{ type: data.type, orderId: data._id }} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'jain-world';\r\n\r\n    static detail(id, data) {\r\n        return axios.get(this.baseURL + '/details/' + id, { params: data });\r\n    }\r\n    static list(data) {\r\n        return axios.get(this.baseURL + '/list', { params: data });\r\n    }\r\n    static save(data, query) {\r\n        return axios.post(this.baseURL + \"/save\", data, { params: query });\r\n    }\r\n    static delete(id) {\r\n        return axios.post(this.baseURL + '/delete', { ids: id });\r\n    }\r\n\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Row, Col, Popconfirm, Modal, Spin, Typography, Select, Image } from 'antd';\r\nimport { DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport moment from \"moment\";\r\nimport service from '../../../services/jainWorld';\r\nimport userService from '../../../services/user';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport commonObj from '../../../commonObj';\r\nimport UploadImage from '../../../utils/UploadImage';\r\n\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function MyImage() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, fileType: 'photo' });\r\n    const [users, setUsers] = useState([]);\r\n    const addNewModalRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Image',\r\n            dataIndex: 'fileUrl',\r\n            render: (v) => {\r\n                return <Image src={v?.url} height={80} />\r\n            }\r\n        },\r\n        {\r\n            title: 'Uploaded At',\r\n            dataIndex: 'createdAt',\r\n            width: 400,\r\n            render: (v) => {\r\n                return moment(v).format(\"dddd, MMMM Do YYYY, h:mm:ss a\");\r\n            }\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        deleteAccess\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete this image?\"\r\n                                onConfirm={() => { deleteData(row._id); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        editAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.list(qData).then(res => {\r\n                setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.delete(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            userService.list({ isAll: 1 }).then(res => { setUsers(res.data || []); }).catch(err => { AntdMsg('User data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            <Typography.Title level={5}>List of Jinalayas</Typography.Title>\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list, users }} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        {/* <Input placeholder=\"Search by name or code\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear /> */}\r\n                    </Form.Item>\r\n                </Col>\r\n                {/* <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col> */}\r\n                <Col span={5}>\r\n                    {/* {\r\n                        addAccess\r\n                            ? <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                                <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                            </Form.Item>\r\n                            : null\r\n                    } */}\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected images?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, users } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const [fileList, setFileList] = useState([]);\r\n\r\n\r\n    const handleChange = (value) => {\r\n        if (changeForm) {\r\n            Object.entries(value).forEach(ent => {\r\n                let varDt = data;\r\n                const k = ent[0];\r\n                const v = ent[1];\r\n                let keys = k.split('.');\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    if (i + 1 === keys.length) {\r\n                        varDt[keys[i]] = v;\r\n                    } else {\r\n                        if (typeof varDt[keys[i]] === 'undefined') {\r\n                            if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                                varDt[keys[i]] = [];\r\n                            } else {\r\n                                varDt[keys[i]] = {};\r\n                            }\r\n                        } varDt = varDt[keys[i]];\r\n                    }\r\n                }\r\n            });\r\n            setData({ ...data });\r\n        }\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : { fileType: 'photo' }\r\n            );\r\n            if (!dt && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detail(data.parentId || data._id ).then(res => {\r\n            setData(res.data || {});\r\n            setFileList(res.data?.fileUrl ? [res.data?.fileUrl] : []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        if (changeForm) {\r\n            setAjxRequesting(true);\r\n            service.save(data).then((res) => {\r\n                AntdMsg(res.message);\r\n                handleChange({ ...res.data });\r\n                list();\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        } else {\r\n            setFileList([]);\r\n        }\r\n    }, [open]);\r\n\r\n    useEffect(() => {\r\n        handleChange({ fileUrl: fileList?.[0] });\r\n    }, [fileList]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Jinalaya'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={300}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    changeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Form layout=\"vertical\" disabled={!changeForm}>\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"User\">\r\n                                    <Select value={data.userId} onChange={v => { handleChange({ 'userId': v }) }} >\r\n                                        {\r\n                                            users.map(v => (\r\n                                                <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                            ))\r\n                                        }\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Photo\">\r\n                                    <UploadImage {...{ fileList, setFileList }} count={1} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Upload, Button } from \"antd\";\r\nimport { UploadOutlined } from '@ant-design/icons';\r\n\r\nimport fileService from \"../services/file\";\r\nimport React from \"react\";\r\n\r\nexport default function UploadImage({ fileList, setFileList, count = 1, disabled = false }) {\r\n    const uploadImage = async options => {\r\n        const { onSuccess, onError, file, onProgress } = options;\r\n\r\n        const fmData = new FormData();\r\n        const config = { onUploadProgress: event => { onProgress({ percent: (event.loaded / event.total) * 100 }); } };\r\n        fmData.append(\"file\", file);\r\n        try {\r\n            fileService.save(fmData, config).then(res => {\r\n                onSuccess(\"Ok\");\r\n                setFileList([...fileList, { uid: res.data.uid, url: res.data.url, name: res.data.name }]);\r\n            })\r\n        } catch (err) {\r\n            onError({ err });\r\n        }\r\n    };\r\n\r\n    const handleOnChange = ({ file, fl }) => {\r\n        if (typeof fl !== typeof []) {\r\n            fl = [];\r\n        }\r\n        setFileList(fl);\r\n\r\n    };\r\n    const handleRemove = (file) => {\r\n        fileService.remove({ uid: file.uid }).then(res => {\r\n            // setFileList(fileList?.filter(v => v.uid !== file.uid))\r\n        })\r\n    };\r\n\r\n    return <Upload\r\n        accept=\"video/*\"\r\n        customRequest={uploadImage}\r\n        onChange={handleOnChange}\r\n        onRemove={handleRemove}\r\n        // listType=\"picture-card\"\r\n        fileList={fileList}\r\n        className=\"image-upload-grid\"\r\n        disabled={disabled}\r\n    >\r\n        {fileList?.length >= count ? null :     <Button icon={<UploadOutlined />}>Upload</Button>}\r\n    </Upload>\r\n\r\n};","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Row, Col, Popconfirm, Modal, Spin, Typography, Select } from 'antd';\r\nimport { DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport moment from \"moment\";\r\nimport service from '../../../services/jainWorld';\r\nimport userService from '../../../services/user';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport commonObj from '../../../commonObj';\r\nimport UploadVideo from '../../../utils/UploadVideo';\r\n\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function MyVideo() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, fileType: 'video' });\r\n    const [users, setUsers] = useState([]);\r\n    const addNewModalRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Image',\r\n            dataIndex: 'fileUrl',\r\n            render: (v) => {\r\n                return (\r\n                    <>\r\n                        <video height=\"80\" controls>\r\n                            <source src={v?.url} type=\"video/mp4\" />\r\n                        </video>\r\n                    </>\r\n                );\r\n\r\n            }\r\n        },\r\n        {\r\n            title: 'Uploaded At',\r\n            dataIndex: 'createdAt',\r\n            width: 400,\r\n            render: (v) => {\r\n                return moment(v).format(\"dddd, MMMM Do YYYY, h:mm:ss a\");\r\n            }\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        deleteAccess\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete this video?\"\r\n                                onConfirm={() => { deleteData(row._id); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        editAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.list(qData).then(res => {\r\n                setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.delete(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            userService.list({ isAll: 1 }).then(res => { setUsers(res.data || []); }).catch(err => { AntdMsg('User data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            <Typography.Title level={5}>List of Jinalayas</Typography.Title>\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list, users }} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        {/* <Input placeholder=\"Search by name or code\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear /> */}\r\n                    </Form.Item>\r\n                </Col>\r\n                {/* <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col> */}\r\n                <Col span={5}>\r\n                    {\r\n                        addAccess\r\n                            ? <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                                <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                            </Form.Item>\r\n                            : null\r\n                    }\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected videos?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, users } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const [fileList, setFileList] = useState([]);\r\n\r\n\r\n    const handleChange = (value) => {\r\n        if (changeForm) {\r\n            Object.entries(value).forEach(ent => {\r\n                let varDt = data;\r\n                const k = ent[0];\r\n                const v = ent[1];\r\n                let keys = k.split('.');\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    if (i + 1 === keys.length) {\r\n                        varDt[keys[i]] = v;\r\n                    } else {\r\n                        if (typeof varDt[keys[i]] === 'undefined') {\r\n                            if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                                varDt[keys[i]] = [];\r\n                            } else {\r\n                                varDt[keys[i]] = {};\r\n                            }\r\n                        } varDt = varDt[keys[i]];\r\n                    }\r\n                }\r\n            });\r\n            setData({ ...data });\r\n        }\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : { fileType: 'video' }\r\n            );\r\n            if (!dt && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detail(data.parentId || data._id).then(res => {\r\n            setData(res.data || {});\r\n            setFileList(res.data?.fileUrl ? [res.data?.fileUrl] : []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        if (changeForm) {\r\n            setAjxRequesting(true);\r\n            service.save(data).then((res) => {\r\n                AntdMsg(res.message);\r\n                handleChange({ ...res.data });\r\n                list();\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        } else {\r\n            setFileList([]);\r\n        }\r\n    }, [open]);\r\n\r\n    useEffect(() => {\r\n        handleChange({ fileUrl: fileList?.[0] });\r\n    }, [fileList]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Jinalaya'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={300}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    changeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Form layout=\"vertical\" disabled={!changeForm}>\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"User\">\r\n                                    <Select value={data.userId} onChange={v => { handleChange({ 'userId': v }) }} >\r\n                                        {\r\n                                            users.map(v => (\r\n                                                <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                            ))\r\n                                        }\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Video\">\r\n                                    <UploadVideo {...{ fileList, setFileList }} count={1} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'music';\r\n\r\n    //// singer-type api\r\n    static detailSingerType(id, data) {\r\n        return axios.get(this.baseURL + '/singer-type/details/' + id, { params: data });\r\n    }\r\n    static listSingerType(data) {\r\n        return axios.get(this.baseURL + '/singer-type/list', { params: data });\r\n    }\r\n    static saveSingerType(data, query) {\r\n        return axios.post(this.baseURL + \"/singer-type/save\", data, { params: query });\r\n    }\r\n    static deleteSingerType(id) {\r\n        return axios.post(this.baseURL + '/singer-type/delete', { ids: id });\r\n    }\r\n\r\n    /// singer api\r\n    static detailSinger(id, data) {\r\n        return axios.get(this.baseURL + '/singer/details/' + id, { params: data });\r\n    }\r\n    static listSinger(data) {\r\n        return axios.get(this.baseURL + '/singer/list', { params: data });\r\n    }\r\n    static saveSinger(data, query) {\r\n        return axios.post(this.baseURL + \"/singer/save\", data, { params: query });\r\n    }\r\n    static deleteSinger(id) {\r\n        return axios.post(this.baseURL + '/singer/delete', { ids: id });\r\n    }\r\n\r\n    /// singer file data api\r\n    static detailSingerFileData(id, data) {\r\n        return axios.get(this.baseURL + '/singerFileData/details/' + id, { params: data });\r\n    }\r\n    static listSingerFileData(data) {\r\n        return axios.get(this.baseURL + '/singerFileData/list', { params: data });\r\n    }\r\n    static saveSingerFileData(data, query) {\r\n        return axios.post(this.baseURL + \"/singerFileData/save\", data, { params: query });\r\n    }\r\n    static deleteSingerFileData(id) {\r\n        return axios.post(this.baseURL + '/singerFileData/delete', { ids: id });\r\n    }\r\n\r\n    /// song-category api\r\n    static detailSongCategory(id, data) {\r\n        return axios.get(this.baseURL + '/song-category/details/' + id, { params: data });\r\n    }\r\n    static listSongCategory(data) {\r\n        return axios.get(this.baseURL + '/song-category/list', { params: data });\r\n    }\r\n    static saveSongCategory(data, query) {\r\n        return axios.post(this.baseURL + \"/song-category/save\", data, { params: query });\r\n    }\r\n    static deleteSongCategory(id) {\r\n        return axios.post(this.baseURL + '/song-category/delete', { ids: id });\r\n    }\r\n\r\n     /// song api\r\n     static detailSong(id, data) {\r\n        return axios.get(this.baseURL + '/song/details/' + id, { params: data });\r\n    }\r\n    static listSong(data) {\r\n        return axios.get(this.baseURL + '/song/list', { params: data });\r\n    }\r\n    static saveSong(data, query) {\r\n        return axios.post(this.baseURL + \"/song/save\", data, { params: query });\r\n    }\r\n    static deleteSong(id) {\r\n        return axios.post(this.baseURL + '/song/delete', { ids: id });\r\n    }\r\n\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Tabs, Card } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../../services/music';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport commonObj from '../../../commonObj';\r\n\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function SingerType() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20 });\r\n    const addNewModalRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            // width: 200,\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        deleteAccess\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete this singer type?\"\r\n                                onConfirm={() => { deleteData(row._id); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        editAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.listSingerType(qData).then(res => {\r\n                setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.deleteSingerType(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            <Typography.Title level={5}>List of Singer Type</Typography.Title>\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list }} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by type name\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    {\r\n                        addAccess\r\n                            ? <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                                <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                            </Form.Item>\r\n                            : null\r\n                    }\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected singer type?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [ln, setLn] = useState('en');\r\n    const [changeForm, setChangeForm] = useState(false);\r\n\r\n\r\n    const handleChange = (value) => {\r\n        if (changeForm) {\r\n            Object.entries(value).forEach(ent => {\r\n                let varDt = data;\r\n                const k = ent[0];\r\n                const v = ent[1];\r\n                let keys = k.split('.');\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    if (i + 1 === keys.length) {\r\n                        varDt[keys[i]] = v;\r\n                    } else {\r\n                        if (typeof varDt[keys[i]] === 'undefined') {\r\n                            if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                                varDt[keys[i]] = [];\r\n                            } else {\r\n                                varDt[keys[i]] = {};\r\n                            }\r\n                        } varDt = varDt[keys[i]];\r\n                    }\r\n                }\r\n            });\r\n            setData({ ...data });\r\n        }\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : { status: true }\r\n            );\r\n            if (!dt && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detailSingerType(data.parentId || data._id, { ln }).then(res => {\r\n            setData(res.data || {});\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        if (changeForm) {\r\n            setAjxRequesting(true);\r\n            service.saveSingerType(data, { ln }).then((res) => {\r\n                AntdMsg(res.message);\r\n                handleChange({ _id: res.data._id });\r\n                if (ln === \"en\") {\r\n                    list();\r\n                }\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [ln, data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        } else {\r\n            setLn('en');\r\n        }\r\n    }, [open]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Singer Type'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                // destroyOnClose\r\n                maskClosable={false}\r\n                width={500}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    changeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Tabs activeKey={ln} type=\"card\" size=\"small\" style={{ marginBottom: 0 }} onChange={(v) => { setLn(v); }}\r\n                        items={[\r\n                            {\r\n                                label: \"English\",\r\n                                key: \"en\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <EnForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"hi\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <HiForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"gu\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <GuForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            }\r\n                        ]}\r\n                    />\r\n                </Spin>\r\n\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst EnForm = ({ data, handleChange, changeForm }) => {\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst HiForm = ({ data, handleChange, changeForm }) => {\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst GuForm = ({ data, handleChange, changeForm }) => {\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport {\r\n  Table,\r\n  Button,\r\n  Form,\r\n  Input,\r\n  Row,\r\n  Col,\r\n  Popconfirm,\r\n  Modal,\r\n  Spin,\r\n  Image,\r\n  DatePicker,\r\n} from \"antd\";\r\nimport {\r\n  PlusOutlined,\r\n  DeleteOutlined,\r\n  EditOutlined,\r\n  LoadingOutlined,\r\n  EyeOutlined,\r\n} from \"@ant-design/icons\";\r\nimport React, {\r\n  useEffect,\r\n  useState,\r\n  forwardRef,\r\n  useImperativeHandle,\r\n  useRef,\r\n} from \"react\";\r\nimport service from \"../../../services/music\";\r\nimport Pagination from \"../../components/Pagination\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport commonObj from \"../../../commonObj\";\r\nimport UploadImage from \"../../../utils/UploadImage\";\r\nimport UploadVideo from \"../../../utils/UploadVideo\";\r\nimport moment from \"moment\";\r\nconst viewAccess = true;\r\nconst addAccess =\r\n  commonObj.userType === \"superAdmin\" || commonObj.modules?.includes(\"add\");\r\nconst editAccess =\r\n  commonObj.userType === \"superAdmin\" || commonObj.modules?.includes(\"edit\");\r\nconst deleteAccess =\r\n  commonObj.userType === \"superAdmin\" || commonObj.modules?.includes(\"delete\");\r\n\r\nexport default function SingerFile({ fileType, singerId = null }) {\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [selected, setSelected] = useState([]);\r\n  const [qData, setQData] = useState({\r\n    page: 1,\r\n    limit: 20,\r\n    type: fileType,\r\n    singerId,\r\n  });\r\n  const addNewModalRef = useRef();\r\n\r\n  const columns = [\r\n    {\r\n      title: \"File\",\r\n      dataIndex: \"file\",\r\n      render: (v, row) => {\r\n        if (row.type === \"photo\") {\r\n          return <Image src={v?.url} height={80} />;\r\n        } else if (row.type === \"video\") {\r\n          return (\r\n            <video height=\"80\" controls>\r\n              <source src={v?.url} type=\"video/mp4\" />\r\n            </video>\r\n          );\r\n        } else if (row.type === \"youtube-short\") {\r\n          return v?.url;\r\n        } else if (row.type === \"youtube-video\") {\r\n          return v?.url;\r\n        }\r\n      },\r\n    },\r\n    {\r\n      title: \"Uploaded At\",\r\n      dataIndex: \"createdAt\",\r\n      render: (v, row) => {\r\n        return moment(v).format(\"dddd, MMMM Do YYYY, h:mm:ss a\");\r\n      },\r\n    },\r\n    {\r\n      title: \"Action\",\r\n      dataIndex: \"_id\",\r\n      width: 70,\r\n      hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n      render: (v, row) => {\r\n        return (\r\n          <>\r\n            {deleteAccess ? (\r\n              <Popconfirm\r\n                title=\"Are you sure to delete this File?\"\r\n                onConfirm={() => {\r\n                  deleteData(row._id);\r\n                }}\r\n                okText=\"Yes\"\r\n                cancelText=\"No\"\r\n              >\r\n                <Button\r\n                  type=\"primary\"\r\n                  size=\"small\"\r\n                  danger\r\n                  icon={<DeleteOutlined />}\r\n                />\r\n                &nbsp;\r\n              </Popconfirm>\r\n            ) : null}\r\n            {editAccess ? (\r\n              <Button\r\n                type=\"primary\"\r\n                size=\"small\"\r\n                icon={<EditOutlined />}\r\n                onClick={() => {\r\n                  addNewModalRef.current.openForm(row);\r\n                }}\r\n              />\r\n            ) : null}\r\n            {!editAccess && viewAccess ? (\r\n              <Button\r\n                type=\"primary\"\r\n                size=\"small\"\r\n                icon={<EyeOutlined />}\r\n                onClick={() => {\r\n                  addNewModalRef.current.openForm(row);\r\n                }}\r\n              />\r\n            ) : null}\r\n          </>\r\n        );\r\n      },\r\n    },\r\n  ].filter((item) => !item.hidden);\r\n\r\n  function list() {\r\n    if (viewAccess) {\r\n      setLoading(true);\r\n      service\r\n        .listSingerFileData(qData)\r\n        .then((res) => {\r\n          setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n          setQData({\r\n            ...qData,\r\n            limit: res.extra.limit,\r\n            page: res.extra.page,\r\n            total: res.extra.total,\r\n          });\r\n        })\r\n        .catch((err) => {})\r\n        .finally(() => {\r\n          setLoading(false);\r\n        });\r\n    }\r\n  }\r\n\r\n  const deleteData = (id) => {\r\n    service\r\n      .deleteSingerFileData(id)\r\n      .then((res) => {\r\n        AntdMsg(res.message);\r\n        list();\r\n        setSelected([]);\r\n      })\r\n      .catch((err) => {\r\n        AntdMsg(err.message, \"error\");\r\n      });\r\n  };\r\n\r\n  const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n  tableColumns[0].fixed = true;\r\n  tableColumns[tableColumns.length - 1].fixed = \"right\";\r\n\r\n  const tableProps = {\r\n    bordered: true,\r\n    loading,\r\n    size: \"small\",\r\n    title: () => (\r\n      <Search\r\n        {...{ addNewModalRef, selected, deleteData, qData, setQData, list }}\r\n      />\r\n    ),\r\n    showHeader: true,\r\n    footer: () => <Pagination {...{ qData, setQData }} />,\r\n    rowSelection: {\r\n      onChange: (selectedRowKeys) => {\r\n        setSelected(selectedRowKeys);\r\n      },\r\n    },\r\n    tableLayout: undefined,\r\n  };\r\n\r\n  useEffect(() => {\r\n    list();\r\n  }, [qData.page, qData.limit]);\r\n\r\n  return (\r\n    <>\r\n      <Table\r\n        {...tableProps}\r\n        pagination={{ position: [\"none\"], pageSize: qData.limit }}\r\n        columns={tableColumns}\r\n        dataSource={data.length ? data : []}\r\n        scroll={{ y: \"calc(100vh - 340px)\", x: \"calc(100vw - 387px)\" }}\r\n      />\r\n      <AddForm ref={addNewModalRef} {...{ list, fileType, singerId }} />\r\n    </>\r\n  );\r\n}\r\n\r\nfunction Search({\r\n  addNewModalRef,\r\n  selected,\r\n  deleteData,\r\n  qData,\r\n  setQData,\r\n  list,\r\n}) {\r\n  const [dataValue, setDataValue] = useState([]);\r\n  const onChange = (v, key) => {\r\n    setDataValue(v);\r\n    qData[key] = v;\r\n    if (v === undefined || v === null) {\r\n      qData[key] = \"\";\r\n      setDataValue([]);\r\n      list();\r\n    }\r\n\r\n    console.log(qData);\r\n  };\r\n  // onChange={v => (setQData({ ...qData, Datekey: v }))}\r\n\r\n  return (\r\n    <Form onSubmitCapture={list} className=\"search-form\">\r\n      <Row gutter={[12, 2]} style={{ margin: \"1rem 0\" }}>\r\n        <Col span={8}>\r\n          <Form.Item style={{ marginBottom: 0 }}>\r\n            <DatePicker.RangePicker\r\n              style={{ width: \"100%\" }}\r\n              value={dataValue}\r\n              onChange={(e) => onChange(e, \"Datekey\")}\r\n              allowClear\r\n            />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col span={3}>\r\n          <Form.Item style={{ marginBottom: 0 }}>\r\n            <Button type=\"primary\" htmlType=\"submit\">\r\n              Search\r\n            </Button>\r\n          </Form.Item>\r\n        </Col>\r\n        <Col span={5}>\r\n          {addAccess ? (\r\n            <Form.Item style={{ marginBottom: 0, float: \"right\" }}>\r\n              <Button\r\n                type=\"primary\"\r\n                icon={<PlusOutlined />}\r\n                onClick={() => {\r\n                  addNewModalRef.current.openForm();\r\n                }}\r\n              >\r\n                Add New\r\n              </Button>\r\n            </Form.Item>\r\n          ) : null}\r\n          {selected.length ? (\r\n            <Popconfirm\r\n              title=\"Are you sure to delete these selected data?\"\r\n              onConfirm={() => {\r\n                deleteData(selected);\r\n              }}\r\n              okText=\"Yes\"\r\n              cancelText=\"No\"\r\n            >\r\n              <Button\r\n                type=\"primary\"\r\n                danger\r\n                style={{ float: \"right\" }}\r\n                icon={<DeleteOutlined />}\r\n              >\r\n                Delete Selected\r\n              </Button>\r\n            </Popconfirm>\r\n          ) : null}\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n  );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n  const { list, fileType, singerId } = props;\r\n  const [open, setOpen] = useState(false);\r\n  const [data, setData] = useState({ aspect: 1, singerId });\r\n  const [ajxRequesting, setAjxRequesting] = useState(false);\r\n  const [changeForm, setChangeForm] = useState(false);\r\n  const [file, setFile] = useState([]);\r\n\r\n  const handleChange = (value) => {\r\n    setData({ ...Date, ...value });\r\n  };\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    openForm(dt) {\r\n      setOpen(true);\r\n      setData(dt ? { ...dt } : {});\r\n      if (!dt && addAccess) {\r\n        setChangeForm(true);\r\n      } else if (dt && editAccess) {\r\n        setChangeForm(true);\r\n      } else {\r\n        setChangeForm(false);\r\n      }\r\n    },\r\n  }));\r\n\r\n  const save = () => {\r\n    if (changeForm) {\r\n      setAjxRequesting(true);\r\n      service\r\n        .saveSingerFileData({ ...data, singerId, type: fileType })\r\n        .then((res) => {\r\n          AntdMsg(res.message);\r\n          handleChange({ ...res.data });\r\n          list();\r\n          setOpen(false);\r\n        })\r\n        .catch((err) => {\r\n          if (typeof err.message === \"object\") {\r\n            let dt = err.message[Object.keys(err.message)[0]];\r\n            AntdMsg(dt, \"error\");\r\n          } else {\r\n            AntdMsg(err.message, \"error\");\r\n          }\r\n        })\r\n        .finally(() => {\r\n          setAjxRequesting(false);\r\n        });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (file[0]) {\r\n      handleChange({ file: file[0] });\r\n    }\r\n  }, [file]);\r\n\r\n  useEffect(() => {\r\n    if (!open) {\r\n      setData({ _id: null });\r\n    } else {\r\n      setFile([]);\r\n    }\r\n  }, [open]);\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        title={(!data._id ? \"Add\" : \"Edit\") + \" Data\"}\r\n        style={{ top: 20 }}\r\n        open={open}\r\n        okText=\"Save\"\r\n        onOk={save}\r\n        okButtonProps={{ disabled: ajxRequesting }}\r\n        onCancel={() => {\r\n          setOpen(false);\r\n        }}\r\n        destroyOnClose\r\n        maskClosable={false}\r\n        width={600}\r\n        className=\"app-modal-body-overflow\"\r\n        footer={[\r\n          <Button\r\n            key=\"cancel\"\r\n            onClick={() => {\r\n              setOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>,\r\n          changeForm ? (\r\n            <Button key=\"save\" type=\"primary\" onClick={save}>\r\n              Save\r\n            </Button>\r\n          ) : null,\r\n        ]}\r\n      >\r\n        <Spin\r\n          spinning={ajxRequesting}\r\n          indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}\r\n        >\r\n          {fileType === \"photo\" ? <Photo {...{ file, setFile }} /> : null}\r\n          {fileType === \"video\" ? <Video {...{ file, setFile }} /> : null}\r\n          {fileType === \"youtube-short\" ? (\r\n            <YoutubeShorts {...{ data, setData }} />\r\n          ) : null}\r\n          {fileType === \"youtube-video\" ? (\r\n            <YoutubeVideo {...{ data, setData }} />\r\n          ) : null}\r\n        </Spin>\r\n      </Modal>\r\n    </>\r\n  );\r\n});\r\n\r\nconst Photo = ({ file, setFile }) => {\r\n  return (\r\n    <>\r\n      <Row gutter={[12, 2]}>\r\n        <Col span={24}>\r\n          <UploadImage\r\n            count={1}\r\n            {...{ fileList: file, setFileList: setFile }}\r\n          />\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\nconst Video = ({ file, setFile }) => {\r\n  return (\r\n    <>\r\n      <Row gutter={[12, 2]}>\r\n        <Col span={24}>\r\n          <UploadVideo\r\n            count={1}\r\n            {...{ fileList: file, setFileList: setFile }}\r\n          />\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\nconst YoutubeShorts = ({ data, setData }) => {\r\n  return (\r\n    <>\r\n      <Row gutter={[12, 2]}>\r\n        <Col span={24}>\r\n          <Form.Item label=\"Type\" required>\r\n            <Input\r\n              placeholder=\"Enter Youtube short URL\"\r\n              onChange={(e) => {\r\n                setData({\r\n                  ...data,\r\n                  file: { url: e.target.value, uid: \"0\", name: \"\" },\r\n                });\r\n              }}\r\n            />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nconst YoutubeVideo = ({ data, setData }) => {\r\n  useEffect(() => {\r\n    console.log(data);\r\n  }, [data]);\r\n\r\n  return (\r\n    <>\r\n      <Row gutter={[12, 2]}>\r\n        <Col span={24}>\r\n          <Form.Item label=\"Type\" required>\r\n            <Input\r\n              placeholder=\"Enter Youtube video URL\"\r\n              onChange={(e) => {\r\n                setData({\r\n                  ...data,\r\n                  file: { url: e.target.value, uid: \"0\", name: \"\" },\r\n                });\r\n              }}\r\n            />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport {\r\n  Table,\r\n  Button,\r\n  Form,\r\n  Input,\r\n  Row,\r\n  Col,\r\n  Popconfirm,\r\n  Modal,\r\n  Spin,\r\n  Typography,\r\n  Tabs,\r\n  Card,\r\n  Select,\r\n  Tag,\r\n} from \"antd\";\r\nimport {\r\n  PlusOutlined,\r\n  DeleteOutlined,\r\n  EditOutlined,\r\n  LoadingOutlined,\r\n  EyeOutlined,\r\n  MinusOutlined,\r\n} from \"@ant-design/icons\";\r\nimport React, {\r\n  useEffect,\r\n  useState,\r\n  forwardRef,\r\n  useImperativeHandle,\r\n  useRef,\r\n} from \"react\";\r\nimport service from \"../../../services/music\";\r\nimport locationService from \"../../../services/location\";\r\nimport Pagination from \"../../components/Pagination\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport commonObj from \"../../../commonObj\";\r\nimport UploadImage from \"../../../utils/UploadImage\";\r\nimport SingerFile from \"./SingerFile\";\r\n\r\nconst viewAccess = true;\r\nconst addAccess =\r\n  commonObj.userType === \"superAdmin\" || commonObj.modules?.includes(\"add\");\r\nconst editAccess =\r\n  commonObj.userType === \"superAdmin\" || commonObj.modules?.includes(\"edit\");\r\nconst deleteAccess =\r\n  commonObj.userType === \"superAdmin\" || commonObj.modules?.includes(\"delete\");\r\n\r\nexport default function Singer() {\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [selected, setSelected] = useState([]);\r\n  const [qData, setQData] = useState({ page: 1, limit: 20 });\r\n  const addNewModalRef = useRef();\r\n  const singerFileDataModalRef = useRef();\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Name\",\r\n      dataIndex: \"name\",\r\n      width: 200,\r\n    },\r\n    {\r\n      title: \"Singer Type\",\r\n      dataIndex: \"singerTypeDetails\",\r\n      render: (v) =>\r\n        v?.map((vv, ii) => (\r\n          <Tag color={[\"magenta\", \"cyan\", \"geekblue\", \"orange\"]?.[ii % 4]}>\r\n            {vv?.name}\r\n          </Tag>\r\n        )),\r\n    },\r\n    {\r\n      title: \"File Data\",\r\n      dataIndex: \"_id\",\r\n      width: 150,\r\n      render: (value, row) => (\r\n        <Button\r\n          type=\"primary\"\r\n          size=\"small\"\r\n          onClick={() => {\r\n            singerFileDataModalRef.current.openForm({\r\n              name: row.name,\r\n              _id: value,\r\n            });\r\n          }}\r\n        >\r\n          File Data\r\n        </Button>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Action\",\r\n      dataIndex: \"_id\",\r\n      width: 70,\r\n      hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n      render: (v, row) => {\r\n        return (\r\n          <>\r\n            {deleteAccess ? (\r\n              <Popconfirm\r\n                title=\"Are you sure to delete this Singer ?\"\r\n                onConfirm={() => {\r\n                  deleteData(row._id);\r\n                }}\r\n                okText=\"Yes\"\r\n                cancelText=\"No\"\r\n              >\r\n                <Button\r\n                  type=\"primary\"\r\n                  size=\"small\"\r\n                  danger\r\n                  icon={<DeleteOutlined />}\r\n                />\r\n                &nbsp;\r\n              </Popconfirm>\r\n            ) : null}\r\n\r\n            {editAccess ? (\r\n              <Button\r\n                type=\"primary\"\r\n                size=\"small\"\r\n                icon={<EditOutlined />}\r\n                onClick={() => {\r\n                  addNewModalRef.current.openForm(row._id);\r\n                }}\r\n              />\r\n            ) : null}\r\n            {!editAccess && viewAccess ? (\r\n              <Button\r\n                type=\"primary\"\r\n                size=\"small\"\r\n                icon={<EyeOutlined />}\r\n                onClick={() => {\r\n                  addNewModalRef.current.openForm(row._id);\r\n                }}\r\n              />\r\n            ) : null}\r\n          </>\r\n        );\r\n      },\r\n    },\r\n  ].filter((item) => !item.hidden);\r\n\r\n  function list() {\r\n    if (viewAccess) {\r\n      setLoading(true);\r\n      service\r\n        .listSinger(qData)\r\n        .then((res) => {\r\n          setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n          setQData({\r\n            ...qData,\r\n            limit: res.extra.limit,\r\n            page: res.extra.page,\r\n            total: res.extra.total,\r\n          });\r\n        })\r\n        .catch((err) => {})\r\n        .finally(() => {\r\n          setLoading(false);\r\n        });\r\n    }\r\n  }\r\n\r\n  const deleteData = (id) => {\r\n    service\r\n      .deleteSinger(id)\r\n      .then((res) => {\r\n        AntdMsg(res.message);\r\n        list();\r\n        setSelected([]);\r\n      })\r\n      .catch((err) => {\r\n        AntdMsg(err.message, \"error\");\r\n      });\r\n  };\r\n\r\n  const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n  tableColumns[0].fixed = true;\r\n  tableColumns[tableColumns.length - 1].fixed = \"right\";\r\n\r\n  const tableProps = {\r\n    bordered: true,\r\n    loading,\r\n    size: \"small\",\r\n    title: () => (\r\n      <Search\r\n        {...{ addNewModalRef, selected, deleteData, qData, setQData, list }}\r\n      />\r\n    ),\r\n    showHeader: true,\r\n    footer: () => <Pagination {...{ qData, setQData }} />,\r\n    rowSelection: {\r\n      onChange: (selectedRowKeys) => {\r\n        setSelected(selectedRowKeys);\r\n      },\r\n    },\r\n    tableLayout: undefined,\r\n  };\r\n\r\n  useEffect(() => {\r\n    list();\r\n  }, [qData.page, qData.limit]);\r\n\r\n  return (\r\n    <>\r\n      <Typography.Title level={5}>List of Singers</Typography.Title>\r\n      <Table\r\n        {...tableProps}\r\n        pagination={{ position: [\"none\"], pageSize: qData.limit }}\r\n        columns={tableColumns}\r\n        dataSource={data.length ? data : []}\r\n        scroll={{ y: \"calc(100vh - 340px)\", x: \"calc(100vw - 387px)\" }}\r\n      />\r\n      <AddForm ref={addNewModalRef} {...{ list }} />\r\n      <SingerFileModal ref={singerFileDataModalRef} />\r\n    </>\r\n  );\r\n}\r\n\r\nfunction Search({\r\n  addNewModalRef,\r\n  selected,\r\n  deleteData,\r\n  qData,\r\n  setQData,\r\n  list,\r\n}) {\r\n  const [singerType, setSingerType] = useState([]);\r\n  const [states, setStates] = useState([]);\r\n  const [districts, setDistricts] = useState([]);\r\n  useEffect(() => {\r\n    if (viewAccess) {\r\n      service\r\n        .listSingerType({ isAll: 1, ln: \"en\" })\r\n        .then((res) => {\r\n          setSingerType(res.data || []);\r\n        })\r\n        .catch((err) => {\r\n          AntdMsg(\"Singer Type data not loaded\", \"error\");\r\n        });\r\n      locationService\r\n        .listState({ isAll: 1, ln: \"en\" })\r\n        .then((res) => {\r\n          setStates(res.data || []);\r\n        })\r\n        .catch((err) => {\r\n          AntdMsg(\"States not loaded\", \"error\");\r\n        });\r\n      locationService\r\n        .listDistrict({ isAll: 1, ln: \"en\" })\r\n        .then((res) => {\r\n          setDistricts(res.data || []);\r\n        })\r\n        .catch((err) => {\r\n          AntdMsg(\"Districts not loaded\", \"error\");\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Form onSubmitCapture={list} className=\"search-form\">\r\n      <Row gutter={[12, 2]}>\r\n        <Col span={4}>\r\n          <Form.Item style={{ marginBottom: 0 }}>\r\n            <Input\r\n              placeholder=\"Search by singer name\"\r\n              value={qData.key}\r\n              onChange={(e) => setQData({ ...qData, key: e.target.value })}\r\n              allowClear\r\n            />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col span={4}>\r\n          <Form.Item>\r\n            <Select\r\n              placeholder=\"Singer Type\"\r\n              value={qData.singerTypeId}\r\n              onChange={(v) => {\r\n                setQData({ ...qData, singerTypeId: v });\r\n              }}\r\n              allowClear\r\n            >\r\n              {singerType.map((v) => (\r\n                <Select.Option key={v._id} value={v._id}>\r\n                  {v.name}\r\n                </Select.Option>\r\n              ))}\r\n            </Select>\r\n          </Form.Item>\r\n        </Col>\r\n        <Col span={4}>\r\n          <Form.Item>\r\n            <Select\r\n              placeholder=\"State\"\r\n              value={qData.stateId}\r\n              onChange={(v) => {\r\n                setQData({ ...qData, stateId: v, districtId: null });\r\n              }}\r\n              allowClear\r\n            >\r\n              {states.map((v) => (\r\n                <Select.Option key={v._id} value={v._id}>\r\n                  {v.name}\r\n                </Select.Option>\r\n              ))}\r\n            </Select>\r\n          </Form.Item>\r\n        </Col>\r\n        <Col span={4}>\r\n          <Form.Item>\r\n            <Select\r\n              placeholder=\"District\"\r\n              value={qData.districtId}\r\n              onChange={(v) => {\r\n                setQData({ ...qData, districtId: v });\r\n              }}\r\n              allowClear\r\n            >\r\n              {districts\r\n                .filter((v) => v.stateId === qData.stateId)\r\n                .map((v) => (\r\n                  <Select.Option key={v._id} value={v._id}>\r\n                    {v.name}\r\n                  </Select.Option>\r\n                ))}\r\n            </Select>\r\n          </Form.Item>\r\n        </Col>\r\n        <Col span={3}>\r\n          <Form.Item style={{ marginBottom: 0 }}>\r\n            <Button type=\"primary\" htmlType=\"submit\">\r\n              Search\r\n            </Button>\r\n          </Form.Item>\r\n        </Col>\r\n        <Col span={5}>\r\n          {addAccess ? (\r\n            <Form.Item style={{ marginBottom: 0, float: \"right\" }}>\r\n              <Button\r\n                type=\"primary\"\r\n                icon={<PlusOutlined />}\r\n                onClick={() => {\r\n                  addNewModalRef.current.openForm();\r\n                }}\r\n              >\r\n                Add New\r\n              </Button>\r\n            </Form.Item>\r\n          ) : null}\r\n          {selected.length ? (\r\n            <Popconfirm\r\n              title=\"Are you sure to delete these selected singers?\"\r\n              onConfirm={() => {\r\n                deleteData(selected);\r\n              }}\r\n              okText=\"Yes\"\r\n              cancelText=\"No\"\r\n            >\r\n              <Button\r\n                type=\"primary\"\r\n                danger\r\n                style={{ float: \"right\" }}\r\n                icon={<DeleteOutlined />}\r\n              >\r\n                Delete Selected\r\n              </Button>\r\n            </Popconfirm>\r\n          ) : null}\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n  );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n  const { list } = props;\r\n  const [open, setOpen] = useState(false);\r\n  const [data, setData] = useState({ aspect: 1 });\r\n  const [ajxRequesting, setAjxRequesting] = useState(false);\r\n  const [ln, setLn] = useState(\"en\");\r\n  const [changeForm, setChangeForm] = useState(false);\r\n  const [fileList, setFileList] = useState([]);\r\n\r\n  const handleChange = (value) => {\r\n    if (changeForm) {\r\n      Object.entries(value).forEach((ent) => {\r\n        let varDt = data;\r\n        const k = ent[0];\r\n        const v = ent[1];\r\n        let keys = k.split(\".\");\r\n        for (let i = 0; i < keys.length; i++) {\r\n          if (i + 1 === keys.length) {\r\n            varDt[keys[i]] = v;\r\n          } else {\r\n            if (typeof varDt[keys[i]] === \"undefined\") {\r\n              if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                varDt[keys[i]] = [];\r\n              } else {\r\n                varDt[keys[i]] = {};\r\n              }\r\n            }\r\n            varDt = varDt[keys[i]];\r\n          }\r\n        }\r\n      });\r\n      setData({ ...data });\r\n    }\r\n  };\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    openForm(dt) {\r\n      setOpen(true);\r\n      setData(dt ? { _id: dt } : { contactNos: [\"\"] });\r\n      if (!dt && addAccess) {\r\n        setChangeForm(true);\r\n      } else if (dt && editAccess) {\r\n        setChangeForm(true);\r\n      } else {\r\n        setChangeForm(false);\r\n      }\r\n    },\r\n  }));\r\n\r\n  const getDetails = () => {\r\n    setAjxRequesting(true);\r\n    service\r\n      .detailSinger(data.parentId || data._id, { ln })\r\n      .then((res) => {\r\n        setData(res.data || {});\r\n        setFileList(res.data?.imgUrl ? [res.data?.imgUrl] : []);\r\n      })\r\n      .catch((err) => {\r\n        AntdMsg(err.message, \"error\");\r\n      })\r\n      .finally(() => {\r\n        setAjxRequesting(false);\r\n      });\r\n  };\r\n\r\n  const save = () => {\r\n    if (changeForm) {\r\n      setAjxRequesting(true);\r\n      service\r\n        .saveSinger(data, { ln })\r\n        .then((res) => {\r\n          AntdMsg(res.message);\r\n          handleChange({ ...res.data });\r\n          if (ln === \"en\") {\r\n            list();\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          if (typeof err.message === \"object\") {\r\n            let dt = err.message[Object.keys(err.message)[0]];\r\n            AntdMsg(dt, \"error\");\r\n          } else {\r\n            AntdMsg(err.message, \"error\");\r\n          }\r\n        })\r\n        .finally(() => {\r\n          setAjxRequesting(false);\r\n        });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data._id) {\r\n      getDetails();\r\n    }\r\n  }, [ln, data._id]);\r\n\r\n  useEffect(() => {\r\n    if (!open) {\r\n      setData({ _id: null });\r\n    } else {\r\n      setLn(\"en\");\r\n      setFileList([]);\r\n    }\r\n  }, [open]);\r\n\r\n  useEffect(() => {\r\n    handleChange({ imgUrl: fileList?.[0] });\r\n  }, [fileList]);\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        title={(!data._id ? \"Add\" : \"Edit\") + \" Singer\"}\r\n        style={{ top: 20 }}\r\n        open={open}\r\n        okText=\"Save\"\r\n        onOk={save}\r\n        okButtonProps={{ disabled: ajxRequesting }}\r\n        onCancel={() => {\r\n          setOpen(false);\r\n        }}\r\n        // destroyOnClose\r\n        maskClosable={false}\r\n        width={600}\r\n        className=\"app-modal-body-overflow\"\r\n        footer={[\r\n          <Button\r\n            key=\"cancel\"\r\n            onClick={() => {\r\n              setOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>,\r\n          changeForm ? (\r\n            <Button key=\"save\" type=\"primary\" onClick={save}>\r\n              Save\r\n            </Button>\r\n          ) : null,\r\n        ]}\r\n      >\r\n        <Spin\r\n          spinning={ajxRequesting}\r\n          indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}\r\n        >\r\n          <Tabs\r\n            activeKey={ln}\r\n            type=\"card\"\r\n            size=\"small\"\r\n            style={{ marginBottom: 0 }}\r\n            onChange={(v) => {\r\n              setLn(v);\r\n            }}\r\n            items={[\r\n              {\r\n                label: \"English\",\r\n                key: \"en\",\r\n                children: (\r\n                  <Card style={{ borderTop: 0 }}>\r\n                    <EnForm\r\n                      {...{\r\n                        data,\r\n                        handleChange,\r\n                        save,\r\n                        changeForm,\r\n                        fileList,\r\n                        setFileList,\r\n                      }}\r\n                    />\r\n                  </Card>\r\n                ),\r\n              },\r\n              {\r\n                label: \"\",\r\n                key: \"hi\",\r\n                children: (\r\n                  <Card style={{ borderTop: 0 }}>\r\n                    <HiForm\r\n                      {...{\r\n                        data,\r\n                        handleChange,\r\n                        save,\r\n                        changeForm,\r\n                        fileList,\r\n                        setFileList,\r\n                      }}\r\n                    />\r\n                  </Card>\r\n                ),\r\n                disabled: !data._id,\r\n              },\r\n              {\r\n                label: \"\",\r\n                key: \"gu\",\r\n                children: (\r\n                  <Card style={{ borderTop: 0 }}>\r\n                    <GuForm\r\n                      {...{\r\n                        data,\r\n                        handleChange,\r\n                        save,\r\n                        changeForm,\r\n                        fileList,\r\n                        setFileList,\r\n                      }}\r\n                    />\r\n                  </Card>\r\n                ),\r\n                disabled: !data._id,\r\n              },\r\n            ]}\r\n          />\r\n        </Spin>\r\n      </Modal>\r\n    </>\r\n  );\r\n});\r\n\r\nconst EnForm = ({ data, handleChange, changeForm, fileList, setFileList }) => {\r\n  const [singerType, setSingerType] = useState([]);\r\n  const [states, setStates] = useState([]);\r\n  const [districts, setDistricts] = useState([]);\r\n  const [cities, setCities] = useState([]);\r\n  useEffect(() => {\r\n    if (viewAccess) {\r\n      service\r\n        .listSingerType({ isAll: 1, ln: \"en\" })\r\n        .then((res) => {\r\n          setSingerType(res.data || []);\r\n        })\r\n        .catch((err) => {\r\n          AntdMsg(\"Singer Type data not loaded\", \"error\");\r\n        });\r\n      locationService\r\n        .listState({ isAll: 1, ln: \"en\" })\r\n        .then((res) => {\r\n          setStates(res.data || []);\r\n        })\r\n        .catch((err) => {\r\n          AntdMsg(\"States not loaded\", \"error\");\r\n        });\r\n      locationService\r\n        .listDistrict({ isAll: 1, ln: \"en\" })\r\n        .then((res) => {\r\n          setDistricts(res.data || []);\r\n        })\r\n        .catch((err) => {\r\n          AntdMsg(\"Districts not loaded\", \"error\");\r\n        });\r\n      locationService\r\n        .listCity({ isAll: 1, ln: \"en\" })\r\n        .then((res) => {\r\n          setCities(res.data || []);\r\n        })\r\n        .catch((err) => {\r\n          AntdMsg(\"Cities not loaded\", \"error\");\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Form layout=\"vertical\" disabled={!changeForm}>\r\n        <Row gutter={[12, 2]}>\r\n          <Col span={18}>\r\n            <Row gutter={[12, 2]}>\r\n              <Col span={24}>\r\n                <Form.Item label=\"Singer Name\" required>\r\n                  <Input\r\n                    placeholder=\"Name\"\r\n                    value={data.name}\r\n                    onChange={(e) => {\r\n                      handleChange({ name: e.target.value });\r\n                    }}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={24}>\r\n                <Form.Item label=\"Singer Type\" required>\r\n                  <Select\r\n                    mode=\"multiple\"\r\n                    value={data.singerTypeIds}\r\n                    onChange={(v) => {\r\n                      handleChange({ singerTypeIds: v });\r\n                    }}\r\n                  >\r\n                    {singerType.map((v) => (\r\n                      <Select.Option key={v._id} value={v._id}>\r\n                        {v.name}\r\n                      </Select.Option>\r\n                    ))}\r\n                  </Select>\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n          <Col span={6}>\r\n            <Form.Item label=\"Avatar\">\r\n              <UploadImage {...{ fileList, setFileList }} count={1} />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={24}>\r\n            <Form.Item label=\"State\" required>\r\n              <Select\r\n                value={data.stateId}\r\n                onChange={(v) => {\r\n                  handleChange({ stateId: v, districtId: null, cityId: null });\r\n                }}\r\n              >\r\n                {states.map((v) => (\r\n                  <Select.Option key={v._id} value={v._id}>\r\n                    {v.name}\r\n                  </Select.Option>\r\n                ))}\r\n              </Select>\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={24}>\r\n            <Form.Item label=\"District\" required>\r\n              <Select\r\n                value={data.districtId}\r\n                onChange={(v) => {\r\n                  handleChange({ districtId: v, cityId: null });\r\n                }}\r\n              >\r\n                {districts\r\n                  .filter((v) => v.stateId === data.stateId)\r\n                  .map((v) => (\r\n                    <Select.Option key={v._id} value={v._id}>\r\n                      {v.name}\r\n                    </Select.Option>\r\n                  ))}\r\n              </Select>\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={24}>\r\n            <Form.Item label=\"City\" required>\r\n              <Select\r\n                value={data.cityId}\r\n                onChange={(v) => {\r\n                  handleChange({ cityId: v });\r\n                }}\r\n              >\r\n                {cities\r\n                  .filter((v) => v.districtId === data.districtId)\r\n                  .map((v) => (\r\n                    <Select.Option key={v._id} value={v._id}>\r\n                      {v.name}\r\n                    </Select.Option>\r\n                  ))}\r\n              </Select>\r\n            </Form.Item>\r\n          </Col>\r\n\r\n          <Col span={24}>\r\n            <Form.Item label=\"Contact Numbers\">\r\n              <Row gutter={[12, 2]}>\r\n                {data.contactNos?.map((v, i) => (\r\n                  <>\r\n                    <Col span={20}>\r\n                      <Input\r\n                        placeholder=\"Ex- +91 1111100000\"\r\n                        value={v}\r\n                        onChange={(e) => {\r\n                          handleChange({ [`contactNos.${i}`]: e.target.value });\r\n                        }}\r\n                      />\r\n                    </Col>\r\n                    <Col span={4}>\r\n                      {i !== 0 ? (\r\n                        <Button\r\n                          type=\"primary\"\r\n                          danger\r\n                          shape=\"circle\"\r\n                          icon={<MinusOutlined />}\r\n                          onClick={() => {\r\n                            handleChange({\r\n                              contactNos: [\r\n                                ...data.contactNos.filter((vv, ii) => ii !== i),\r\n                              ],\r\n                            });\r\n                          }}\r\n                        />\r\n                      ) : null}\r\n                      {i + 1 === data.contactNos?.length ? (\r\n                        <Button\r\n                          type=\"primary\"\r\n                          shape=\"circle\"\r\n                          icon={<PlusOutlined />}\r\n                          onClick={() => {\r\n                            handleChange({\r\n                              contactNos: [...data.contactNos, \"\"],\r\n                            });\r\n                          }}\r\n                        />\r\n                      ) : null}\r\n                    </Col>\r\n                  </>\r\n                ))}\r\n              </Row>\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nconst HiForm = ({ data, handleChange, changeForm, fileList, setFileList }) => {\r\n  const [singerType, setSingerType] = useState([]);\r\n  const [states, setStates] = useState([]);\r\n  const [districts, setDistricts] = useState([]);\r\n  const [cities, setCities] = useState([]);\r\n  useEffect(() => {\r\n    if (viewAccess) {\r\n      service\r\n        .listSingerType({ isAll: 1, ln: \"hi\" })\r\n        .then((res) => {\r\n          setSingerType(res.data || []);\r\n        })\r\n        .catch((err) => {\r\n          AntdMsg(\"Singer Type data not loaded\", \"error\");\r\n        });\r\n      locationService\r\n        .listState({ isAll: 1, ln: \"hi\" })\r\n        .then((res) => {\r\n          setStates(res.data || []);\r\n        })\r\n        .catch((err) => {\r\n          AntdMsg(\"States not loaded\", \"error\");\r\n        });\r\n      locationService\r\n        .listDistrict({ isAll: 1, ln: \"hi\" })\r\n        .then((res) => {\r\n          setDistricts(res.data || []);\r\n        })\r\n        .catch((err) => {\r\n          AntdMsg(\"Districts not loaded\", \"error\");\r\n        });\r\n      locationService\r\n        .listCity({ isAll: 1, ln: \"hi\" })\r\n        .then((res) => {\r\n          setCities(res.data || []);\r\n        })\r\n        .catch((err) => {\r\n          AntdMsg(\"Cities not loaded\", \"error\");\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Form layout=\"vertical\" disabled={!changeForm}>\r\n        <Row gutter={[12, 2]}>\r\n          <Col span={18}>\r\n            <Row gutter={[12, 2]}>\r\n              <Col span={24}>\r\n                <Form.Item label=\"Singer Name\" required>\r\n                  <Input\r\n                    placeholder=\"Name\"\r\n                    value={data.name}\r\n                    onChange={(e) => {\r\n                      handleChange({ name: e.target.value });\r\n                    }}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={24}>\r\n                <Form.Item label=\"Singer Type\" required>\r\n                  <Select mode=\"multiple\" value={data.singerTypeIds} disabled>\r\n                    {singerType.map((v) => (\r\n                      <Select.Option key={v.parentId} value={v.parentId}>\r\n                        {v.name}\r\n                      </Select.Option>\r\n                    ))}\r\n                  </Select>\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n          <Col span={6}>\r\n            <Form.Item label=\"Avatar\">\r\n              <UploadImage {...{ fileList, setFileList }} count={1} />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={24}>\r\n            <Form.Item label=\"State\" required>\r\n              <Select value={data.stateId} disabled>\r\n                {states.map((v) => (\r\n                  <Select.Option key={v.parentId} value={v.parentId}>\r\n                    {v.name}\r\n                  </Select.Option>\r\n                ))}\r\n              </Select>\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={24}>\r\n            <Form.Item label=\"District\" required>\r\n              <Select value={data.districtId} disabled>\r\n                {districts\r\n                  .filter((v) => v.stateId === data.stateId)\r\n                  .map((v) => (\r\n                    <Select.Option key={v.parentId} value={v.parentId}>\r\n                      {v.name}\r\n                    </Select.Option>\r\n                  ))}\r\n              </Select>\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={24}>\r\n            <Form.Item label=\"City\" required>\r\n              <Select value={data.cityId} disabled>\r\n                {cities\r\n                  .filter((v) => v.districtId === data.districtId)\r\n                  .map((v) => (\r\n                    <Select.Option key={v.parentId} value={v.parentId}>\r\n                      {v.name}\r\n                    </Select.Option>\r\n                  ))}\r\n              </Select>\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={24}>\r\n            <Form.Item label=\"Contact Numbers\">\r\n              <Row gutter={[12, 2]}>\r\n                {data.contactNos?.map((v, i) => (\r\n                  <>\r\n                    <Col span={20}>\r\n                      <Input\r\n                        placeholder=\"Ex- +91 1111100000\"\r\n                        value={v}\r\n                        onChange={(e) => {\r\n                          handleChange({ [`contactNos.${i}`]: e.target.value });\r\n                        }}\r\n                      />\r\n                    </Col>\r\n                    <Col span={4}>\r\n                      {i !== 0 ? (\r\n                        <Button\r\n                          type=\"primary\"\r\n                          danger\r\n                          shape=\"circle\"\r\n                          icon={<MinusOutlined />}\r\n                          onClick={() => {\r\n                            handleChange({\r\n                              contactNos: [\r\n                                ...data.contactNos.filter((vv, ii) => ii !== i),\r\n                              ],\r\n                            });\r\n                          }}\r\n                        />\r\n                      ) : null}\r\n                      {i + 1 === data.contactNos?.length ? (\r\n                        <Button\r\n                          type=\"primary\"\r\n                          shape=\"circle\"\r\n                          icon={<PlusOutlined />}\r\n                          onClick={() => {\r\n                            handleChange({\r\n                              contactNos: [...data.contactNos, \"\"],\r\n                            });\r\n                          }}\r\n                        />\r\n                      ) : null}\r\n                    </Col>\r\n                  </>\r\n                ))}\r\n              </Row>\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nconst GuForm = ({ data, handleChange, changeForm, fileList, setFileList }) => {\r\n  const [singerType, setSingerType] = useState([]);\r\n  const [states, setStates] = useState([]);\r\n  const [districts, setDistricts] = useState([]);\r\n  const [cities, setCities] = useState([]);\r\n  useEffect(() => {\r\n    if (viewAccess) {\r\n      service\r\n        .listSingerType({ isAll: 1, ln: \"gu\" })\r\n        .then((res) => {\r\n          setSingerType(res.data || []);\r\n        })\r\n        .catch((err) => {\r\n          AntdMsg(\"Singer Type data not loaded\", \"error\");\r\n        });\r\n      locationService\r\n        .listState({ isAll: 1, ln: \"gu\" })\r\n        .then((res) => {\r\n          setStates(res.data || []);\r\n        })\r\n        .catch((err) => {\r\n          AntdMsg(\"States not loaded\", \"error\");\r\n        });\r\n      locationService\r\n        .listDistrict({ isAll: 1, ln: \"gu\" })\r\n        .then((res) => {\r\n          setDistricts(res.data || []);\r\n        })\r\n        .catch((err) => {\r\n          AntdMsg(\"Districts not loaded\", \"error\");\r\n        });\r\n      locationService\r\n        .listCity({ isAll: 1, ln: \"gu\" })\r\n        .then((res) => {\r\n          setCities(res.data || []);\r\n        })\r\n        .catch((err) => {\r\n          AntdMsg(\"Cities not loaded\", \"error\");\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Form layout=\"vertical\" disabled={!changeForm}>\r\n        <Row gutter={[12, 2]}>\r\n          <Col span={18}>\r\n            <Row gutter={[12, 2]}>\r\n              <Col span={24}>\r\n                <Form.Item label=\"Singer Name\" required>\r\n                  <Input\r\n                    placeholder=\"Name\"\r\n                    value={data.name}\r\n                    onChange={(e) => {\r\n                      handleChange({ name: e.target.value });\r\n                    }}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={24}>\r\n                <Form.Item label=\"Singer Type\" required>\r\n                  <Select mode=\"multiple\" value={data.singerTypeIds} disabled>\r\n                    {singerType.map((v) => (\r\n                      <Select.Option key={v.parentId} value={v.parentId}>\r\n                        {v.name}\r\n                      </Select.Option>\r\n                    ))}\r\n                  </Select>\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n          <Col span={6}>\r\n            <Form.Item label=\"Avatar\">\r\n              <UploadImage {...{ fileList, setFileList }} count={1} />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={24}>\r\n            <Form.Item label=\"State\" required>\r\n              <Select value={data.stateId} disabled>\r\n                {states.map((v) => (\r\n                  <Select.Option key={v.parentId} value={v.parentId}>\r\n                    {v.name}\r\n                  </Select.Option>\r\n                ))}\r\n              </Select>\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={24}>\r\n            <Form.Item label=\"District\" required>\r\n              <Select value={data.districtId} disabled>\r\n                {districts\r\n                  .filter((v) => v.stateId === data.stateId)\r\n                  .map((v) => (\r\n                    <Select.Option key={v.parentId} value={v.parentId}>\r\n                      {v.name}\r\n                    </Select.Option>\r\n                  ))}\r\n              </Select>\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={24}>\r\n            <Form.Item label=\"City\" required>\r\n              <Select value={data.cityId} disabled>\r\n                {cities\r\n                  .filter((v) => v.districtId === data.districtId)\r\n                  .map((v) => (\r\n                    <Select.Option key={v.parentId} value={v.parentId}>\r\n                      {v.name}\r\n                    </Select.Option>\r\n                  ))}\r\n              </Select>\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={24}>\r\n            <Form.Item label=\"Contact Numbers\">\r\n              <Row gutter={[12, 2]}>\r\n                {data.contactNos?.map((v, i) => (\r\n                  <>\r\n                    <Col span={20}>\r\n                      <Input\r\n                        placeholder=\"Ex- +91 1111100000\"\r\n                        value={v}\r\n                        onChange={(e) => {\r\n                          handleChange({ [`contactNos.${i}`]: e.target.value });\r\n                        }}\r\n                      />\r\n                    </Col>\r\n                    <Col span={4}>\r\n                      {i !== 0 ? (\r\n                        <Button\r\n                          type=\"primary\"\r\n                          danger\r\n                          shape=\"circle\"\r\n                          icon={<MinusOutlined />}\r\n                          onClick={() => {\r\n                            handleChange({\r\n                              contactNos: [\r\n                                ...data.contactNos.filter((vv, ii) => ii !== i),\r\n                              ],\r\n                            });\r\n                          }}\r\n                        />\r\n                      ) : null}\r\n                      {i + 1 === data.contactNos?.length ? (\r\n                        <Button\r\n                          type=\"primary\"\r\n                          shape=\"circle\"\r\n                          icon={<PlusOutlined />}\r\n                          onClick={() => {\r\n                            handleChange({\r\n                              contactNos: [...data.contactNos, \"\"],\r\n                            });\r\n                          }}\r\n                        />\r\n                      ) : null}\r\n                    </Col>\r\n                  </>\r\n                ))}\r\n              </Row>\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nconst SingerFileModal = forwardRef((props, ref) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [data, setData] = useState({ aspect: 1 });\r\n  const [fileType, setFileType] = useState(\"photo\");\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    openForm(dt) {\r\n      setOpen(true);\r\n      setData(dt);\r\n    },\r\n  }));\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        title={\r\n          <>\r\n            File Data of{\" \"}\r\n            <Typography.Text type=\"danger\">{data.name}</Typography.Text>\r\n          </>\r\n        }\r\n        style={{ top: 20 }}\r\n        open={open}\r\n        okText=\"Save\"\r\n        onCancel={() => {\r\n          setOpen(false);\r\n        }}\r\n        maskClosable={false}\r\n        width={1400}\r\n        destroyOnClose\r\n        className=\"app-modal-body-overflow\"\r\n        footer={null}\r\n      >\r\n        <Tabs\r\n          activeKey={fileType}\r\n          type=\"card\"\r\n          size=\"small\"\r\n          style={{ marginBottom: 0 }}\r\n          destroyInactiveTabPane\r\n          onChange={(v) => {\r\n            setFileType(v);\r\n          }}\r\n          items={[\r\n            {\r\n              label: \"Photo\",\r\n              key: \"photo\",\r\n              children: <SingerFile singerId={data._id} fileType={fileType} />,\r\n            },\r\n            {\r\n              label: \"Video\",\r\n              key: \"video\",\r\n              children: <SingerFile singerId={data._id} fileType={fileType} />,\r\n            },\r\n            {\r\n              label: \"Youtube Short\",\r\n              key: \"youtube-short\",\r\n              children: <SingerFile singerId={data._id} fileType={fileType} />,\r\n            },\r\n            {\r\n              label: \"Youtube Video\",\r\n              key: \"youtube-video\",\r\n              children: <SingerFile singerId={data._id} fileType={fileType} />,\r\n            },\r\n          ]}\r\n        />\r\n      </Modal>\r\n    </>\r\n  );\r\n});\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Tabs, Card, Select, Tag } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../../services/music';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport commonObj from '../../../commonObj';\r\n\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function SongCategory() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20 });\r\n    const addNewModalRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            // width: 200,\r\n        },\r\n        {\r\n            title: 'Type',\r\n            dataIndex: 'type',\r\n            width: 200,\r\n            render: v => v === 'pracheenStawan'\r\n                ? 'Pracheen Stawan'\r\n                : v === 'bhaktiSong'\r\n                    ? 'Bhakti Song'\r\n                    : v === '24tirthankarStawan'\r\n                        ? '24 Tirthankar Stawan'\r\n                        : v === 'paryushanStawan'\r\n                            ? 'Paryushan Stawan'\r\n                            : v === 'tapasyaSong'\r\n                                ? 'Tapasya Song'\r\n                                : v === 'dikshaSong'\r\n                                    ? 'Diksha Song'\r\n                                    : v === 'stuti'\r\n                                        ? 'Stuti'\r\n                                        : 'Other'\r\n\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        deleteAccess\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete this song category?\"\r\n                                onConfirm={() => { deleteData(row._id); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        editAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.listSongCategory(qData).then(res => {\r\n                setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.deleteSongCategory(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            <Typography.Title level={5}>List of Song Categories</Typography.Title>\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list }} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by category name\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    {\r\n                        addAccess\r\n                            ? <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                                <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                            </Form.Item>\r\n                            : null\r\n                    }\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected song categories?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [ln, setLn] = useState('en');\r\n    const [changeForm, setChangeForm] = useState(false);\r\n\r\n\r\n    const handleChange = (value) => {\r\n        if (changeForm) {\r\n            Object.entries(value).forEach(ent => {\r\n                let varDt = data;\r\n                const k = ent[0];\r\n                const v = ent[1];\r\n                let keys = k.split('.');\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    if (i + 1 === keys.length) {\r\n                        varDt[keys[i]] = v;\r\n                    } else {\r\n                        if (typeof varDt[keys[i]] === 'undefined') {\r\n                            if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                                varDt[keys[i]] = [];\r\n                            } else {\r\n                                varDt[keys[i]] = {};\r\n                            }\r\n                        } varDt = varDt[keys[i]];\r\n                    }\r\n                }\r\n            });\r\n            setData({ ...data });\r\n        }\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : { status: true, type: 'other' }\r\n            );\r\n            if (!dt && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt && editAccess){\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detailSongCategory(data.parentId || data._id, { ln }).then(res => {\r\n            setData(res.data || {});\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        if (changeForm) {\r\n            setAjxRequesting(true);\r\n            service.saveSongCategory(data, { ln }).then((res) => {\r\n                AntdMsg(res.message);\r\n                handleChange({ ...res.data });\r\n                if (ln === \"en\") {\r\n                    list();\r\n                }\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [ln, data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        } else {\r\n            setLn('en');\r\n        }\r\n    }, [open]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Song Category'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                // destroyOnClose\r\n                maskClosable={false}\r\n                width={500}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    changeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Tabs activeKey={ln} type=\"card\" size=\"small\" style={{ marginBottom: 0 }} onChange={(v) => { setLn(v); }}\r\n                        items={[\r\n                            {\r\n                                label: \"English\",\r\n                                key: \"en\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <EnForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"hi\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <HiForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"gu\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <GuForm {...{ data, handleChange, save, changeForm }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            }\r\n                        ]}\r\n                    />\r\n                </Spin>\r\n\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst EnForm = ({ data, handleChange, changeForm }) => {\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Type\" required>\r\n                            <Select value={data.type} onChange={v => { handleChange({ type: v }) }} >\r\n                                <Select.Option value={'pracheenStawan'}>Pracheen Stawan</Select.Option>\r\n                                <Select.Option value={'bhaktiSong'}>Bhakti Song</Select.Option>\r\n                                <Select.Option value={'24tirthankarStawan'}>24 Tirthankar Stawan</Select.Option>\r\n                                <Select.Option value={'paryushanStawan'}>Paryushan Stawan</Select.Option>\r\n                                <Select.Option value={'tapasyaSong'}>Tapasya Song</Select.Option>\r\n                                <Select.Option value={'dikshaSong'}>Diksha Song</Select.Option>\r\n                                <Select.Option value={'stuti'}>Stuti</Select.Option>\r\n                                <Select.Option value={'other'}>Other</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} onChange={v => { handleChange({ status: v }) }} >\r\n                                <Select.Option value={true}>Active</Select.Option>\r\n                                <Select.Option value={false}>Inactive</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst HiForm = ({ data, handleChange, changeForm }) => {\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Type\" required>\r\n                            <Select value={data.type} disabled >\r\n                                <Select.Option value={'pracheenStawan'}>Pracheen Stawan</Select.Option>\r\n                                <Select.Option value={'bhaktiSong'}>Bhakti Song</Select.Option>\r\n                                <Select.Option value={'24tirthankarStawan'}>24 Tirthankar Stawan</Select.Option>\r\n                                <Select.Option value={'paryushanStawan'}>Paryushan Stawan</Select.Option>\r\n                                <Select.Option value={'tapasyaSong'}>Tapasya Song</Select.Option>\r\n                                <Select.Option value={'dikshaSong'}>Diksha Song</Select.Option>\r\n                                <Select.Option value={'stuti'}>Stuti</Select.Option>\r\n                                <Select.Option value={'other'}>Other</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} disabled >\r\n                                <Select.Option value={true}>Active</Select.Option>\r\n                                <Select.Option value={false}>Inactive</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst GuForm = ({ data, handleChange, changeForm }) => {\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Type\" required>\r\n                            <Select value={data.type} disabled >\r\n                                <Select.Option value={'pracheenStawan'}>Pracheen Stawan</Select.Option>\r\n                                <Select.Option value={'bhaktiSong'}>Bhakti Song</Select.Option>\r\n                                <Select.Option value={'24tirthankarStawan'}>24 Tirthankar Stawan</Select.Option>\r\n                                <Select.Option value={'paryushanStawan'}>Paryushan Stawan</Select.Option>\r\n                                <Select.Option value={'tapasyaSong'}>Tapasya Song</Select.Option>\r\n                                <Select.Option value={'dikshaSong'}>Diksha Song</Select.Option>\r\n                                <Select.Option value={'stuti'}>Stuti</Select.Option>\r\n                                <Select.Option value={'other'}>Other</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} disabled >\r\n                                <Select.Option value={true}>Active</Select.Option>\r\n                                <Select.Option value={false}>Inactive</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Upload, Button } from \"antd\";\r\nimport { UploadOutlined } from '@ant-design/icons';\r\n\r\nimport fileService from \"../services/file\";\r\nimport React from \"react\";\r\n\r\nexport default function UploadAudio({ fileList, setFileList, count = 1, disabled = false }) {\r\n    const uploadImage = async options => {\r\n        const { onSuccess, onError, file, onProgress } = options;\r\n\r\n        const fmData = new FormData();\r\n        const config = { onUploadProgress: event => { onProgress({ percent: (event.loaded / event.total) * 100 }); } };\r\n        fmData.append(\"file\", file);\r\n        try {\r\n            fileService.save(fmData, config).then(res => {\r\n                onSuccess(\"Ok\");\r\n                setFileList([...fileList, { uid: res.data.uid, url: res.data.url, name: res.data.name }]);\r\n            })\r\n        } catch (err) {\r\n            onError({ err });\r\n        }\r\n    };\r\n\r\n    const handleOnChange = ({ file, fl }) => {\r\n        if (typeof fl !== typeof []) {\r\n            fl = [];\r\n        }\r\n        setFileList(fl);\r\n\r\n    };\r\n    const handleRemove = (file) => {\r\n        fileService.remove({ uid: file.uid }).then(res => {\r\n            // setFileList(fileList?.filter(v => v.uid !== file.uid))\r\n        })\r\n    };\r\n\r\n    return <Upload\r\n        accept=\"audio/*\"\r\n        customRequest={uploadImage}\r\n        onChange={handleOnChange}\r\n        onRemove={handleRemove}\r\n        // listType=\"picture-card\"\r\n        fileList={fileList}\r\n        className=\"image-upload-grid\"\r\n        disabled={disabled}\r\n        onPreview={(file) => {\r\n            return fetch(file.url, {\r\n                method: 'GET',\r\n            })\r\n                .then(res => res.json())\r\n                .then(({ thumbnail }) => {\r\n                    return thumbnail;\r\n                });\r\n        }}\r\n    >\r\n        {fileList?.length >= count ? null : <Button icon={<UploadOutlined />}>Upload</Button>\r\n        }\r\n    </Upload >\r\n\r\n};","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Tabs, Card, Select, Tag } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../../services/music';\r\nimport serviceBhagwan from '../../../services/bhagwan';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport commonObj from '../../../commonObj';\r\nimport UploadAudio from '../../../utils/UploadAudio';\r\n\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function Song() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20 });\r\n    const addNewModalRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Song Audio',\r\n            dataIndex: 'songUrl',\r\n            width: 420,\r\n            render: (v) => {\r\n                return <>\r\n                    <audio controls style={{ width: 400 }}>\r\n                        <source src={v?.url} type=\"audio/ogg\" />\r\n                        Your browser does not support the audio tag.\r\n                    </audio>\r\n                </>\r\n            }\r\n        },\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            // width: 200,\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        deleteAccess\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete this song ?\"\r\n                                onConfirm={() => { deleteData(row._id); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        editAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.listSong(qData).then(res => {\r\n                setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.deleteSong(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            <Typography.Title level={5}>List of Songs</Typography.Title>\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list }} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list }) {\r\n\r\n    const [singers, setSingers] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            service.listSinger({ isAll: 1, ln: 'en' }).then(res => { setSingers(res.data || []); }).catch(err => { AntdMsg('Singer Type data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by song name or lyrics\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={4}>\r\n                    <Form.Item>\r\n                        <Select placeholder=\"Singer Type\" value={qData.singerId} onChange={v => { setQData({ ...qData, singerId: v }) }} allowClear >\r\n                            {\r\n                                singers.map(v => (\r\n                                    <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                ))\r\n                            }\r\n                        </Select>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    {\r\n                        addAccess\r\n                            ? <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                                <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                            </Form.Item>\r\n                            : null\r\n                    }\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected songs?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [ln, setLn] = useState('en');\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const [fileList, setFileList] = useState([]);\r\n\r\n\r\n    const handleChange = (value) => {\r\n        if (changeForm) {\r\n            Object.entries(value).forEach(ent => {\r\n                let varDt = data;\r\n                const k = ent[0];\r\n                const v = ent[1];\r\n                let keys = k.split('.');\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    if (i + 1 === keys.length) {\r\n                        varDt[keys[i]] = v;\r\n                    } else {\r\n                        if (typeof varDt[keys[i]] === 'undefined') {\r\n                            if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                                varDt[keys[i]] = [];\r\n                            } else {\r\n                                varDt[keys[i]] = {};\r\n                            }\r\n                        } varDt = varDt[keys[i]];\r\n                    }\r\n                }\r\n            });\r\n            setData({ ...data });\r\n        }\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : { status: [''] }\r\n            );\r\n            if (!dt && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detailSong(data.parentId || data._id, { ln }).then(res => {\r\n            setData(res.data || {});\r\n            setFileList(res.data?.songUrl ? [res.data?.songUrl] : []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        if (changeForm) {\r\n            setAjxRequesting(true);\r\n            service.saveSong(data, { ln }).then((res) => {\r\n                AntdMsg(res.message);\r\n                handleChange({ ...res.data });\r\n                if (ln === \"en\") {\r\n                    list();\r\n                }\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [ln, data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        } else {\r\n            setLn('en');\r\n            setFileList([]);\r\n        }\r\n    }, [open]);\r\n\r\n    useEffect(() => {\r\n        handleChange({ songUrl: fileList?.[0] });\r\n    }, [fileList]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Song'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                // destroyOnClose\r\n                maskClosable={false}\r\n                width={600}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    changeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Tabs activeKey={ln} type=\"card\" size=\"small\" style={{ marginBottom: 0 }} onChange={(v) => { setLn(v); }}\r\n                        items={[\r\n                            {\r\n                                label: \"English\",\r\n                                key: \"en\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <EnForm {...{ data, handleChange, save, changeForm, fileList, setFileList }} />\r\n                                </Card>,\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"hi\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <HiForm {...{ data, handleChange, save, changeForm, fileList, setFileList }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"gu\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <GuForm {...{ data, handleChange, save, changeForm, fileList, setFileList }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            }\r\n                        ]}\r\n                    />\r\n                </Spin>\r\n\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst EnForm = ({ data, handleChange, changeForm, fileList, setFileList }) => {\r\n    const [bhagwan, setBhagwan] = useState([]);\r\n    const [categories, setCategories] = useState([]);\r\n    const [singers, setSingers] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            serviceBhagwan.list({ isAll: 1, ln: 'en' }).then(res => { setBhagwan(res.data || []); }).catch(err => { AntdMsg('Bhagwan not loaded', 'error'); });\r\n            service.listSongCategory({ isAll: 1, ln: 'en' }).then(res => { setCategories(res.data || []); }).catch(err => { AntdMsg('Song categories not loaded', 'error'); });\r\n            service.listSinger({ isAll: 1, ln: 'en' }).then(res => { setSingers(res.data || []); }).catch(err => { AntdMsg('Singers data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Audio File\">\r\n                            <UploadAudio {...{ fileList, setFileList }} count={1} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Bhagwan\">\r\n                            <Select value={data.bhagwanId} onChange={v => { handleChange({ bhagwanId: v }) }} >\r\n                                {\r\n                                    bhagwan.map(v => (\r\n                                        <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Song Categories\" required>\r\n                            <Select mode=\"multiple\" value={data.categoryIds} onChange={v => { handleChange({ categoryIds: v }) }} >\r\n                                {\r\n                                    categories.map(v => (\r\n                                        <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Singers\">\r\n                            <Select mode=\"multiple\" value={data.singerIds} onChange={v => { handleChange({ singerIds: v }) }} >\r\n                                {\r\n                                    singers.map(v => (\r\n                                        <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Lyrics\" required>\r\n                            <Input.TextArea placeholder=\"Lyrics\" value={data.lyrics} onChange={e => { handleChange({ lyrics: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} onChange={v => { handleChange({ status: v }) }} >\r\n                                <Select.Option value={true}>Active</Select.Option>\r\n                                <Select.Option value={false}>Inactive</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst HiForm = ({ data, handleChange, changeForm, fileList, setFileList }) => {\r\n    const [bhagwan, setBhagwan] = useState([]);\r\n    const [categories, setCategories] = useState([]);\r\n    const [singers, setSingers] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            serviceBhagwan.list({ isAll: 1, ln: 'hi' }).then(res => { setBhagwan(res.data || []); }).catch(err => { AntdMsg('Bhagwan not loaded', 'error'); });\r\n            service.listSongCategory({ isAll: 1, ln: 'hi' }).then(res => { setCategories(res.data || []); }).catch(err => { AntdMsg('Song categories not loaded', 'error'); });\r\n            service.listSinger({ isAll: 1, ln: 'hi' }).then(res => { setSingers(res.data || []); }).catch(err => { AntdMsg('Singers data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Audio File\">\r\n                            <UploadAudio {...{ fileList, setFileList }} count={1} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Bhagwan\">\r\n                            <Select value={data.bhagwanId} disabled >\r\n                                {\r\n                                    bhagwan.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Song Categories\" required>\r\n                            <Select mode=\"multiple\" value={data.categoryIds} disabled >\r\n                                {\r\n                                    categories.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Singers\" required>\r\n                            <Select mode=\"multiple\" value={data.singerIds} disabled >\r\n                                {\r\n                                    singers.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Lyrics\" required>\r\n                            <Input.TextArea placeholder=\"Lyrics\" value={data.lyrics} onChange={e => { handleChange({ lyrics: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} disabled >\r\n                                <Select.Option value={true}>Active</Select.Option>\r\n                                <Select.Option value={false}>Inactive</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst GuForm = ({ data, handleChange, changeForm, fileList, setFileList }) => {\r\n    const [bhagwan, setBhagwan] = useState([]);\r\n    const [categories, setCategories] = useState([]);\r\n    const [singers, setSingers] = useState([]);\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            serviceBhagwan.list({ isAll: 1, ln: 'gu' }).then(res => { setBhagwan(res.data || []); }).catch(err => { AntdMsg('Bhagwan not loaded', 'error'); });\r\n            service.listSongCategory({ isAll: 1, ln: 'gu' }).then(res => { setCategories(res.data || []); }).catch(err => { AntdMsg('Song categories not loaded', 'error'); });\r\n            service.listSinger({ isAll: 1, ln: 'gu' }).then(res => { setSingers(res.data || []); }).catch(err => { AntdMsg('Singers data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Audio File\">\r\n                            <UploadAudio {...{ fileList, setFileList }} count={1} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Name\" required>\r\n                            <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Bhagwan\">\r\n                            <Select value={data.bhagwanId} disabled >\r\n                                {\r\n                                    bhagwan.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Song Categories\" required>\r\n                            <Select mode=\"multiple\" value={data.categoryIds} disabled >\r\n                                {\r\n                                    categories.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Singers\" required>\r\n                            <Select mode=\"multiple\" value={data.singerIds} disabled >\r\n                                {\r\n                                    singers.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Lyrics\" required>\r\n                            <Input.TextArea placeholder=\"Lyrics\" value={data.lyrics} onChange={e => { handleChange({ lyrics: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} disabled >\r\n                                <Select.Option value={true}>Active</Select.Option>\r\n                                <Select.Option value={false}>Inactive</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Tag, Select, Tabs, Card } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../../services/jinalaya';\r\nimport jinalayaService from '../../../services/jinalaya';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport commonObj from '../../../commonObj';\r\nimport UploadImage from '../../../utils/UploadImage';\r\nimport UploadAudio from '../../../utils/UploadAudio';\r\n\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function Parshwanath108({ bhagwanId = null, jinalayaId = null }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, isPopulate: 1, bhagwanId, jinalayaId });\r\n    const addNewModalRef = useRef();\r\n    const [jinalayas, setJinalayas] = useState([]);\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Stuti Audio',\r\n            dataIndex: 'stutiFile',\r\n            width: 420,\r\n            render: (v) => {\r\n                return <>\r\n                    <audio controls style={{ width: 400 }}>\r\n                        <source src={v?.url} type=\"audio/ogg\" />\r\n                        Your browser does not support the audio tag.\r\n                    </audio>\r\n                </>\r\n            }\r\n        },\r\n        {\r\n            title: 'Stuti English',\r\n            dataIndex: 'stuti',\r\n            // width: 400,\r\n            render: (v) => <Typography.Paragraph ellipsis={{ expandable: true }}>{v}</Typography.Paragraph>\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {\r\n                        deleteAccess\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete this 108 parshwanath?\"\r\n                                onConfirm={() => { deleteData(row._id); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        editAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                            : null\r\n                    }\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        if (viewAccess) {\r\n            setLoading(true);\r\n            service.list108(qData).then(res => {\r\n                setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n            }).catch(err => { }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.delete108(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list, bhagwanId, jinalayaId }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            jinalayaService.list({ isAll: 1, ln: 'en', bhagwanId }).then(res => { setJinalayas(res.data || []); }).catch(err => { AntdMsg('Jinalaya data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            {\r\n                !bhagwanId && !jinalayaId\r\n                    ? <Typography.Title level={5}>List of 108 Parshwanath</Typography.Title>\r\n                    : null\r\n            }\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list, bhagwanId, jinalayaId, jinalayas }} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list, bhagwanId, jinalayaId }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Reload</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    {\r\n                        addAccess\r\n                            ? <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                                <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                            </Form.Item>\r\n                            : null\r\n                    }\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected 108 Parshwanath?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, jinalayaId, bhagwanId } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [ln, setLn] = useState('en');\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const [fileList, setFileList] = useState([]);\r\n    const [fileListAudio, setFileListAudio] = useState([]);\r\n\r\n\r\n    const handleChange = (value) => {\r\n        if (changeForm) {\r\n            Object.entries(value).forEach(ent => {\r\n                let varDt = data;\r\n                const k = ent[0];\r\n                const v = ent[1];\r\n                let keys = k.split('.');\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    if (i + 1 === keys.length) {\r\n                        varDt[keys[i]] = v;\r\n                    } else {\r\n                        if (typeof varDt[keys[i]] === 'undefined') {\r\n                            if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                                varDt[keys[i]] = [];\r\n                            } else {\r\n                                varDt[keys[i]] = {};\r\n                            }\r\n                        } varDt = varDt[keys[i]];\r\n                    }\r\n                }\r\n            });\r\n            setData({ ...data });\r\n        }\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : {\r\n                        stuti: \"\"\r\n                    }\r\n            );\r\n            if (!dt && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detail108(data.parentId || data._id, { ln }).then(res => {\r\n            setData(res.data || {});\r\n            setFileList(res.data?.imgUrl ? [res.data?.imgUrl] : []);\r\n            setFileListAudio(res.data?.stutiFile ? [res.data?.stutiFile] : []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        if (changeForm) {\r\n            setAjxRequesting(true);\r\n            service.save108(data, { ln }).then((res) => {\r\n                AntdMsg(res.message);\r\n                handleChange({ ...res.data });\r\n                if (ln === \"en\") {\r\n                    list();\r\n                }\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [ln, data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        } else {\r\n            setLn('en');\r\n            setFileList([]);\r\n            setFileListAudio([]);\r\n        }\r\n    }, [open]);\r\n\r\n    useEffect(() => {\r\n        handleChange({ imgUrl: fileList?.[0] });\r\n    }, [fileList]);\r\n    useEffect(() => {\r\n        handleChange({ stutiFile: fileListAudio?.[0] });\r\n    }, [fileListAudio]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' 108 Parshwanath'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                // destroyOnClose\r\n                maskClosable={false}\r\n                width={600}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    changeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Tabs activeKey={ln} type=\"card\" size=\"small\" style={{ marginBottom: 0 }} onChange={(v) => { setLn(v); }}\r\n                        items={[\r\n                            {\r\n                                label: \"English\",\r\n                                key: \"en\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <EnForm {...{ data, handleChange, save, changeForm, fileList, setFileList, fileListAudio, setFileListAudio, jinalayaId, bhagwanId }} />\r\n                                </Card>,\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"hi\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <HiForm {...{ data, handleChange, save, changeForm, fileList, setFileList, fileListAudio, setFileListAudio, jinalayaId, bhagwanId }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            },\r\n                            {\r\n                                label: \"\",\r\n                                key: \"gu\",\r\n                                children: <Card style={{ borderTop: 0 }}>\r\n                                    <GuForm {...{ data, handleChange, save, changeForm, fileList, setFileList, fileListAudio, setFileListAudio, jinalayaId, bhagwanId }} />\r\n                                </Card>,\r\n                                disabled: !data._id\r\n                            }\r\n                        ]}\r\n                    />\r\n                </Spin>\r\n\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst EnForm = ({ data, handleChange, changeForm, fileList, setFileList, fileListAudio, setFileListAudio, jinalayaId, bhagwanId }) => {\r\n    const [jinalayas, setJinalayas] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            jinalayaService.list({ isAll: 1, ln: 'en', bhagwanId }).then(res => { setJinalayas(res.data || []); }).catch(err => { AntdMsg('Jinalaya data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Jinalaya's Photo\">\r\n                            <UploadImage {...{ fileList, setFileList }} count={1} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Stuti Audio\">\r\n                            <UploadAudio {...{ fileList: fileListAudio, setFileList: setFileListAudio }} count={1} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Stuti English\" required>\r\n                            <Input.TextArea rows={8} placeholder=\"Stuti English\" value={data?.stuti} onChange={e => { handleChange({ stuti: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Jinalaya\" required>\r\n                            <Select value={data.jinalayaId} onChange={v => { handleChange({ jinalayaId: v }) }} disabled={jinalayaId}>\r\n                                {\r\n                                    jinalayas.map(v => (\r\n                                        <Select.Option key={v._id} value={v._id}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} onChange={v => { handleChange({ status: v }) }} >\r\n                                <Select.Option value={true}>Active</Select.Option>\r\n                                <Select.Option value={false}>Inactive</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n\r\nconst HiForm = ({ data, handleChange, changeForm, fileList, setFileList, fileListAudio, setFileListAudio, jinalayaId, bhagwanId }) => {\r\n    const [jinalayas, setJinalayas] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            jinalayaService.list({ isAll: 1, ln: 'hi', bhagwanId }).then(res => { setJinalayas(res.data || []); }).catch(err => { AntdMsg('Jinalaya data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Jinalaya's Photo\">\r\n                            <UploadImage {...{ fileList, setFileList }} count={1} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Stuti Audio\">\r\n                            <UploadAudio {...{ fileList: fileListAudio, setFileList: setFileListAudio }} count={1} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Stuti Hindi\" required>\r\n                            <Input.TextArea rows={8} placeholder=\"Stuti Hindi\" value={data?.stuti} onChange={e => { handleChange({ stuti: e.target.value }) }}  />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Jinalaya\" required>\r\n                            <Select value={data.jinalayaId} disabled >\r\n                                {\r\n                                    jinalayas.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} onChange={v => { handleChange({ status: v }) }} disabled>\r\n                                <Select.Option value={true}>Active</Select.Option>\r\n                                <Select.Option value={false}>Inactive</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n\r\nconst GuForm = ({ data, handleChange, changeForm, fileList, setFileList, fileListAudio, setFileListAudio, jinalayaId, bhagwanId }) => {\r\n    const [jinalayas, setJinalayas] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (viewAccess) {\r\n            jinalayaService.list({ isAll: 1, ln: 'gu', bhagwanId }).then(res => { setJinalayas(res.data || []); }).catch(err => { AntdMsg('Jinalaya data not loaded', 'error'); });\r\n        }\r\n    }, []);\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\" disabled={!changeForm}>\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Jinalaya's Photo\">\r\n                            <UploadImage {...{ fileList, setFileList }} count={1} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"Stuti Audio\">\r\n                            <UploadAudio {...{ fileList: fileListAudio, setFileList: setFileListAudio }} count={1} disabled />\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Stuti Gujrati\" required>\r\n                            <Input.TextArea rows={8} placeholder=\"Stuti Gujrati\" value={data?.stuti} onChange={e => { handleChange({ stuti: e.target.value }) }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Jinalaya\" required>\r\n                            <Select value={data.jinalayaId} disabled >\r\n                                {\r\n                                    jinalayas.map(v => (\r\n                                        <Select.Option key={v.parentId} value={v.parentId}>{v.name}</Select.Option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Status\" required>\r\n                            <Select value={data.status} onChange={v => { handleChange({ status: v }) }} disabled >\r\n                                <Select.Option value={true}>Active</Select.Option>\r\n                                <Select.Option value={false}>Inactive</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    )\r\n}","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'setting';\r\n    // category : \r\n    static detail(id, data) {\r\n        return axios.get(this.baseURL + '/details/' + id, { params: data });\r\n    }\r\n    static list(data) {\r\n        return axios.get(this.baseURL + '/list', { params: data });\r\n    }\r\n    static save(data, query) {\r\n        return axios.post(this.baseURL + \"/save\", data, { params: query });\r\n    }\r\n    static delete(id) {\r\n        return axios.post(this.baseURL + '/delete', { ids: id });\r\n    }\r\n\r\n\r\n\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Tabs, Card, Select } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../services/setting';\r\nimport Pagination from '../components/Pagination';\r\nimport { AntdMsg } from '../../utils/Antd';\r\nimport commonObj from '../../commonObj';\r\n// import TinyMce from '../../utils/TinyMce';\r\n\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function Setting({ type }) {\r\n\r\n\tconst [data, setData] = useState([]);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [selected, setSelected] = useState([]);\r\n\tconst [qData, setQData] = useState({ page: 1, limit: 20 });\r\n\tconst addNewModalRef = useRef();\r\n\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Data',\r\n\t\t\tdataIndex: 'data',\r\n\t\t\t// width: 200,\r\n\t\t\trender: (v) => <Typography.Paragraph ellipsis={{ expandable: true }}>{v}</Typography.Paragraph>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Type',\r\n\t\t\tdataIndex: 'type',\r\n\t\t\twidth: 150,\r\n\t\t\trender: v => v === 'aboutus'\r\n\t\t\t\t? 'About Us'\r\n\t\t\t\t: v === 'termcondition'\r\n\t\t\t\t\t? 'Terms & Condition'\r\n\t\t\t\t\t: v === 'faq'\r\n\t\t\t\t\t\t? 'Faq'\r\n\t\t\t\t\t\t: null\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Action',\r\n\t\t\tdataIndex: '_id',\r\n\t\t\twidth: 70,\r\n\t\t\thidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n\t\t\trender: (v, row) => {\r\n\t\t\t\treturn <>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdeleteAccess\r\n\t\t\t\t\t\t\t? <Popconfirm\r\n\t\t\t\t\t\t\t\ttitle=\"Are you sure to delete this Data?\"\r\n\t\t\t\t\t\t\t\tonConfirm={() => { deleteData(row._id); }}\r\n\t\t\t\t\t\t\t\tokText=\"Yes\"\r\n\t\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n\t\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\teditAccess\r\n\t\t\t\t\t\t\t? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t!editAccess && viewAccess\r\n\t\t\t\t\t\t\t? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t}\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t},\r\n\t].filter(item => !item.hidden);\r\n\r\n\tfunction list() {\r\n\t\tif (viewAccess) {\r\n\t\t\tsetLoading(true);\r\n\t\t\tservice.list(qData).then(res => {\r\n\t\t\t\tsetData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n\t\t\t\tsetQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n\t\t\t}).catch(err => { }).finally(() => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tconst deleteData = (id) => {\r\n\t\tservice.delete(id).then(res => {\r\n\t\t\tAntdMsg(res.message);\r\n\t\t\tlist();\r\n\t\t\tsetSelected([]);\r\n\t\t}).catch(err => {\r\n\t\t\tAntdMsg(err.message, 'error');\r\n\t\t})\r\n\t}\r\n\r\n\tconst tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n\ttableColumns[0].fixed = true;\r\n\ttableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n\tconst tableProps = {\r\n\t\tbordered: true,\r\n\t\tloading,\r\n\t\tsize: 'small',\r\n\t\ttitle: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list }} />,\r\n\t\tshowHeader: true,\r\n\t\tfooter: () => <Pagination {...{ qData, setQData }} />,\r\n\t\trowSelection: {\r\n\t\t\tonChange: (selectedRowKeys) => {\r\n\t\t\t\tsetSelected(selectedRowKeys);\r\n\t\t\t},\r\n\t\t},\r\n\t\ttableLayout: undefined,\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tlist();\r\n\t}, [qData.page, qData.limit]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Typography.Title level={5}>List of  Settings</Typography.Title>\r\n\r\n\t\t\t<Table\r\n\t\t\t\t{...tableProps}\r\n\t\t\t\tpagination={{ position: ['none'], pageSize: qData.limit }}\r\n\t\t\t\tcolumns={tableColumns}\r\n\t\t\t\tdataSource={data.length ? data : []}\r\n\t\t\t\tscroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n\t\t\t/>\r\n\t\t\t<AddForm ref={addNewModalRef} {...{ list, type }} />\r\n\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list }) {\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<Form onSubmitCapture={list} className=\"search-form\">\r\n\t\t\t<Row gutter={[12, 2]}>\r\n\t\t\t\t<Col span={5}>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\taddAccess\r\n\t\t\t\t\t\t\t? <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tselected.length\r\n\t\t\t\t\t\t\t? <Popconfirm\r\n\t\t\t\t\t\t\t\ttitle=\"Are you sure to delete these selected Data?\"\r\n\t\t\t\t\t\t\t\tonConfirm={() => { deleteData(selected); }}\r\n\t\t\t\t\t\t\t\tokText=\"Yes\"\r\n\t\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n\t\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</Form>\r\n\t);\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n\tconst { list } = props;\r\n\tconst [open, setOpen] = useState(false);\r\n\tconst [data, setData] = useState({ aspect: 1 });\r\n\tconst [ajxRequesting, setAjxRequesting] = useState(false);\r\n\tconst [ln, setLn] = useState('en');\r\n\tconst [changeForm, setChangeForm] = useState(false);\r\n\tconst [file, setFile] = useState([]);\r\n\tconst [thumbFile, setThumbFile] = useState([]);\r\n\r\n\r\n\r\n\tconst handleChange = (value) => {\r\n\t\tif (changeForm) {\r\n\t\t\tObject.entries(value).forEach(ent => {\r\n\t\t\t\tlet varDt = data;\r\n\t\t\t\tconst k = ent[0];\r\n\t\t\t\tconst v = ent[1];\r\n\t\t\t\tlet keys = k.split('.');\r\n\t\t\t\tfor (let i = 0; i < keys.length; i++) {\r\n\t\t\t\t\tif (i + 1 === keys.length) {\r\n\t\t\t\t\t\tvarDt[keys[i]] = v;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (typeof varDt[keys[i]] === 'undefined') {\r\n\t\t\t\t\t\t\tif (parseInt(keys[i + 1]) * 1 >= 0) {\r\n\t\t\t\t\t\t\t\tvarDt[keys[i]] = [];\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvarDt[keys[i]] = {};\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} varDt = varDt[keys[i]];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tsetData({ ...data });\r\n\t\t}\r\n\t}\r\n\r\n\tuseImperativeHandle(ref, () => ({\r\n\t\topenForm(dt) {\r\n\t\t\tsetOpen(true);\r\n\t\t\tsetData(\r\n\t\t\t\tdt\r\n\t\t\t\t\t? { _id: dt }\r\n\t\t\t\t\t: { status: true }\r\n\t\t\t);\r\n\t\t\tif (!dt && addAccess) {\r\n\t\t\t\tsetChangeForm(true);\r\n\t\t\t} else if (dt && editAccess) {\r\n\t\t\t\tsetChangeForm(true);\r\n\t\t\t} else {\r\n\t\t\t\tsetChangeForm(false);\r\n\t\t\t}\r\n\t\t}\r\n\t}));\r\n\r\n\tconst getDetails = () => {\r\n\t\tsetAjxRequesting(true);\r\n\t\tservice.detail(data.parentId || data._id, { ln }).then(res => {\r\n\t\t\tsetData(res.data || {});\r\n\t\t\tsetFile(res.data?.imgUrls || []);\r\n\t\t\tsetThumbFile(res.data?.thumbImgUrl || []);\r\n\r\n\t\t}).catch(err => {\r\n\t\t\tAntdMsg(err.message, 'error');\r\n\t\t}).finally(() => {\r\n\t\t\tsetAjxRequesting(false);\r\n\t\t});\r\n\t}\r\n\r\n\tconst save = () => {\r\n\t\tif (changeForm) {\r\n\t\t\tsetAjxRequesting(true);\r\n\t\t\tservice.save(data, { ln }).then((res) => {\r\n\t\t\t\tAntdMsg(res.message);\r\n\t\t\t\thandleChange({ ...res.data });\r\n\t\t\t\tif (ln === \"en\") {\r\n\t\t\t\t\tlist();\r\n\t\t\t\t}\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tif (typeof err.message === 'object') {\r\n\t\t\t\t\tlet dt = err.message[Object.keys(err.message)[0]];\r\n\t\t\t\t\tAntdMsg(dt, 'error');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tAntdMsg(err.message, 'error');\r\n\t\t\t\t}\r\n\t\t\t}).finally(() => {\r\n\t\t\t\tsetAjxRequesting(false);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (data._id) {\r\n\t\t\tgetDetails();\r\n\t\t}\r\n\t}, [ln, data._id]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!open) {\r\n\t\t\tsetData({ _id: null });\r\n\t\t} else {\r\n\t\t\tsetLn('en');\r\n\t\t\tsetFile([]);\r\n\t\t\tsetThumbFile([]);\r\n\r\n\t\t}\r\n\t}, [open]);\r\n\tuseEffect(() => {\r\n\t\thandleChange({ imgUrls: file });\r\n\t\thandleChange({ imgUrl: thumbFile?.[0] });\r\n\t}, [file, thumbFile]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Modal\r\n\t\t\t\ttitle={(!data._id ? 'Add' : 'Edit') + ' Data'}\r\n\t\t\t\tstyle={{ top: 20 }}\r\n\t\t\t\topen={open}\r\n\t\t\t\tokText=\"Save\"\r\n\t\t\t\tonOk={save}\r\n\t\t\t\tokButtonProps={{ disabled: ajxRequesting }}\r\n\t\t\t\tonCancel={() => { setOpen(false); }}\r\n\t\t\t\t// destroyOnClose\r\n\t\t\t\tmaskClosable={false}\r\n\t\t\t\twidth={1200}\r\n\t\t\t\tclassName=\"app-modal-body-overflow\"\r\n\t\t\t\tfooter={[\r\n\t\t\t\t\t<Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n\t\t\t\t\tchangeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n\t\t\t\t\t<Tabs activeKey={ln} type=\"card\" size=\"small\" style={{ marginBottom: 0 }} onChange={(v) => { setLn(v); }}\r\n\t\t\t\t\t\titems={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlabel: \"English\",\r\n\t\t\t\t\t\t\t\tkey: \"en\",\r\n\t\t\t\t\t\t\t\tchildren: <Card style={{ borderTop: 0 }}>\r\n\t\t\t\t\t\t\t\t\t<EnForm {...{ data, handleChange, save, changeForm }} />\r\n\t\t\t\t\t\t\t\t</Card>,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlabel: \"\",\r\n\t\t\t\t\t\t\t\tkey: \"hi\",\r\n\t\t\t\t\t\t\t\tchildren: <Card style={{ borderTop: 0 }}>\r\n\t\t\t\t\t\t\t\t\t<HiForm {...{ data, handleChange, save, changeForm }} />\r\n\t\t\t\t\t\t\t\t</Card>,\r\n\t\t\t\t\t\t\t\tdisabled: !data._id\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlabel: \"\",\r\n\t\t\t\t\t\t\t\tkey: \"gu\",\r\n\t\t\t\t\t\t\t\tchildren: <Card style={{ borderTop: 0 }}>\r\n\t\t\t\t\t\t\t\t\t<GuForm {...{ data, handleChange, save, changeForm }} />\r\n\t\t\t\t\t\t\t\t</Card>,\r\n\t\t\t\t\t\t\t\tdisabled: !data._id\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Spin>\r\n\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t);\r\n});\r\n\r\n\r\nconst EnForm = ({ data, handleChange, changeForm }) => {\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Form layout=\"vertical\" disabled={!changeForm}>\r\n\t\t\t\t<Row gutter={[12, 2]}>\r\n\t\t\t\t\t<Col span={6}>\r\n\t\t\t\t\t\t<Form.Item label=\"Type\" required>\r\n\t\t\t\t\t\t\t<Select value={data.type} onChange={v => { handleChange({ type: v }) }} >\r\n\t\t\t\t\t\t\t\t<Select.Option value=\"aboutus\">About us</Select.Option>\r\n\t\t\t\t\t\t\t\t<Select.Option value=\"termcondition\">Terms & Condition</Select.Option>\r\n\t\t\t\t\t\t\t\t<Select.Option value=\"faq\">Faq</Select.Option>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t<Form.Item label=\"Data\" required>\r\n\t\t\t\t\t\t\t<Input.TextArea rows={8} cols={24} placeholder=\"Data\" value={data.data} onChange={e => { handleChange({ data: e.target.value }) }} />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Form>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nconst HiForm = ({ data, handleChange, changeForm }) => {\r\n\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Form layout=\"vertical\" disabled={!changeForm}>\r\n\t\t\t\t<Row gutter={[12, 2]}>\r\n\t\t\t\t\t<Col span={6}>\r\n\t\t\t\t\t\t<Form.Item label=\"Type\" required>\r\n\t\t\t\t\t\t\t<Select value={data.type} disabled>\r\n\t\t\t\t\t\t\t\t<Select.Option value=\"aboutus\">About us</Select.Option>\r\n\t\t\t\t\t\t\t\t<Select.Option value=\"termcondition\">Terms & Condition</Select.Option>\r\n\t\t\t\t\t\t\t\t<Select.Option value=\"faq\">Faq</Select.Option>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t<Form.Item label=\"Data\" required>\r\n\t\t\t\t\t\t\t<Input.TextArea rows={8} cols={24} placeholder=\"Data\" value={data.data} onChange={e => { handleChange({ data: e.target.value }) }} />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Form>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nconst GuForm = ({ data, handleChange, changeForm }) => {\r\n\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Form layout=\"vertical\" disabled={!changeForm}>\r\n\t\t\t\t<Row gutter={[12, 2]}>\r\n\t\t\t\t\t<Col span={6}>\r\n\t\t\t\t\t\t<Form.Item label=\"Type\" required>\r\n\t\t\t\t\t\t\t<Select value={data.type} disabled>\r\n\t\t\t\t\t\t\t\t<Select.Option value=\"aboutus\">About us</Select.Option>\r\n\t\t\t\t\t\t\t\t<Select.Option value=\"termcondition\">Terms & Condition</Select.Option>\r\n\t\t\t\t\t\t\t\t<Select.Option value=\"faq\">Faq</Select.Option>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t<Form.Item label=\"Data\" required>\r\n\t\t\t\t\t\t\t<Input.TextArea rows={8} cols={24} placeholder=\"Data\" value={data.data} onChange={e => { handleChange({ data: e.target.value }) }} />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Form>\r\n\t\t</>\r\n\t);\r\n}\r\n","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'yatra';\r\n\r\n    // for Banners : \r\n    static photoDetails(id, data) {\r\n        return axios.get(this.baseURL + '/photo/details/' + id, { params: data });\r\n    }\r\n    static photoList(data) {\r\n        return axios.get(this.baseURL + '/photo/list', { params: data });\r\n    }\r\n    static photoSave(data, query) {\r\n        return axios.post(this.baseURL + \"/photo/save\", data, { params: query });\r\n    }\r\n    static photoDelete(id) {\r\n        return axios.post(this.baseURL + '/photo/delete', { ids: id });\r\n    }\r\n\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Modal, Spin, Typography, Tabs, Card, Select, Tag } from 'antd';\r\nimport { PlusOutlined, DeleteOutlined, EditOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../../services/yatra';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport commonObj from '../../../commonObj';\r\n\r\nconst viewAccess = true;\r\nconst addAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('add');\r\nconst editAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('edit');\r\nconst deleteAccess = commonObj.userType === 'superAdmin' || commonObj.modules?.includes('delete');\r\n\r\nexport default function YatraPhotos() {\r\n\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [selected, setSelected] = useState([]);\r\n  const [qData, setQData] = useState({ page: 1, limit: 20 });\r\n  const addNewModalRef = useRef();\r\n  const PhotosModalRef = useRef();\r\n\r\n  const columns = [\r\n    {\r\n      title: 'YatraId',\r\n      dataIndex: 'yatraId',\r\n      // width: 200,\r\n    },\r\n    {\r\n      title: \"User Id\",\r\n      dataIndex: 'userId',\r\n      render: (v, row) => {\r\n        return <span>{row?.yatraDetails[0]?.userId}</span>\r\n      }\r\n    },\r\n    {\r\n      title: \"type\",\r\n      dataIndex: 'type',\r\n      render: (v, row) => {\r\n        return <span>{row?.yatraDetails[0]?.type}</span>\r\n      }\r\n    },\r\n    {\r\n      title: 'Photos',\r\n      dataIndex: 'yatraId',\r\n      width: 150,\r\n      render: (value, row) => (\r\n        <Button type=\"primary\" size=\"small\" onClick={() => { PhotosModalRef.current.openForm({ _id: row.yatraId }) }}>Photos</Button>\r\n      )\r\n    },\r\n    {\r\n      title: 'Status',\r\n      dataIndex: 'status',\r\n      width: 80,\r\n      render: isActive => {\r\n        if (isActive) {\r\n          return <Tag color='green'>Active</Tag>\r\n        } else {\r\n          return <Tag color='red'>Inactive</Tag>\r\n        }\r\n      },\r\n    },\r\n    {\r\n      title: 'Action',\r\n      dataIndex: '_id',\r\n      width: 70,\r\n      hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n      render: (v, row) => {\r\n        return <>\r\n          {\r\n            deleteAccess\r\n              ? <Popconfirm\r\n                title=\"Are you sure to delete this song category?\"\r\n                onConfirm={() => { deleteData(row._id); }}\r\n                okText=\"Yes\"\r\n                cancelText=\"No\"\r\n              >\r\n                <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n              </Popconfirm>\r\n              : null\r\n          }\r\n\r\n          {\r\n            editAccess\r\n              ? <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n              : null\r\n          }\r\n          {\r\n            !editAccess && viewAccess\r\n              ? <Button type=\"primary\" size='small' icon={<EyeOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n              : null\r\n          }\r\n        </>\r\n      }\r\n    },\r\n  ].filter(item => !item.hidden);\r\n\r\n  function list() {\r\n    if (viewAccess) {\r\n      setLoading(true);\r\n      service.photoList(qData).then(res => {\r\n        console.log(res.data)\r\n        setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n        setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n      }).catch(err => { }).finally(() => {\r\n        setLoading(false);\r\n      });\r\n    }\r\n  }\r\n\r\n  const deleteData = (id) => {\r\n    service.photoDelete(id).then(res => {\r\n      AntdMsg(res.message);\r\n      list();\r\n      setSelected([]);\r\n    }).catch(err => {\r\n      AntdMsg(err.message, 'error');\r\n    })\r\n  }\r\n\r\n  const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n  tableColumns[0].fixed = true;\r\n  tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n  const tableProps = {\r\n    bordered: true,\r\n    loading,\r\n    size: 'small',\r\n    title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list }} />,\r\n    showHeader: true,\r\n    footer: () => <Pagination {...{ qData, setQData }} />,\r\n    rowSelection: {\r\n      onChange: (selectedRowKeys) => {\r\n        setSelected(selectedRowKeys);\r\n      },\r\n    },\r\n    tableLayout: undefined,\r\n  };\r\n\r\n  useEffect(() => {\r\n    list();\r\n  }, [qData.page, qData.limit]);\r\n\r\n  return (\r\n    <>\r\n      <Typography.Title level={5}>List of Yatra Photos</Typography.Title>\r\n      <Table\r\n        {...tableProps}\r\n        pagination={{ position: ['none'], pageSize: qData.limit }}\r\n        columns={tableColumns}\r\n        dataSource={data.length ? data : []}\r\n        scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n      />\r\n      <AddForm ref={addNewModalRef} {...{ list }} />\r\n      <PhotosModal ref={PhotosModalRef} />\r\n    </>\r\n  );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list }) {\r\n\r\n  return (\r\n    <Form onSubmitCapture={list} className=\"search-form\">\r\n      <Row gutter={[12, 2]}>\r\n        <Col span={4}>\r\n          <Form.Item style={{ marginBottom: 0 }}>\r\n            <Input placeholder=\"Search by category name\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col span={3}>\r\n          <Form.Item style={{ marginBottom: 0 }}>\r\n            <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n          </Form.Item>\r\n        </Col>\r\n        <Col span={5}>\r\n          {\r\n            addAccess\r\n              ? <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n              </Form.Item>\r\n              : null\r\n          }\r\n          {\r\n            selected.length\r\n              ? <Popconfirm\r\n                title=\"Are you sure to delete these selected Yatra Photos categories?\"\r\n                onConfirm={() => { deleteData(selected); }}\r\n                okText=\"Yes\"\r\n                cancelText=\"No\"\r\n              >\r\n                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n              </Popconfirm>\r\n              : null\r\n          }\r\n\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n  );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n  const { list } = props;\r\n  const [open, setOpen] = useState(false);\r\n  const [data, setData] = useState({ aspect: 1 });\r\n  const [ajxRequesting, setAjxRequesting] = useState(false);\r\n  const [ln, setLn] = useState('en');\r\n  const [changeForm, setChangeForm] = useState(false);\r\n\r\n\r\n  const handleChange = (value) => {\r\n    if (changeForm) {\r\n      Object.entries(value).forEach(ent => {\r\n        let varDt = data;\r\n        const k = ent[0];\r\n        const v = ent[1];\r\n        let keys = k.split('.');\r\n        for (let i = 0; i < keys.length; i++) {\r\n          if (i + 1 === keys.length) {\r\n            varDt[keys[i]] = v;\r\n          } else {\r\n            if (typeof varDt[keys[i]] === 'undefined') {\r\n              if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                varDt[keys[i]] = [];\r\n              } else {\r\n                varDt[keys[i]] = {};\r\n              }\r\n            } varDt = varDt[keys[i]];\r\n          }\r\n        }\r\n      });\r\n      setData({ ...data });\r\n    }\r\n  }\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    openForm(dt) {\r\n      setOpen(true);\r\n      setData(\r\n        dt\r\n          ? { _id: dt }\r\n          : { status: true, type: 'other' }\r\n      );\r\n      if (!dt && addAccess) {\r\n        setChangeForm(true);\r\n      } else if (dt && editAccess) {\r\n        setChangeForm(true);\r\n      } else {\r\n        setChangeForm(false);\r\n      }\r\n    }\r\n  }));\r\n\r\n  const getDetails = () => {\r\n    setAjxRequesting(true);\r\n    service.photoDetails(data.parentId || data._id, { ln }).then(res => {\r\n      setData(res.data || {});\r\n    }).catch(err => {\r\n      AntdMsg(err.message, 'error');\r\n    }).finally(() => {\r\n      setAjxRequesting(false);\r\n    });\r\n  }\r\n\r\n  const save = () => {\r\n    if (changeForm) {\r\n      setAjxRequesting(true);\r\n      service.photoSave(data, { ln }).then((res) => {\r\n        AntdMsg(res.message);\r\n        handleChange({ ...res.data });\r\n        if (ln === \"en\") {\r\n          list();\r\n        }\r\n      }).catch(err => {\r\n        if (typeof err.message === 'object') {\r\n          let dt = err.message[Object.keys(err.message)[0]];\r\n          AntdMsg(dt, 'error');\r\n        } else {\r\n          AntdMsg(err.message, 'error');\r\n        }\r\n      }).finally(() => {\r\n        setAjxRequesting(false);\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (data._id) {\r\n      getDetails();\r\n    }\r\n  }, [ln, data._id]);\r\n\r\n  useEffect(() => {\r\n    if (!open) {\r\n      setData({ _id: null });\r\n    } else {\r\n      setLn('en');\r\n    }\r\n  }, [open]);\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        title={(!data._id ? 'Add' : 'Edit') + ' Yatra Photos'}\r\n        style={{ top: 20 }}\r\n        open={open}\r\n        okText=\"Save\"\r\n        onOk={save}\r\n        okButtonProps={{ disabled: ajxRequesting }}\r\n        onCancel={() => { setOpen(false); }}\r\n        // destroyOnClose\r\n        maskClosable={false}\r\n        width={500}\r\n        className=\"app-modal-body-overflow\"\r\n        footer={[\r\n          <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n          changeForm ? <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button> : null,\r\n        ]}\r\n      >\r\n        <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n          <Tabs activeKey={ln} type=\"card\" size=\"small\" style={{ marginBottom: 0 }} onChange={(v) => { setLn(v); }}\r\n            items={[\r\n              {\r\n                label: \"English\",\r\n                key: \"en\",\r\n                children: <Card style={{ borderTop: 0 }}>\r\n                  <EnForm {...{ data, handleChange, save, changeForm }} />\r\n                </Card>,\r\n              },\r\n              {\r\n                label: \"\",\r\n                key: \"hi\",\r\n                children: <Card style={{ borderTop: 0 }}>\r\n                  <HiForm {...{ data, handleChange, save, changeForm }} />\r\n                </Card>,\r\n                disabled: !data._id\r\n              },\r\n              {\r\n                label: \"\",\r\n                key: \"gu\",\r\n                children: <Card style={{ borderTop: 0 }}>\r\n                  <GuForm {...{ data, handleChange, save, changeForm }} />\r\n                </Card>,\r\n                disabled: !data._id\r\n              }\r\n            ]}\r\n          />\r\n        </Spin>\r\n\r\n      </Modal>\r\n    </>\r\n  );\r\n});\r\n\r\nconst EnForm = ({ data, handleChange, changeForm }) => {\r\n\r\n  return (\r\n    <>\r\n      <Form layout=\"vertical\" disabled={!changeForm}>\r\n        <Row gutter={[12, 2]}>\r\n          <Col span={24}>\r\n            <Form.Item label=\"Name\" required>\r\n              <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={24}>\r\n            <Form.Item label=\"Type\" required>\r\n              <Select value={data.type} onChange={v => { handleChange({ type: v }) }} >\r\n                <Select.Option value={'pracheenStawan'}>Pracheen Stawan</Select.Option>\r\n                <Select.Option value={'bhaktiSong'}>Bhakti Song</Select.Option>\r\n                <Select.Option value={'24tirthankarStawan'}>24 Tirthankar Stawan</Select.Option>\r\n                <Select.Option value={'paryushanStawan'}>Paryushan Stawan</Select.Option>\r\n                <Select.Option value={'tapasyaSong'}>Tapasya Song</Select.Option>\r\n                <Select.Option value={'dikshaSong'}>Diksha Song</Select.Option>\r\n                <Select.Option value={'stuti'}>Stuti</Select.Option>\r\n                <Select.Option value={'other'}>Other</Select.Option>\r\n              </Select>\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={24}>\r\n            <Form.Item label=\"Status\" required>\r\n              <Select value={data.status} onChange={v => { handleChange({ status: v }) }} >\r\n                <Select.Option value={true}>Active</Select.Option>\r\n                <Select.Option value={false}>Inactive</Select.Option>\r\n              </Select>\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n}\r\n\r\nconst HiForm = ({ data, handleChange, changeForm }) => {\r\n\r\n  return (\r\n    <>\r\n      <Form layout=\"vertical\" disabled={!changeForm}>\r\n        <Row gutter={[12, 2]}>\r\n          <Col span={24}>\r\n            <Form.Item label=\"Name\" required>\r\n              <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={24}>\r\n            <Form.Item label=\"Type\" required>\r\n              <Select value={data.type} disabled >\r\n                <Select.Option value={'pracheenStawan'}>Pracheen Stawan</Select.Option>\r\n                <Select.Option value={'bhaktiSong'}>Bhakti Song</Select.Option>\r\n                <Select.Option value={'24tirthankarStawan'}>24 Tirthankar Stawan</Select.Option>\r\n                <Select.Option value={'paryushanStawan'}>Paryushan Stawan</Select.Option>\r\n                <Select.Option value={'tapasyaSong'}>Tapasya Song</Select.Option>\r\n                <Select.Option value={'dikshaSong'}>Diksha Song</Select.Option>\r\n                <Select.Option value={'stuti'}>Stuti</Select.Option>\r\n                <Select.Option value={'other'}>Other</Select.Option>\r\n              </Select>\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={24}>\r\n            <Form.Item label=\"Status\" required>\r\n              <Select value={data.status} disabled >\r\n                <Select.Option value={true}>Active</Select.Option>\r\n                <Select.Option value={false}>Inactive</Select.Option>\r\n              </Select>\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n}\r\n\r\nconst GuForm = ({ data, handleChange, changeForm }) => {\r\n\r\n  return (\r\n    <>\r\n      <Form layout=\"vertical\" disabled={!changeForm}>\r\n        <Row gutter={[12, 2]}>\r\n          <Col span={24}>\r\n            <Form.Item label=\"Name\" required>\r\n              <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={24}>\r\n            <Form.Item label=\"Type\" required>\r\n              <Select value={data.type} disabled >\r\n                <Select.Option value={'pracheenStawan'}>Pracheen Stawan</Select.Option>\r\n                <Select.Option value={'bhaktiSong'}>Bhakti Song</Select.Option>\r\n                <Select.Option value={'24tirthankarStawan'}>24 Tirthankar Stawan</Select.Option>\r\n                <Select.Option value={'paryushanStawan'}>Paryushan Stawan</Select.Option>\r\n                <Select.Option value={'tapasyaSong'}>Tapasya Song</Select.Option>\r\n                <Select.Option value={'dikshaSong'}>Diksha Song</Select.Option>\r\n                <Select.Option value={'stuti'}>Stuti</Select.Option>\r\n                <Select.Option value={'other'}>Other</Select.Option>\r\n              </Select>\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={24}>\r\n            <Form.Item label=\"Status\" required>\r\n              <Select value={data.status} disabled >\r\n                <Select.Option value={true}>Active</Select.Option>\r\n                <Select.Option value={false}>Inactive</Select.Option>\r\n              </Select>\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n}\r\n\r\n\r\nconst PhotosModal = forwardRef((props, ref) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [data, setData] = useState({ aspect: 1 });\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    openForm(dt) {\r\n      setOpen(true);\r\n      setData(dt);\r\n    }\r\n  }));\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        title={<>Attributes of <Typography.Text type=\"danger\">{data._id}</Typography.Text></>}\r\n        style={{ top: 20 }}\r\n        open={open}\r\n        okText=\"Save\"\r\n        onCancel={() => { setOpen(false); }}\r\n        maskClosable={false}\r\n        width={800}\r\n        destroyOnClose\r\n        className=\"app-modal-body-overflow\"\r\n        footer={null}\r\n      >\r\n        <h1>Hello Photos</h1>\r\n      </Modal>\r\n    </>\r\n  );\r\n});\r\n","import { AppstoreOutlined, DashboardOutlined, UserOutlined, BorderOutlined, BankOutlined, ApartmentOutlined, CalendarOutlined } from '@ant-design/icons';\r\nimport commonObj from '../../commonObj';\r\nimport Dashboard from '../pages/Dashboard';\r\nimport Module from '../pages/Module';\r\nimport Profile from '../pages/user/Profile';\r\nimport ChangePassword from '../pages/user/ChangePassword';\r\nimport SubAdmin from '../pages/SubAdmin';\r\nimport Bhagwan from '../pages/Bhagwan';\r\nimport Jinalaya from '../pages/temple/Jinalaya';\r\nimport Shala from '../pages/temple/Shala';\r\nimport State from '../pages/location/State';\r\nimport District from '../pages/location/District';\r\nimport City from '../pages/location/City';\r\nimport Kalyanak from '../pages/temple/Kalyanak';\r\nimport Event from '../pages/Event';\r\nimport Job from '../pages/jobPortal/Job';\r\nimport JobSeeker from '../pages/jobPortal/JobSeeker';\r\nimport User from '../pages/User';\r\n\r\nimport EcommCategory from \"../pages/ecomm/Category\"\r\nimport EcommSubCategory from \"../pages/ecomm/SubCategory\"\r\nimport EcommAttribute from \"../pages/ecomm/Attribute\"\r\nimport EcommProduct from \"../pages/ecomm/Products\"\r\nimport Banner from \"../pages/Banner\"\r\nimport EcommOrder from \"../pages/ecomm/Order\"\r\nimport JainWorldImage from '../pages/jainWorld/Image';\r\nimport JainWorldVideo from '../pages/jainWorld/Video';\r\nimport SingerType from '../pages/music/SingerType';\r\nimport Singer from '../pages/music/Singer';\r\nimport SongCategory from '../pages/music/SongCategory';\r\nimport Song from '../pages/music/Song';\r\nimport Parshwanath108 from '../pages/temple/Parshwanath108';\r\nimport Setting from \"../pages/Setting\"\r\nimport YatraPhotos from \"../pages/yatra/YatraPhotos\";\r\nconst { userType } = commonObj;\r\n\r\n\r\nconst routes = [\r\n    { title: 'Dashboard', icon: DashboardOutlined, url: '/', component: Dashboard, hidden: userType !== 'superAdmin' },\r\n    { title: 'Modules', icon: AppstoreOutlined, url: '/modules', component: Module, hidden: userType !== 'superAdmin' },\r\n    { title: 'Sub Admins', icon: AppstoreOutlined, url: '/sub-admins', component: SubAdmin, hidden: userType !== 'superAdmin' },\r\n    { title: 'Users', icon: AppstoreOutlined, url: '/users', component: User, hidden: userType !== 'superAdmin' },\r\n    { title: 'Bhagwan', icon: AppstoreOutlined, url: '/bhagwans', component: Bhagwan, hidden: userType !== 'superAdmin' },\r\n    { title: 'Banners', icon: ApartmentOutlined, url: '/banner', component: Banner },\r\n\r\n    {\r\n        title: 'Location', icon: BankOutlined, url: '/location', children: [\r\n            { title: 'State', icon: ApartmentOutlined, url: '/', component: State },\r\n            { title: 'District', icon: ApartmentOutlined, url: '/district', component: District },\r\n            { title: 'City', icon: ApartmentOutlined, url: '/city', component: City },\r\n        ]\r\n    },\r\n    {\r\n        title: 'Temples', icon: BankOutlined, url: '/temples', children: [\r\n            { title: 'Jinalaya', icon: ApartmentOutlined, url: '/', component: Jinalaya },\r\n            { title: 'Bhojan Shala', icon: ApartmentOutlined, url: '/bhojan-shala', component: () => <Shala type=\"bhojanShala\" /> },\r\n            { title: 'Dharm Shala', icon: ApartmentOutlined, url: '/dharm-shala', component: () => <Shala type=\"dharmShala\" /> },\r\n            { title: 'Path Shala', icon: ApartmentOutlined, url: '/path-shala', component: () => <Shala type=\"pathShala\" /> },\r\n            { title: 'Ayambi Shala', icon: ApartmentOutlined, url: '/ayambi-shala', component: () => <Shala type=\"ayambiShala\" /> },\r\n            { title: 'Kalyanak', icon: ApartmentOutlined, url: '/kalyanak', component: Kalyanak },\r\n            { title: '108 Parshwanath', icon: ApartmentOutlined, url: '/parshwanath', component: Parshwanath108 },\r\n        ]\r\n    },\r\n    { title: 'Event', icon: CalendarOutlined, url: '/events', component: Event },\r\n    { title: 'Settings', icon: CalendarOutlined, url: '/Setting', component: Setting },\r\n    {\r\n        title: 'Job Portal', icon: BankOutlined, url: '/job-portal', children: [\r\n            { title: 'Job', icon: ApartmentOutlined, url: '/', component: Job },\r\n            { title: 'Job Seeker', icon: ApartmentOutlined, url: '/job-seekrs', component: JobSeeker },\r\n        ]\r\n    },\r\n    {\r\n        title: 'Ecomm', icon: BankOutlined, url: '/ecomm', children: [\r\n            { title: 'Category', icon: ApartmentOutlined, url: '/category', component: EcommCategory },\r\n            { title: 'Sub Category', icon: ApartmentOutlined, url: '/sub-category', component: EcommSubCategory },\r\n            { title: 'Attributes', icon: ApartmentOutlined, url: '/attribute', component: EcommAttribute },\r\n            { title: 'Products', icon: ApartmentOutlined, url: '/products', component: EcommProduct },\r\n            { title: 'Orders', icon: ApartmentOutlined, url: '/order', component: EcommOrder },\r\n        ]\r\n    },\r\n    {\r\n        title: 'Music', icon: BankOutlined, url: '/music', children: [\r\n            { title: 'Singer Type', icon: ApartmentOutlined, url: '/singer-type', component: SingerType },\r\n            { title: 'Singer', icon: ApartmentOutlined, url: '/singer', component: Singer },\r\n            { title: 'Song Category', icon: ApartmentOutlined, url: '/song-category', component: SongCategory },\r\n            { title: 'Song', icon: ApartmentOutlined, url: '/song', component: Song },\r\n        ]\r\n    },\r\n    {\r\n        title: 'Yatra', icon: BankOutlined, url: '/yatra', children: [\r\n            { title: 'Yatra photos', icon: ApartmentOutlined, url: '/photo', component: YatraPhotos },\r\n            \r\n        ]\r\n    },\r\n    {\r\n        title: 'Jain World', icon: BankOutlined, url: '/jain-world', children: [\r\n            { title: 'Image', icon: ApartmentOutlined, url: '/image', component: JainWorldImage },\r\n            { title: 'Video', icon: ApartmentOutlined, url: '/video', component: JainWorldVideo },\r\n        ]\r\n    },\r\n\r\n    {\r\n        title: 'Profile', icon: UserOutlined, url: '/profile', children: [\r\n            { title: 'Your Profile', icon: UserOutlined, url: '/', component: Profile },\r\n            { title: 'Change Password', icon: BorderOutlined, url: '/change-password', component: ChangePassword },\r\n        ]\r\n    },\r\n].filter(v => (!v.hidden) || v.children?.length);\r\n\r\nexport default routes;","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Form, Spin, Row, Col, PageHeader, Typography, Divider, Switch } from 'antd';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\nimport greetingTime from 'greeting-time';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport service from '../../../services/user';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport UploadImage from '../../../utils/UploadImage';\r\n\r\nexport default function Profile() {\r\n\r\n    const [data, setData] = useState({});\r\n    const [fileList, setFileList] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [doSave, setDoSave] = useState(false);\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    function list() {\r\n        setLoading(true);\r\n        service.profile().then(res => {\r\n            setData(res.data.result || {});\r\n            if (res.data.result?.avatar) {\r\n                setFileList([res.data.result?.avatar]);\r\n            }\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        updateProfile();\r\n    }, [data]);\r\n\r\n    function updateProfile() {\r\n        if (doSave) {\r\n            setLoading(true);\r\n            service.saveProfile(data).then(res => {\r\n                AntdMsg(res.message);\r\n            }).catch(err => {\r\n                AntdMsg(err.message, 'error');\r\n            }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        handleChange(fileList?.[0], 'avatar');\r\n    }, [fileList]);\r\n\r\n    return (\r\n        <>\r\n            <Spin spinning={loading} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                <PageHeader\r\n                    title={greetingTime(new Date()) + ', ' + data?.name}\r\n                    extra={[<Switch key={'do-save'} checkedChildren=\"Update\" unCheckedChildren=\"Update\" checked={doSave} onChange={v => { setDoSave(v) }} />]}\r\n                />\r\n                <Divider />\r\n                <Form layout=\"vertical\">\r\n                    <Row gutter={[12, 2]}>\r\n                        <Col span={16}>\r\n                            <Row gutter={[12, 10]}>\r\n                                <Col span={12}>\r\n                                    <Form.Item label={<Typography.Text strong type=\"secondary\">Name</Typography.Text>}>\r\n                                        <Typography.Title editable={{ editing: doSave, triggerType: doSave ? 'icon' : 'text', onChange: (v) => { handleChange(v, 'name'); } }} level={5} >\r\n                                            {data.name}\r\n                                        </Typography.Title>\r\n                                        <Divider style={{ margin: 0 }} />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={12}>\r\n                                    <Form.Item label={<Typography.Text strong type=\"secondary\">User Name</Typography.Text>}>\r\n                                        <Typography.Title editable={{ editing: doSave, triggerType: doSave ? 'icon' : 'text', onChange: (v) => { handleChange(v, 'userName'); } }} level={5} >\r\n                                            {data.userName}\r\n                                        </Typography.Title>\r\n                                        <Divider style={{ margin: 0 }} />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={12}>\r\n                                    <Form.Item label={<Typography.Text strong type=\"secondary\">Email</Typography.Text>}>\r\n                                        <Typography.Title editable={{ editing: doSave, triggerType: doSave ? 'icon' : 'text', onChange: (v) => { handleChange(v, 'email'); } }} level={5} >\r\n                                            {data.email}\r\n                                        </Typography.Title>\r\n                                        <Divider style={{ margin: 0 }} />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={12}>\r\n                                    <Form.Item label={<Typography.Text strong type=\"secondary\">Phone Number</Typography.Text>}>\r\n                                        <Typography.Title editable={{ editing: doSave, triggerType: doSave ? 'icon' : 'text', onChange: (v) => { handleChange(v, 'phone'); } }} level={5} >\r\n                                            {data.phone}\r\n                                        </Typography.Title>\r\n                                        <Divider style={{ margin: 0 }} />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n                        <Col span={8}>\r\n                            <UploadImage {...{ fileList, setFileList }} disabled={!doSave} cropImage />\r\n\r\n                        </Col>\r\n                    </Row>\r\n                </Form>\r\n            </Spin>\r\n        </>\r\n    );\r\n};","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Form, Spin, Row, Col, PageHeader, Divider, Input, Button } from 'antd';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\nimport greetingTime from 'greeting-time';\r\n\r\nimport React, { useState } from 'react';\r\nimport service from '../../../services/user';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport commonObj from '../../../commonObj';\r\n\r\nexport default function Profile() {\r\n\r\n    const [data, setData] = useState({name: commonObj.name});\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    function save() {\r\n        setLoading(true);\r\n        service.updatePassword(data).then(res => {\r\n            AntdMsg(res.message);\r\n            setData({});\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Spin spinning={loading} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                <PageHeader title={greetingTime(new Date()) + ', ' + data?.name} />\r\n                <Divider />\r\n                <Form layout=\"vertical\">\r\n                    <Row gutter={[12, 2]}>\r\n                        <Col span={8}>\r\n                            <Form.Item label=\"Current Password\">\r\n                                <Input.Password placeholder=\"Current Password\" value={data.currentPassword} onChange={e => { handleChange(e.target.value, 'currentPassword'); }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={16}></Col>\r\n\r\n                        <Col span={8}>\r\n                            <Form.Item label=\"New Password\">\r\n                                <Input.Password placeholder=\"New Password\" value={data.newPassword} onChange={e => { handleChange(e.target.value, 'newPassword'); }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={16}></Col>\r\n                        <Col span={8}>\r\n                            <Form.Item label=\"Confirm New Password\">\r\n                                <Input.Password placeholder=\"Confirm New Password\" value={data.confirmNewPassword} onChange={e => { handleChange(e.target.value, 'confirmNewPassword'); }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={16}></Col>\r\n                        <Col span={8}>\r\n                            <Form.Item>\r\n                                {\r\n                                    data.currentPassword && data.newPassword && data.confirmNewPassword\r\n                                        ? <Button type=\"primary\" style={{ width: '100%' }} htmlType=\"submit\" onClick={save} >Update Password</Button>\r\n                                        : null\r\n                                }\r\n                            </Form.Item>\r\n                        </Col>\r\n                    </Row>\r\n                </Form>\r\n            </Spin>\r\n        </>\r\n    );\r\n};","import { Menu } from 'antd';\r\nimport React from 'react';\r\nimport routes from './route';\r\nimport { Link, useLocation } from 'react-router-dom';\r\n\r\nconst items = [...routes];\r\nfunction convertMultiToSingle(arr, prevBaseUrl = '') {\r\n    arr.forEach((v, i) => {\r\n        if (v.children?.length) {\r\n            arr[i] = {\r\n                ...arr[i],\r\n                key: prevBaseUrl + v.url,\r\n                icon: <v.icon />,\r\n                label: <Link className=\"text-d-none\" to={(prevBaseUrl + v.url)}>{v.title}</Link>\r\n            }\r\n            convertMultiToSingle(v.children, prevBaseUrl + v.url);\r\n        } else {\r\n            arr[i] = {\r\n                ...v,\r\n                key: prevBaseUrl + v.url,\r\n                icon: <v.icon />,\r\n                label: <Link className=\"text-d-none\" to={(prevBaseUrl + v.url)}>{v.title}</Link>\r\n            }\r\n        }\r\n    })\r\n}\r\nconvertMultiToSingle(items);\r\n\r\nconst App = () => {\r\n    const paths = [];\r\n    useLocation().pathname.split('/')?.reduce((prev, cur) => {\r\n        paths.push(prev + '/' + cur);\r\n        return prev + '/' + cur;\r\n    });\r\n\r\n    return (\r\n        <>\r\n            {\r\n                <Menu\r\n                    defaultSelectedKeys={[paths.pop()]}\r\n                    defaultOpenKeys={[...paths]}\r\n                    mode=\"inline\"\r\n                    // theme=\"dark\"\r\n                    items={items}\r\n                    style={{ height: '100vh' }}\r\n                />\r\n            }\r\n        </>\r\n    );\r\n};\r\n\r\nexport default App;","import { Breadcrumb } from \"antd\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useLocation, Link } from \"react-router-dom\";\r\nimport routes from \"./route\";\r\n\r\n\r\nconst newRoutes = [];\r\nfunction convertMultiToSingle(arr, prevBaseUrl = '') {\r\n    arr.forEach(v => {\r\n        if (v.children) {\r\n            convertMultiToSingle(v.children, prevBaseUrl + v.url);\r\n        }\r\n        newRoutes.push({ title: v.title, url: prevBaseUrl + v.url })\r\n    })\r\n}\r\nconvertMultiToSingle([...routes]);\r\n\r\nexport default function MyBreadcrumb() {\r\n    const location = useLocation().pathname;\r\n    const [breads, setBreads] = useState([]);\r\n    useEffect(() => {\r\n        const paths = [];\r\n        location.split('/')?.reduce((prev, cur) => {\r\n            paths.push(prev + '/' + cur);\r\n            return prev + '/' + cur;\r\n        });\r\n        setBreads(newRoutes.filter(v => paths.includes(v.url)).reverse());\r\n    }, [location]);\r\n\r\n    return (\r\n        <Breadcrumb separator=\"\">\r\n            {\r\n                breads?.map((v, i) => {\r\n                    if (i === breads.length - 1) {\r\n                        return <Breadcrumb.Item key={v.url}>{v.title}</Breadcrumb.Item>\r\n                    } else {\r\n                        return <React.Fragment key={v.url}>\r\n                            <Breadcrumb.Item><Link to={v.url + '/'}>{v.title}</Link></Breadcrumb.Item>\r\n                            <Breadcrumb.Separator>/</Breadcrumb.Separator>\r\n                        </React.Fragment>\r\n                    }\r\n                })\r\n            }\r\n        </Breadcrumb>\r\n    )\r\n};\r\n","import { Result, Button } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport default function Error404() {\r\n    return (\r\n        <Result\r\n            status=\"404\"\r\n            title=\"404\"\r\n            subTitle=\"Sorry, the page you visited does not exist.\"\r\n            extra={<Link to=\"/\"><Button type=\"primary\">Back Home</Button></Link>}\r\n        />\r\n    );\r\n}\r\n\r\n","import { Avatar, Layout, Menu, Image } from \"antd\";\r\nimport { UserOutlined, LogoutOutlined } from '@ant-design/icons';\r\nimport commonObj from \"../../commonObj\";\r\n\r\n\r\n\r\n\r\nexport default function Top() {\r\n\r\n    const items = [\r\n        {\r\n            label: commonObj?.name ? commonObj.name : 'You',\r\n            icon: <Avatar shape=\"circle\" size={32}\r\n                src={\r\n                    commonObj?.avatar?.url\r\n                        ?\r\n                        <Image\r\n                            src={commonObj?.avatar.url}\r\n                            style={{\r\n                                width: 32,\r\n                            }}\r\n                            preview={false}\r\n                        />\r\n                        : null\r\n                }\r\n                icon={!commonObj?.avatar?.url ? <UserOutlined /> : null}\r\n            />,\r\n            key: 'profile',\r\n        },\r\n        {\r\n            label: 'Logout',\r\n            icon: <LogoutOutlined />,\r\n            key: 'logout',\r\n            style: { color: 'red' },\r\n            onClick: () => { window.localStorage.clear(); window.location.reload(); }\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <>\r\n            <Layout.Header style={{ padding: 0, height: 'auto' }} >\r\n                <Menu mode=\"horizontal\" items={items} style={{ lineHeight: '46px' }} />\r\n            </Layout.Header>\r\n        </>\r\n    );\r\n\r\n}","import React, { useState } from \"react\";\r\nimport { Card, Layout } from \"antd\";\r\nimport { Routes, Route } from \"react-router-dom\";\r\nimport Menu from \"./Menu\";\r\nimport routes from \"./route\";\r\nimport Breadcrumb from \"./Breadcrumb\";\r\nimport Error404 from \"../pages/errors/Error404\";\r\nimport Top from \"./Top\";\r\n\r\n\r\nconst newRoutes = [];\r\nfunction convertMultiToSingle(arr, prevBaseUrl = '') {\r\n    arr.forEach(v => {\r\n        if (v.children) {\r\n            convertMultiToSingle(v.children, prevBaseUrl + v.url);\r\n        } else {\r\n            newRoutes.push({ ...v, url: prevBaseUrl + v.url })\r\n        }\r\n    })\r\n}\r\nconvertMultiToSingle([...routes]);\r\n\r\n\r\nexport default function MyLayout() {\r\n    const [collapsed, setCollapsed] = useState(false);\r\n\r\n    return (\r\n        <>\r\n            <Layout style={{ minHeight: '100vh' }}>\r\n                <Layout.Sider\r\n                    width={250}\r\n                    collapsible collapsed={collapsed} onCollapse={(value) => setCollapsed(value)}\r\n                    style={{\r\n                        overflow: 'auto',\r\n                        height: '100vh',\r\n                        position: 'fixed',\r\n                        left: 0,\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        maxWidth: '300px!important',\r\n                        width: '300px!important'\r\n                    }}\r\n                >\r\n                    <div className=\"logo\" />\r\n                    <Menu />\r\n                </Layout.Sider>routes\r\n                <Layout className=\"site-layout\">\r\n                    <Top />\r\n\r\n                    <Layout.Content\r\n                        style={{\r\n                            margin: '24px 16px 0 240px',\r\n                            overflow: 'initial',\r\n                            marginLeft: !collapsed ? '230px' : '60px'\r\n                        }}\r\n                    >\r\n                        <Breadcrumb />\r\n                        <Card bordered>\r\n                            <Routes>\r\n                                {newRoutes.map((v) => <Route path={v.url} key={v.url} element={<v.component />} />)}\r\n                                <Route path={'*'} element={<Error404 />} />\r\n                            </Routes>\r\n                        </Card>\r\n                    </Layout.Content>\r\n                </Layout>\r\n            </Layout>\r\n        </>\r\n    );\r\n\r\n}"],"names":["style","textAlign","service","data","axios","this","baseURL","params","id","ids","MyPagination","props","qData","setQData","total","showTotal","start","page","limit","end","pageSize","current","onChange","pp","showSizeChanger","Search","addModalRef","selected","deleteData","list","onSubmitCapture","className","gutter","span","marginBottom","placeholder","value","key","e","target","allowClear","type","htmlType","float","icon","PlusOutlined","onClick","openForm","length","title","onConfirm","okText","cancelText","danger","DeleteOutlined","AddForm","forwardRef","ref","useState","ajxRequesting","setAjxRequesting","open","setOpen","setData","useImperativeHandle","dt","status","handleChange","v","k","save","then","res","AntdMsg","message","catch","err","Object","keys","finally","useEffect","_id","util","top","onOk","okButtonProps","disabled","onCancel","destroyOnClose","maskClosable","width","footer","spinning","indicator","LoadingOutlined","fontSize","spin","layout","label","required","code","url","config","UploadImage","fileList","setFileList","count","cropImage","listType","uploadImage","options","onSuccess","onError","file","onProgress","fmData","FormData","onUploadProgress","event","percent","loaded","append","fileService","uid","name","handleOnChange","fl","handleRemove","aspect","shape","quality","rotate","accept","customRequest","onRemove","addNewModalRef","modules","userName","password","phone","email","query","addAccess","commonObj","includes","editAccess","deleteAccess","Kalyanak","bhagwanId","jinalayaId","loading","setLoading","setSelected","isPopulate","useRef","columns","dataIndex","render","bhagwanDetails","hidden","row","size","EditOutlined","EyeOutlined","filter","item","map","extra","tableColumns","ellipsis","fixed","tableProps","bordered","showHeader","rowSelection","selectedRowKeys","tableLayout","undefined","level","pagination","position","dataSource","scroll","y","x","jinalayas","setJinalayas","bhagwan","setBhagwan","jinalayaService","isAll","ln","bhagwanService","setLn","changeForm","setChangeForm","entries","forEach","ent","varDt","split","i","parseInt","parentId","imgUrls","activeKey","items","children","borderTop","EnForm","HiForm","GuForm","tithi","jaap","birth","bc","destroyInactiveTabPane","moment","format","ad","KalyanakModal","Shala","jinalayaModelRef","isActive","color","JinalayaModel","showSearch","timing","contactDetails","parkingFacilities","available","remarks","distanceFrom","restRoomFacility","bathroom","toilet","locker","foundation","dharmShalaExt","acRoom","nonAcRoom","acHall","nonAcHall","totalFloor","liftFacilities","pathShalaExt","totalStudents","ayambiShalaExt","facilities","orientation","plain","labharthi","prachinta","address","rows","location","coordinates","number","MinusOutlined","vv","ii","height","optionType","buttonStyle","custom","morning","afternoon","evening","allDay","checked","mode","upashray","historyDetails","Jinalaya","lat","setLat","lng","setLng","isLoaded","useJsApiLoader","googleMapsApiKey","process","paddingBottom","center","zoom","mapContainerStyle","latLng","handlePos","shalaModalRef","kalyanakModalRef","ShalaModal","states","setStates","districts","setDistricts","locationService","stateId","districtId","cities","setCities","googleMapModalRef","GoogleModal","pratisthacharya","dhwajaLabharthi","isParshvanath","is24TirthankarJinalaya","cityId","pincode","City","rowData","setRowData","getDetails","District","cityModalRef","CityModal","DistrictModal","startDate","endDate","description","companyName","ageLimit","openingCount","experience","requiredGender","staying","food","contacts","parentName","age","gender","forOtherState","forOtherDistrict","forOtherCity","UserProfileModal","userId","orderData","setOrderData","cartData","setCartData","_","productDetails","columnOrder","orderTableColoumns","cartTableProps","orderTableProps","src","alt","avatar","firstName","lastName","SubCategory","categoryId","categories","setCategories","setFile","imgUrl","slug","SubCategoryModal","Products","productId","attributeDetails","attributes","setAttributes","attributeId","thumbFile","setThumbFile","thumbImgUrl","subCategories","setSubCategories","filterdData","categoryIds","subCategoryIds","optionLabelProp","price","actualPrice","hsn_code","inventory","metaTitle","metaTag","metaDescription","AttributeModal","fileType","priority","OrderDetails","orderId","ProductDetails","quantity","shippingAddress","paymentMethod","totalAmount","users","fileUrl","UploadOutlined","SingerFile","singerId","controls","dataValue","setDataValue","margin","console","log","Date","Photo","Video","YoutubeShorts","YoutubeVideo","singerType","setSingerType","singerTypeId","contactNos","singerTypeIds","SingerFileModal","setFileType","UploadAudio","onPreview","fetch","method","json","thumbnail","singers","setSingers","songUrl","serviceBhagwan","singerIds","lyrics","fileListAudio","setFileListAudio","stuti","stutiFile","cols","PhotosModal","userType","DashboardOutlined","component","Dashboard","AppstoreOutlined","textTransform","userProfileModalRef","ApartmentOutlined","BankOutlined","districtModalRef","expandable","CalendarOutlined","subCategoryModalRef","EcommSubCategory","attributeModalRef","singerFileDataModalRef","PhotosModalRef","yatraDetails","yatraId","setUsers","userService","UserOutlined","doSave","setDoSave","result","greetingTime","checkedChildren","unCheckedChildren","strong","editable","editing","triggerType","BorderOutlined","currentPassword","newPassword","confirmNewPassword","routes","convertMultiToSingle","arr","prevBaseUrl","to","paths","useLocation","pathname","reduce","prev","cur","push","defaultSelectedKeys","pop","defaultOpenKeys","newRoutes","MyBreadcrumb","breads","setBreads","reverse","separator","Error404","subTitle","Top","preview","LogoutOutlined","window","localStorage","clear","reload","padding","lineHeight","MyLayout","collapsed","setCollapsed","minHeight","collapsible","onCollapse","overflow","left","bottom","maxWidth","Menu","marginLeft","path","element"],"sourceRoot":""}